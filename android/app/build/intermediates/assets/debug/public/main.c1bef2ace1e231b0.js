(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(dn,pt,k)=>{"use strict";k.d(pt,{Am:()=>jn,Bd:()=>xe,FA:()=>et,Fy:()=>tt,I9:()=>Cn,Im:()=>Me,Ku:()=>Zt,Ll:()=>$e,T9:()=>pe,Uj:()=>Be,XA:()=>me,ZQ:()=>nt,bD:()=>Rt,c1:()=>$t,cY:()=>be,eX:()=>Ce,g:()=>Re,gR:()=>xn,hp:()=>gn,jZ:()=>Dt,lT:()=>Pt,lV:()=>Qt,mS:()=>Ve,nr:()=>Ie,p7:()=>kt,sr:()=>an,tD:()=>Xn,u:()=>fe,zW:()=>Z,zw:()=>Se});const J=function(Ae){const Pe=[];let Ze=0;for(let St=0;St<Ae.length;St++){let gt=Ae.charCodeAt(St);gt<128?Pe[Ze++]=gt:gt<2048?(Pe[Ze++]=gt>>6|192,Pe[Ze++]=63&gt|128):55296==(64512&gt)&&St+1<Ae.length&&56320==(64512&Ae.charCodeAt(St+1))?(gt=65536+((1023&gt)<<10)+(1023&Ae.charCodeAt(++St)),Pe[Ze++]=gt>>18|240,Pe[Ze++]=gt>>12&63|128,Pe[Ze++]=gt>>6&63|128,Pe[Ze++]=63&gt|128):(Pe[Ze++]=gt>>12|224,Pe[Ze++]=gt>>6&63|128,Pe[Ze++]=63&gt|128)}return Pe},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,Pe){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ze=Pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,St=[];for(let gt=0;gt<Ae.length;gt+=3){const vn=Ae[gt],En=gt+1<Ae.length,hr=En?Ae[gt+1]:0,Sr=gt+2<Ae.length,lt=Sr?Ae[gt+2]:0;let Ur=(15&hr)<<2|lt>>6,$r=63&lt;Sr||($r=64,En||(Ur=64)),St.push(Ze[vn>>2],Ze[(3&vn)<<4|hr>>4],Ze[Ur],Ze[$r])}return St.join("")},encodeString(Ae,Pe){return this.HAS_NATIVE_SUPPORT&&!Pe?btoa(Ae):this.encodeByteArray(J(Ae),Pe)},decodeString(Ae,Pe){return this.HAS_NATIVE_SUPPORT&&!Pe?atob(Ae):function(Ae){const Pe=[];let Ze=0,St=0;for(;Ze<Ae.length;){const gt=Ae[Ze++];if(gt<128)Pe[St++]=String.fromCharCode(gt);else if(gt>191&&gt<224){const vn=Ae[Ze++];Pe[St++]=String.fromCharCode((31&gt)<<6|63&vn)}else if(gt>239&&gt<365){const Sr=((7&gt)<<18|(63&Ae[Ze++])<<12|(63&Ae[Ze++])<<6|63&Ae[Ze++])-65536;Pe[St++]=String.fromCharCode(55296+(Sr>>10)),Pe[St++]=String.fromCharCode(56320+(1023&Sr))}else{const vn=Ae[Ze++],En=Ae[Ze++];Pe[St++]=String.fromCharCode((15&gt)<<12|(63&vn)<<6|63&En)}}return Pe.join("")}(this.decodeStringToByteArray(Ae,Pe))},decodeStringToByteArray(Ae,Pe){this.init_();const Ze=Pe?this.charToByteMapWebSafe_:this.charToByteMap_,St=[];for(let gt=0;gt<Ae.length;){const vn=Ze[Ae.charAt(gt++)],hr=gt<Ae.length?Ze[Ae.charAt(gt)]:0;++gt;const lt=gt<Ae.length?Ze[Ae.charAt(gt)]:64;++gt;const kn=gt<Ae.length?Ze[Ae.charAt(gt)]:64;if(++gt,null==vn||null==hr||null==lt||null==kn)throw new ve;St.push(vn<<2|hr>>4),64!==lt&&(St.push(hr<<4&240|lt>>2),64!==kn&&St.push(lt<<6&192|kn))}return St},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(Ae){return function(Ae){const Pe=J(Ae);return he.encodeByteArray(Pe,!0)}(Ae).replace(/\./g,"")},fe=function(Ae){try{return he.decodeString(Ae,!0)}catch(Pe){console.error("base64Decode failed: ",Pe)}return null};function Se(Ae,Pe){if(!(Pe instanceof Object))return Pe;switch(Pe.constructor){case Date:return new Date(Pe.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return Pe}for(const Ze in Pe)!Pe.hasOwnProperty(Ze)||!Fe(Ze)||(Ae[Ze]=Se(Ae[Ze],Pe[Ze]));return Ae}function Fe(Ae){return"__proto__"!==Ae}function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ke=()=>{try{return Ve().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Pe=Ae&&fe(Ae[1]);return Pe&&JSON.parse(Pe)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},pe=()=>{var Ae;return null===(Ae=Ke())||void 0===Ae?void 0:Ae.config},me=Ae=>{var Pe;return null===(Pe=Ke())||void 0===Pe?void 0:Pe[`_${Ae}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Pe,Ze)=>{this.resolve=Pe,this.reject=Ze})}wrapCallback(Pe){return(Ze,St)=>{Ze?this.reject(Ze):this.resolve(St),"function"==typeof Pe&&(this.promise.catch(()=>{}),1===Pe.length?Pe(Ze):Pe(Ze,St))}}}function tt(Ae,Pe){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const St=Pe||"demo-project",gt=Ae.iat||0,vn=Ae.sub||Ae.user_id;if(!vn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const En=Object.assign({iss:`https://securetoken.google.com/${St}`,aud:St,iat:gt,exp:gt+3600,auth_time:gt,sub:vn,user_id:vn,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(En)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function $e(){var Ae;const Pe=null===(Ae=Ke())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===Pe)return!0;if("browser"===Pe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xe(){return typeof window<"u"||kt()}function kt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function $t(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function an(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function Qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){const Ae=nt();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function Ie(){return!$e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((Ae,Pe)=>{try{let Ze=!0;const St="validate-browser-context-for-indexeddb-analytics-module",gt=self.indexedDB.open(St);gt.onsuccess=()=>{gt.result.close(),Ze||self.indexedDB.deleteDatabase(St),Ae(!0)},gt.onupgradeneeded=()=>{Ze=!1},gt.onerror=()=>{var vn;Pe((null===(vn=gt.error)||void 0===vn?void 0:vn.message)||"")}}catch(Ze){Pe(Ze)}})}class Re extends Error{constructor(Pe,Ze,St){super(Ze),this.code=Pe,this.customData=St,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{constructor(Pe,Ze,St){this.service=Pe,this.serviceName=Ze,this.errors=St}create(Pe,...Ze){const St=Ze[0]||{},gt=`${this.service}/${Pe}`,vn=this.errors[Pe],En=vn?function rt(Ae,Pe){return Ae.replace(Tt,(Ze,St)=>{const gt=Pe[St];return null!=gt?String(gt):`<${St}?>`})}(vn,St):"Error";return new Re(gt,`${this.serviceName}: ${En} (${gt}).`,St)}}const Tt=/\{\$([^}]+)}/g;function xn(Ae,Pe){return Object.prototype.hasOwnProperty.call(Ae,Pe)}function Me(Ae){for(const Pe in Ae)if(Object.prototype.hasOwnProperty.call(Ae,Pe))return!1;return!0}function Rt(Ae,Pe){if(Ae===Pe)return!0;const Ze=Object.keys(Ae),St=Object.keys(Pe);for(const gt of Ze){if(!St.includes(gt))return!1;const vn=Ae[gt],En=Pe[gt];if(vt(vn)&&vt(En)){if(!Rt(vn,En))return!1}else if(vn!==En)return!1}for(const gt of St)if(!Ze.includes(gt))return!1;return!0}function vt(Ae){return null!==Ae&&"object"==typeof Ae}function jn(Ae){const Pe=[];for(const[Ze,St]of Object.entries(Ae))Array.isArray(St)?St.forEach(gt=>{Pe.push(encodeURIComponent(Ze)+"="+encodeURIComponent(gt))}):Pe.push(encodeURIComponent(Ze)+"="+encodeURIComponent(St));return Pe.length?"&"+Pe.join("&"):""}function Cn(Ae){const Pe={};return Ae.replace(/^\?/,"").split("&").forEach(St=>{if(St){const[gt,vn]=St.split("=");Pe[decodeURIComponent(gt)]=decodeURIComponent(vn)}}),Pe}function gn(Ae){const Pe=Ae.indexOf("?");if(!Pe)return"";const Ze=Ae.indexOf("#",Pe);return Ae.substring(Pe,Ze>0?Ze:void 0)}function Xn(Ae,Pe){const Ze=new Gn(Ae,Pe);return Ze.subscribe.bind(Ze)}class Gn{constructor(Pe,Ze){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ze,this.task.then(()=>{Pe(this)}).catch(St=>{this.error(St)})}next(Pe){this.forEachObserver(Ze=>{Ze.next(Pe)})}error(Pe){this.forEachObserver(Ze=>{Ze.error(Pe)}),this.close(Pe)}complete(){this.forEachObserver(Pe=>{Pe.complete()}),this.close()}subscribe(Pe,Ze,St){let gt;if(void 0===Pe&&void 0===Ze&&void 0===St)throw new Error("Missing Observer.");gt=function Dr(Ae,Pe){if("object"!=typeof Ae||null===Ae)return!1;for(const Ze of Pe)if(Ze in Ae&&"function"==typeof Ae[Ze])return!0;return!1}(Pe,["next","error","complete"])?Pe:{next:Pe,error:Ze,complete:St},void 0===gt.next&&(gt.next=zr),void 0===gt.error&&(gt.error=zr),void 0===gt.complete&&(gt.complete=zr);const vn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?gt.error(this.finalError):gt.complete()}catch{}}),this.observers.push(gt),vn}unsubscribeOne(Pe){void 0===this.observers||void 0===this.observers[Pe]||(delete this.observers[Pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Pe){if(!this.finalized)for(let Ze=0;Ze<this.observers.length;Ze++)this.sendOne(Ze,Pe)}sendOne(Pe,Ze){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Pe])try{Ze(this.observers[Pe])}catch(St){typeof console<"u"&&console.error&&console.error(St)}})}close(Pe){this.finalized||(this.finalized=!0,void 0!==Pe&&(this.finalError=Pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zr(){}function Zt(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},4442:(dn,pt,k)=>{"use strict";k.d(pt,{L:()=>se,a:()=>he,b:()=>ve,c:()=>Oe,d:()=>Be,g:()=>Pt}),k(5531);const se="ionViewWillEnter",he="ionViewDidEnter",ve="ionViewWillLeave",Oe="ionViewDidLeave",Be="ionViewWillUnload",Pt=De=>De.classList.contains("ion-page")?De:De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||De},5531:(dn,pt,k)=>{"use strict";k.d(pt,{a:()=>fe,c:()=>f,g:()=>Be});class d{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,Ee){const Ie=this.m.get(De);return void 0!==Ie?Ie:Ee}getBoolean(De,Ee=!1){const Ie=this.m.get(De);return void 0===Ie?Ee:"string"==typeof Ie?"true"===Ie:!!Ie}getNumber(De,Ee){const Ie=parseFloat(this.m.get(De));return isNaN(Ie)?void 0!==Ee?Ee:NaN:Ie}set(De,Ee){this.m.set(De,Ee)}}const f=new d,Be=Pt=>ue(Pt),fe=(Pt,De)=>("string"==typeof Pt&&(De=Pt,Pt=void 0),Be(Pt).includes(De)),ue=(Pt=window)=>{if(typeof Pt>"u")return[];Pt.Ionic=Pt.Ionic||{};let De=Pt.Ionic.platforms;return null==De&&(De=Pt.Ionic.platforms=Se(Pt),De.forEach(Ee=>Pt.document.documentElement.classList.add(`plt-${Ee}`))),De},Se=Pt=>{const De=f.get("platform");return Object.keys($t).filter(Ee=>{const Ie=null==De?void 0:De[Ee];return"function"==typeof Ie?Ie(Pt):$t[Ee](Pt)})},Ve=Pt=>!!(xe(Pt,/iPad/i)||xe(Pt,/Macintosh/i)&&pe(Pt)),Ye=Pt=>xe(Pt,/android|sink/i),pe=Pt=>kt(Pt,"(any-pointer:coarse)"),be=Pt=>tt(Pt)||nt(Pt),tt=Pt=>!!(Pt.cordova||Pt.phonegap||Pt.PhoneGap),nt=Pt=>{const De=Pt.Capacitor;return!(null==De||!De.isNative)},xe=(Pt,De)=>De.test(Pt.navigator.userAgent),kt=(Pt,De)=>{var Ee;return null===(Ee=Pt.matchMedia)||void 0===Ee?void 0:Ee.call(Pt,De).matches},$t={ipad:Ve,iphone:Pt=>xe(Pt,/iPhone/i),ios:Pt=>xe(Pt,/iPhone|iPod/i)||Ve(Pt),android:Ye,phablet:Pt=>{const De=Pt.innerWidth,Ee=Pt.innerHeight,Ie=Math.min(De,Ee),Z=Math.max(De,Ee);return Ie>390&&Ie<520&&Z>620&&Z<800},tablet:Pt=>{const De=Pt.innerWidth,Ee=Pt.innerHeight,Ie=Math.min(De,Ee),Z=Math.max(De,Ee);return Ve(Pt)||(Pt=>Ye(Pt)&&!xe(Pt,/mobile/i))(Pt)||Ie>460&&Ie<820&&Z>780&&Z<1400},cordova:tt,capacitor:nt,electron:Pt=>xe(Pt,/electron/i),pwa:Pt=>{var De;return!!(null!==(De=Pt.matchMedia)&&void 0!==De&&De.call(Pt,"(display-mode: standalone)").matches||Pt.navigator.standalone)},mobile:pe,mobileweb:Pt=>pe(Pt)&&!be(Pt),desktop:Pt=>!pe(Pt),hybrid:be}},9986:(dn,pt,k)=>{"use strict";k.d(pt,{c:()=>he});var d=k(8476);let f;const J=(ve,Oe,Be)=>{const fe=Oe.startsWith("animation")?(ve=>(void 0===f&&(f=void 0===ve.style.animationName&&void 0!==ve.style.webkitAnimationName?"-webkit-":""),f))(ve):"";ve.style.setProperty(fe+Oe,Be)},se=(ve=[],Oe)=>{if(void 0!==Oe){const Be=Array.isArray(Oe)?Oe:[Oe];return[...ve,...Be]}return ve},he=ve=>{let Oe,Be,fe,ue,Se,Fe,Ke,Dt,$e,xe,Qt,Ve=[],We=[],it=[],Ye=!1,qe={},st=[],pe=[],me={},be=0,tt=!1,nt=!1,kt=!0,$t=!1,an=!0,Tn=!1;const Pt=ve,De=[],Ee=[],Ie=[],Z=[],Ce=[],Xe=[],je=[],Re=[],et=[],rt=[],Tt=[],yn="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,at="function"==typeof Element&&"function"==typeof Element.prototype.animate&&yn,rn=()=>Tt,xn=(Q,ye)=>{const ft=ye.findIndex(Bt=>Bt.c===Q);ft>-1&&ye.splice(ft,1)},Me=(Q,ye)=>((null!=ye&&ye.oneTimeCallback?Ee:De).push({c:Q,o:ye}),Qt),Rt=()=>{at&&(Tt.forEach(Q=>{Q.cancel()}),Tt.length=0)},vt=()=>{Xe.forEach(Q=>{null!=Q&&Q.parentNode&&Q.parentNode.removeChild(Q)}),Xe.length=0},Wn=()=>void 0!==Se?Se:Ke?Ke.getFill():"both",ir=()=>void 0!==Dt?Dt:void 0!==Fe?Fe:Ke?Ke.getDirection():"normal",cn=()=>tt?"linear":void 0!==fe?fe:Ke?Ke.getEasing():"linear",Kr=()=>nt?0:void 0!==$e?$e:void 0!==Be?Be:Ke?Ke.getDuration():0,Mn=()=>void 0!==ue?ue:Ke?Ke.getIterations():1,qn=()=>void 0!==xe?xe:void 0!==Oe?Oe:Ke?Ke.getDelay():0,En=()=>{0!==be&&(be--,0===be&&((()=>{et.forEach(Jt=>Jt()),rt.forEach(Jt=>Jt());const Q=kt?1:0,ye=st,ft=pe,Bt=me;Z.forEach(Jt=>{const Fn=Jt.classList;ye.forEach(Dn=>Fn.add(Dn)),ft.forEach(Dn=>Fn.remove(Dn));for(const Dn in Bt)Bt.hasOwnProperty(Dn)&&J(Jt,Dn,Bt[Dn])}),$e=void 0,Dt=void 0,xe=void 0,De.forEach(Jt=>Jt.c(Q,Qt)),Ee.forEach(Jt=>Jt.c(Q,Qt)),Ee.length=0,an=!0,kt&&($t=!0),kt=!0})(),Ke&&Ke.animationFinish()))},Sr=()=>{(()=>{je.forEach(Bt=>Bt()),Re.forEach(Bt=>Bt());const Q=We,ye=it,ft=qe;Z.forEach(Bt=>{const Jt=Bt.classList;Q.forEach(Fn=>Jt.add(Fn)),ye.forEach(Fn=>Jt.remove(Fn));for(const Fn in ft)ft.hasOwnProperty(Fn)&&J(Bt,Fn,ft[Fn])})})(),Ve.length>0&&at&&(Z.forEach(Q=>{const ye=Q.animate(Ve,{id:Pt,delay:qn(),duration:Kr(),easing:cn(),iterations:Mn(),fill:Wn(),direction:ir()});ye.pause(),Tt.push(ye)}),Tt.length>0&&(Tt[0].onfinish=()=>{En()})),Ye=!0},lt=Q=>{Q=Math.min(Math.max(Q,0),.9999),at&&Tt.forEach(ye=>{ye.currentTime=ye.effect.getComputedTiming().delay+Kr()*Q,ye.pause()})},gr=Q=>{Tt.forEach(ye=>{ye.effect.updateTiming({delay:qn(),duration:Kr(),easing:cn(),iterations:Mn(),fill:Wn(),direction:ir()})}),void 0!==Q&&lt(Q)},kn=(Q=!1,ye=!0,ft)=>(Q&&Ce.forEach(Bt=>{Bt.update(Q,ye,ft)}),at&&gr(ft),Qt),qr=()=>{Ye&&(at?Tt.forEach(Q=>{Q.pause()}):Z.forEach(Q=>{J(Q,"animation-play-state","paused")}),Tn=!0)},ar=Q=>new Promise(ye=>{null!=Q&&Q.sync&&(nt=!0,Me(()=>nt=!1,{oneTimeCallback:!0})),Ye||Sr(),$t&&(at&&(lt(0),gr()),$t=!1),an&&(be=Ce.length+1,an=!1);const ft=()=>{xn(Bt,Ee),ye()},Bt=()=>{xn(ft,Ie),ye()};Me(Bt,{oneTimeCallback:!0}),(Q=>{Ie.push({c:Q,o:{oneTimeCallback:!0}})})(ft),Ce.forEach(Jt=>{Jt.play()}),at?(Tt.forEach(Q=>{Q.play()}),(0===Ve.length||0===Z.length)&&En()):En(),Tn=!1}),G=(Q,ye)=>{const ft=Ve[0];return void 0===ft||void 0!==ft.offset&&0!==ft.offset?Ve=[{offset:0,[Q]:ye},...Ve]:ft[Q]=ye,Qt};return Qt={parentAnimation:Ke,elements:Z,childAnimations:Ce,id:Pt,animationFinish:En,from:G,to:(Q,ye)=>{const ft=Ve[Ve.length-1];return void 0===ft||void 0!==ft.offset&&1!==ft.offset?Ve=[...Ve,{offset:1,[Q]:ye}]:ft[Q]=ye,Qt},fromTo:(Q,ye,ft)=>G(Q,ye).to(Q,ft),parent:Q=>(Ke=Q,Qt),play:ar,pause:()=>(Ce.forEach(Q=>{Q.pause()}),qr(),Qt),stop:()=>{Ce.forEach(Q=>{Q.stop()}),Ye&&(Rt(),Ye=!1),tt=!1,nt=!1,an=!0,Dt=void 0,$e=void 0,xe=void 0,be=0,$t=!1,kt=!0,Tn=!1,Ie.forEach(Q=>Q.c(0,Qt)),Ie.length=0},destroy:Q=>(Ce.forEach(ye=>{ye.destroy(Q)}),(Q=>{Rt(),Q&&vt()})(Q),Z.length=0,Ce.length=0,Ve.length=0,De.length=0,Ee.length=0,Ye=!1,an=!0,Qt),keyframes:Q=>{const ye=Ve!==Q;return Ve=Q,ye&&(Q=>{at&&rn().forEach(ye=>{const ft=ye.effect;if(ft.setKeyframes)ft.setKeyframes(Q);else{const Bt=new KeyframeEffect(ft.target,Q,ft.getTiming());ye.effect=Bt}})})(Ve),Qt},addAnimation:Q=>{if(null!=Q)if(Array.isArray(Q))for(const ye of Q)ye.parent(Qt),Ce.push(ye);else Q.parent(Qt),Ce.push(Q);return Qt},addElement:Q=>{if(null!=Q)if(1===Q.nodeType)Z.push(Q);else if(Q.length>=0)for(let ye=0;ye<Q.length;ye++)Z.push(Q[ye]);else console.error("Invalid addElement value");return Qt},update:kn,fill:Q=>(Se=Q,kn(!0),Qt),direction:Q=>(Fe=Q,kn(!0),Qt),iterations:Q=>(ue=Q,kn(!0),Qt),duration:Q=>(!at&&0===Q&&(Q=1),Be=Q,kn(!0),Qt),easing:Q=>(fe=Q,kn(!0),Qt),delay:Q=>(Oe=Q,kn(!0),Qt),getWebAnimations:rn,getKeyframes:()=>Ve,getFill:Wn,getDirection:ir,getDelay:qn,getIterations:Mn,getEasing:cn,getDuration:Kr,afterAddRead:Q=>(et.push(Q),Qt),afterAddWrite:Q=>(rt.push(Q),Qt),afterClearStyles:(Q=[])=>{for(const ye of Q)me[ye]="";return Qt},afterStyles:(Q={})=>(me=Q,Qt),afterRemoveClass:Q=>(pe=se(pe,Q),Qt),afterAddClass:Q=>(st=se(st,Q),Qt),beforeAddRead:Q=>(je.push(Q),Qt),beforeAddWrite:Q=>(Re.push(Q),Qt),beforeClearStyles:(Q=[])=>{for(const ye of Q)qe[ye]="";return Qt},beforeStyles:(Q={})=>(qe=Q,Qt),beforeRemoveClass:Q=>(it=se(it,Q),Qt),beforeAddClass:Q=>(We=se(We,Q),Qt),onFinish:Me,isRunning:()=>0!==be&&!Tn,progressStart:(Q=!1,ye)=>(Ce.forEach(ft=>{ft.progressStart(Q,ye)}),qr(),tt=Q,Ye||Sr(),kn(!1,!0,ye),Qt),progressStep:Q=>(Ce.forEach(ye=>{ye.progressStep(Q)}),lt(Q),Qt),progressEnd:(Q,ye,ft)=>(tt=!1,Ce.forEach(Bt=>{Bt.progressEnd(Q,ye,ft)}),void 0!==ft&&($e=ft),$t=!1,kt=!0,0===Q?(Dt="reverse"===ir()?"normal":"reverse","reverse"===Dt&&(kt=!1),at?(kn(),lt(1-ye)):(xe=(1-ye)*Kr()*-1,kn(!1,!1))):1===Q&&(at?(kn(),lt(ye)):(xe=ye*Kr()*-1,kn(!1,!1))),void 0!==Q&&!Ke&&ar(),Qt)}}},464:(dn,pt,k)=>{"use strict";k.d(pt,{E:()=>fe,a:()=>d,s:()=>Oe});const d=ue=>{try{if(ue instanceof ve)return ue.value;if(!J()||"string"!=typeof ue||""===ue)return ue;if(ue.includes("onload="))return"";const Se=document.createDocumentFragment(),Fe=document.createElement("div");Se.appendChild(Fe),Fe.innerHTML=ue,he.forEach(Ye=>{const Ke=Se.querySelectorAll(Ye);for(let qe=Ke.length-1;qe>=0;qe--){const st=Ke[qe];st.parentNode?st.parentNode.removeChild(st):Se.removeChild(st);const pe=Y(st);for(let me=0;me<pe.length;me++)f(pe[me])}});const Ve=Y(Se);for(let Ye=0;Ye<Ve.length;Ye++)f(Ve[Ye]);const We=document.createElement("div");We.appendChild(Se);const it=We.querySelector("div");return null!==it?it.innerHTML:We.innerHTML}catch(Se){return console.error(Se),""}},f=ue=>{if(ue.nodeType&&1!==ue.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ue.attributes instanceof NamedNodeMap))return void ue.remove();for(let Fe=ue.attributes.length-1;Fe>=0;Fe--){const Ve=ue.attributes.item(Fe),We=Ve.name;if(!se.includes(We.toLowerCase())){ue.removeAttribute(We);continue}const it=Ve.value,Ye=ue[We];(null!=it&&it.toLowerCase().includes("javascript:")||null!=Ye&&Ye.toLowerCase().includes("javascript:"))&&ue.removeAttribute(We)}const Se=Y(ue);for(let Fe=0;Fe<Se.length;Fe++)f(Se[Fe])},Y=ue=>null!=ue.children?ue.children:ue.childNodes,J=()=>{var ue;const Se=window,Fe=null===(ue=null==Se?void 0:Se.Ionic)||void 0===ue?void 0:ue.config;return!Fe||(Fe.get?Fe.get("sanitizerEnabled",!0):!0===Fe.sanitizerEnabled||void 0===Fe.sanitizerEnabled)},se=["class","id","href","src","name","slot"],he=["script","style","iframe","meta","link","object","embed"];class ve{constructor(Se){this.value=Se}}const Oe=ue=>{const Se=window,Fe=Se.Ionic;if(!Fe||!Fe.config||"Object"===Fe.config.constructor.name)return Se.Ionic=Se.Ionic||{},Se.Ionic.config=Object.assign(Object.assign({},Se.Ionic.config),ue),Se.Ionic.config},fe=!1},8621:(dn,pt,k)=>{"use strict";k.d(pt,{C:()=>se,a:()=>Y,d:()=>J});var d=k(467),f=k(4920);const Y=function(){var he=(0,d.A)(function*(ve,Oe,Be,fe,ue,Se){var Fe;if(ve)return ve.attachViewToDom(Oe,Be,ue,fe);if(!(Se||"string"==typeof Be||Be instanceof HTMLElement))throw new Error("framework delegate is missing");const Ve="string"==typeof Be?null===(Fe=Oe.ownerDocument)||void 0===Fe?void 0:Fe.createElement(Be):Be;return fe&&fe.forEach(We=>Ve.classList.add(We)),ue&&Object.assign(Ve,ue),Oe.appendChild(Ve),yield new Promise(We=>(0,f.c)(Ve,We)),Ve});return function(Oe,Be,fe,ue,Se,Fe){return he.apply(this,arguments)}}(),J=(he,ve)=>{if(ve){if(he)return he.removeViewFromDom(ve.parentElement,ve);ve.remove()}return Promise.resolve()},se=()=>{let he,ve;return{attachViewToDom:function(){var fe=(0,d.A)(function*(ue,Se,Fe={},Ve=[]){var We,it;let Ye;if(he=ue,Se){const qe="string"==typeof Se?null===(We=he.ownerDocument)||void 0===We?void 0:We.createElement(Se):Se;Ve.forEach(st=>qe.classList.add(st)),Object.assign(qe,Fe),he.appendChild(qe),Ye=qe,yield new Promise(st=>(0,f.c)(qe,st))}else if(he.children.length>0&&("ION-MODAL"===he.tagName||"ION-POPOVER"===he.tagName)&&!(Ye=he.children[0]).classList.contains("ion-delegate-host")){const st=null===(it=he.ownerDocument)||void 0===it?void 0:it.createElement("div");st.classList.add("ion-delegate-host"),Ve.forEach(pe=>st.classList.add(pe)),st.append(...he.children),he.appendChild(st),Ye=st}const Ke=document.querySelector("ion-app")||document.body;return ve=document.createComment("ionic teleport"),he.parentNode.insertBefore(ve,he),Ke.appendChild(he),null!=Ye?Ye:he});return function(Se,Fe){return fe.apply(this,arguments)}}(),removeViewFromDom:()=>(he&&ve&&(ve.parentNode.insertBefore(he,ve),ve.remove()),Promise.resolve())}}},1970:(dn,pt,k)=>{"use strict";k.d(pt,{B:()=>J,G:()=>se});class f{constructor(ve,Oe,Be,fe,ue){this.id=Oe,this.name=Be,this.disableScroll=ue,this.priority=1e6*fe+Oe,this.ctrl=ve}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ve=this.ctrl.capture(this.name,this.id,this.priority);return ve&&this.disableScroll&&this.ctrl.disableScroll(this.id),ve}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Y{constructor(ve,Oe,Be,fe){this.id=Oe,this.disable=Be,this.disableScroll=fe,this.ctrl=ve}block(){if(this.ctrl){if(this.disable)for(const ve of this.disable)this.ctrl.disableGesture(ve,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ve of this.disable)this.ctrl.enableGesture(ve,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const J="backdrop-no-scroll",se=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ve){var Oe;return new f(this,this.newID(),ve.name,null!==(Oe=ve.priority)&&void 0!==Oe?Oe:0,!!ve.disableScroll)}createBlocker(ve={}){return new Y(this,this.newID(),ve.disable,!!ve.disableScroll)}start(ve,Oe,Be){return this.canStart(ve)?(this.requestedStart.set(Oe,Be),!0):(this.requestedStart.delete(Oe),!1)}capture(ve,Oe,Be){if(!this.start(ve,Oe,Be))return!1;const fe=this.requestedStart;let ue=-1e4;if(fe.forEach(Se=>{ue=Math.max(ue,Se)}),ue===Be){this.capturedId=Oe,fe.clear();const Se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ve}});return document.dispatchEvent(Se),!0}return fe.delete(Oe),!1}release(ve){this.requestedStart.delete(ve),this.capturedId===ve&&(this.capturedId=void 0)}disableGesture(ve,Oe){let Be=this.disabledGestures.get(ve);void 0===Be&&(Be=new Set,this.disabledGestures.set(ve,Be)),Be.add(Oe)}enableGesture(ve,Oe){const Be=this.disabledGestures.get(ve);void 0!==Be&&Be.delete(Oe)}disableScroll(ve){this.disabledScroll.add(ve),1===this.disabledScroll.size&&document.body.classList.add(J)}enableScroll(ve){this.disabledScroll.delete(ve),0===this.disabledScroll.size&&document.body.classList.remove(J)}canStart(ve){return!(void 0!==this.capturedId||this.isDisabled(ve))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ve){const Oe=this.disabledGestures.get(ve);return!!(Oe&&Oe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(dn,pt,k)=>{"use strict";k.r(pt),k.d(pt,{MENU_BACK_BUTTON_PRIORITY:()=>Be,OVERLAY_BACK_BUTTON_PRIORITY:()=>Oe,blockHardwareBackButton:()=>he,shouldUseCloseWatcher:()=>se,startHardwareBackButton:()=>ve});var d=k(467),f=k(8476),Y=k(9483);k(4261);const se=()=>Y.c.get("experimentalCloseWatcher",!1)&&void 0!==f.w&&"CloseWatcher"in f.w,he=()=>{document.addEventListener("backbutton",()=>{})},ve=()=>{const fe=document;let ue=!1;const Se=()=>{if(ue)return;let Fe=0,Ve=[];const We=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ke,qe){Ve.push({priority:Ke,handler:qe,id:Fe++})}}});fe.dispatchEvent(We);const it=function(){var Ke=(0,d.A)(function*(qe){try{if(null!=qe&&qe.handler){const st=qe.handler(Ye);null!=st&&(yield st)}}catch(st){console.error(st)}});return function(st){return Ke.apply(this,arguments)}}(),Ye=()=>{if(Ve.length>0){let Ke={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ve.forEach(qe=>{qe.priority>=Ke.priority&&(Ke=qe)}),ue=!0,Ve=Ve.filter(qe=>qe.id!==Ke.id),it(Ke).then(()=>ue=!1)}};Ye()};if(se()){let Fe;const Ve=()=>{null==Fe||Fe.destroy(),Fe=new f.w.CloseWatcher,Fe.onclose=()=>{Se(),Ve()}};Ve()}else fe.addEventListener("backbutton",Se)},Oe=100,Be=99},4920:(dn,pt,k)=>{"use strict";k.d(pt,{a:()=>Oe,b:()=>Be,c:()=>Y,d:()=>Ve,e:()=>qe,f:()=>Fe,g:()=>fe,h:()=>se,i:()=>ve,j:()=>We,k:()=>J,l:()=>Se,m:()=>it,n:()=>Ke,o:()=>st,p:()=>Ye,r:()=>ue,s:()=>pe,t:()=>d});const d=(me,be=0)=>new Promise(tt=>{f(me,be,tt)}),f=(me,be=0,tt)=>{let nt,Dt;const $e={passive:!0},kt=()=>{nt&&nt()},$t=an=>{(void 0===an||me===an.target)&&(kt(),tt(an))};return me&&(me.addEventListener("webkitTransitionEnd",$t,$e),me.addEventListener("transitionend",$t,$e),Dt=setTimeout($t,be+500),nt=()=>{void 0!==Dt&&(clearTimeout(Dt),Dt=void 0),me.removeEventListener("webkitTransitionEnd",$t,$e),me.removeEventListener("transitionend",$t,$e)}),kt},Y=(me,be)=>{me.componentOnReady?me.componentOnReady().then(tt=>be(tt)):ue(()=>be(me))},J=me=>void 0!==me.componentOnReady,se=(me,be=[])=>{const tt={};return be.forEach(nt=>{me.hasAttribute(nt)&&(null!==me.getAttribute(nt)&&(tt[nt]=me.getAttribute(nt)),me.removeAttribute(nt))}),tt},he=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ve=(me,be)=>{let tt=he;return be&&be.length>0&&(tt=tt.filter(nt=>!be.includes(nt))),se(me,tt)},Oe=(me,be,tt,nt)=>{var Dt;if(typeof window<"u"){const $e=window,xe=null===(Dt=null==$e?void 0:$e.Ionic)||void 0===Dt?void 0:Dt.config;if(xe){const kt=xe.get("_ael");if(kt)return kt(me,be,tt,nt);if(xe._ael)return xe._ael(me,be,tt,nt)}}return me.addEventListener(be,tt,nt)},Be=(me,be,tt,nt)=>{var Dt;if(typeof window<"u"){const $e=window,xe=null===(Dt=null==$e?void 0:$e.Ionic)||void 0===Dt?void 0:Dt.config;if(xe){const kt=xe.get("_rel");if(kt)return kt(me,be,tt,nt);if(xe._rel)return xe._rel(me,be,tt,nt)}}return me.removeEventListener(be,tt,nt)},fe=(me,be=me)=>me.shadowRoot||be,ue=me=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(me):"function"==typeof requestAnimationFrame?requestAnimationFrame(me):setTimeout(me),Se=me=>!!me.shadowRoot&&!!me.attachShadow,Fe=me=>{if(me.focus(),me.classList.contains("ion-focusable")){const be=me.closest("ion-app");be&&be.setFocus([me])}},Ve=(me,be,tt,nt,Dt)=>{if(me||Se(be)){let $e=be.querySelector("input.aux-input");$e||($e=be.ownerDocument.createElement("input"),$e.type="hidden",$e.classList.add("aux-input"),be.appendChild($e)),$e.disabled=Dt,$e.name=tt,$e.value=nt||""}},We=(me,be,tt)=>Math.max(me,Math.min(be,tt)),it=(me,be)=>{if(!me){const tt="ASSERT: "+be;throw console.error(tt),new Error(tt)}},Ye=me=>{if(me){const be=me.changedTouches;if(be&&be.length>0){const tt=be[0];return{x:tt.clientX,y:tt.clientY}}if(void 0!==me.pageX)return{x:me.pageX,y:me.pageY}}return{x:0,y:0}},Ke=me=>{const be="rtl"===document.dir;switch(me){case"start":return be;case"end":return!be;default:throw new Error(`"${me}" is not a valid value for [side]. Use "start" or "end" instead.`)}},qe=(me,be)=>{const tt=me._original||me;return{_original:me,emit:st(tt.emit.bind(tt),be)}},st=(me,be=0)=>{let tt;return(...nt)=>{clearTimeout(tt),tt=setTimeout(me,be,...nt)}},pe=(me,be)=>{if(null!=me||(me={}),null!=be||(be={}),me===be)return!0;const tt=Object.keys(me);if(tt.length!==Object.keys(be).length)return!1;for(const nt of tt)if(!(nt in be)||me[nt]!==be[nt])return!1;return!0}},1702:(dn,pt,k)=>{"use strict";k.d(pt,{m:()=>Fe});var d=k(467),f=k(8476),Y=k(7192),J=k(4929),se=k(4920),he=k(9483),ve=k(9986);const Oe=Ve=>(0,ve.c)().duration(Ve?400:300),Be=Ve=>{let We,it;const Ye=Ve.width+8,Ke=(0,ve.c)(),qe=(0,ve.c)();Ve.isEndSide?(We=Ye+"px",it="0px"):(We=-Ye+"px",it="0px"),Ke.addElement(Ve.menuInnerEl).fromTo("transform",`translateX(${We})`,`translateX(${it})`);const pe="ios"===(0,he.b)(Ve),me=pe?.2:.25;return qe.addElement(Ve.backdropEl).fromTo("opacity",.01,me),Oe(pe).addAnimation([Ke,qe])},fe=Ve=>{let We,it;const Ye=(0,he.b)(Ve),Ke=Ve.width;Ve.isEndSide?(We=-Ke+"px",it=Ke+"px"):(We=Ke+"px",it=-Ke+"px");const qe=(0,ve.c)().addElement(Ve.menuInnerEl).fromTo("transform",`translateX(${it})`,"translateX(0px)"),st=(0,ve.c)().addElement(Ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${We})`),pe=(0,ve.c)().addElement(Ve.backdropEl).fromTo("opacity",.01,.32);return Oe("ios"===Ye).addAnimation([qe,st,pe])},ue=Ve=>{const We=(0,he.b)(Ve),it=Ve.width*(Ve.isEndSide?-1:1)+"px",Ye=(0,ve.c)().addElement(Ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${it})`);return Oe("ios"===We).addAnimation(Ye)},Fe=(()=>{const Ve=new Map,We=[],it=function(){var Ie=(0,d.A)(function*(Z){const Ce=yield be(Z,!0);return!!Ce&&Ce.open()});return function(Ce){return Ie.apply(this,arguments)}}(),Ye=function(){var Ie=(0,d.A)(function*(Z){const Ce=yield void 0!==Z?be(Z,!0):tt();return void 0!==Ce&&Ce.close()});return function(Ce){return Ie.apply(this,arguments)}}(),Ke=function(){var Ie=(0,d.A)(function*(Z){const Ce=yield be(Z,!0);return!!Ce&&Ce.toggle()});return function(Ce){return Ie.apply(this,arguments)}}(),qe=function(){var Ie=(0,d.A)(function*(Z,Ce){const Xe=yield be(Ce);return Xe&&(Xe.disabled=!Z),Xe});return function(Ce,Xe){return Ie.apply(this,arguments)}}(),st=function(){var Ie=(0,d.A)(function*(Z,Ce){const Xe=yield be(Ce);return Xe&&(Xe.swipeGesture=Z),Xe});return function(Ce,Xe){return Ie.apply(this,arguments)}}(),pe=function(){var Ie=(0,d.A)(function*(Z){if(null!=Z){const Ce=yield be(Z);return void 0!==Ce&&Ce.isOpen()}return void 0!==(yield tt())});return function(Ce){return Ie.apply(this,arguments)}}(),me=function(){var Ie=(0,d.A)(function*(Z){const Ce=yield be(Z);return!!Ce&&!Ce.disabled});return function(Ce){return Ie.apply(this,arguments)}}(),be=function(){var Ie=(0,d.A)(function*(Z,Ce=!1){if(yield Ee(),"start"===Z||"end"===Z){const je=We.filter(et=>et.side===Z&&!et.disabled);if(je.length>=1)return je.length>1&&Ce&&(0,J.p)(`menuController queried for a menu on the "${Z}" side, but ${je.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,je.map(et=>et.el)),je[0].el;const Re=We.filter(et=>et.side===Z);if(Re.length>=1)return Re.length>1&&Ce&&(0,J.p)(`menuController queried for a menu on the "${Z}" side, but ${Re.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Re.map(et=>et.el)),Re[0].el}else if(null!=Z)return De(je=>je.menuId===Z);return De(je=>!je.disabled)||(We.length>0?We[0].el:void 0)});return function(Ce){return Ie.apply(this,arguments)}}(),tt=function(){var Ie=(0,d.A)(function*(){return yield Ee(),Qt()});return function(){return Ie.apply(this,arguments)}}(),nt=function(){var Ie=(0,d.A)(function*(){return yield Ee(),Tn()});return function(){return Ie.apply(this,arguments)}}(),Dt=function(){var Ie=(0,d.A)(function*(){return yield Ee(),Pt()});return function(){return Ie.apply(this,arguments)}}(),$e=(Ie,Z)=>{Ve.set(Ie,Z)},$t=function(){var Ie=(0,d.A)(function*(Z,Ce,Xe,je){if(Pt())return!1;if(Ce){const Re=yield tt();Re&&Z.el!==Re&&(yield Re.setOpen(!1,!1))}return Z._setOpen(Ce,Xe,je)});return function(Ce,Xe,je,Re){return Ie.apply(this,arguments)}}(),Qt=()=>De(Ie=>Ie._isOpen),Tn=()=>We.map(Ie=>Ie.el),Pt=()=>We.some(Ie=>Ie.isAnimating),De=Ie=>{const Z=We.find(Ie);if(void 0!==Z)return Z.el},Ee=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ie=>new Promise(Z=>(0,se.c)(Ie,Z))));return $e("reveal",ue),$e("push",fe),$e("overlay",Be),null==f.d||f.d.addEventListener("ionBackButton",Ie=>{const Z=Qt();Z&&Ie.detail.register(Y.MENU_BACK_BUTTON_PRIORITY,()=>Z.close())}),{registerAnimation:$e,get:be,getMenus:nt,getOpen:tt,isEnabled:me,swipeGesture:st,isAnimating:Dt,isOpen:pe,enable:qe,toggle:Ke,close:Ye,open:it,_getOpenSync:Qt,_createAnimation:(Ie,Z)=>{const Ce=Ve.get(Ie);if(!Ce)throw new Error("animation not registered");return Ce(Z)},_register:Ie=>{We.indexOf(Ie)<0&&We.push(Ie)},_unregister:Ie=>{const Z=We.indexOf(Ie);Z>-1&&We.splice(Z,1)},_setOpen:$t}})()},4261:(dn,pt,k)=>{"use strict";k.d(pt,{B:()=>he,a:()=>an,b:()=>Qi,c:()=>Wn,d:()=>Mn,e:()=>et,f:()=>gn,g:()=>ir,h:()=>jn,i:()=>Kr,j:()=>oi,k:()=>Tt,r:()=>Be,w:()=>rt});var d=k(467);var J=Object.defineProperty,he={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ve=new WeakMap,Oe=E=>ve.get(E),Be=(E,M)=>ve.set(M.$lazyInstance$=E,M),ue=(E,M)=>M in E,Se=(E,M)=>(0,console.error)(E,M),Fe=new Map,We=new Map,it=[],pe="s-id",nt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Dt="http://www.w3.org/1999/xlink",$e=typeof window<"u"?window:{},xe=$e.document||{head:{}},$t={$flags$:0,$resourcesUrl$:"",jmp:E=>E(),raf:E=>requestAnimationFrame(E),ael:(E,M,C,U)=>E.addEventListener(M,C,U),rel:(E,M,C,U)=>E.removeEventListener(M,C,U),ce:(E,M)=>new CustomEvent(E,M)},an=E=>{Object.assign($t,E)},Tn=(()=>{let E=!1;try{xe.addEventListener("e",null,Object.defineProperty({},"passive",{get(){E=!0}}))}catch{}return E})(),De=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ee=!1,Ie=[],Z=[],Ce=(E,M)=>C=>{E.push(C),Ee||(Ee=!0,M&&4&$t.$flags$?Re(je):$t.raf(je))},Xe=E=>{for(let M=0;M<E.length;M++)try{E[M](performance.now())}catch(C){Se(C)}E.length=0},je=()=>{Xe(Ie),Xe(Z),(Ee=Ie.length>0)&&$t.raf(je)},Re=E=>Promise.resolve(void 0).then(E),et=Ce(Ie,!1),rt=Ce(Z,!0),Tt=E=>{const M=new URL(E,$t.$resourcesUrl$);return M.origin!==$e.location.origin?M.href:M.pathname},yn={},Sn=E=>"object"==(E=typeof E)||"function"===E;function Nt(E){var M,C,U;return null!=(U=null==(C=null==(M=E.head)?void 0:M.querySelector('meta[name="csp-nonce"]'))?void 0:C.getAttribute("content"))?U:void 0}((E,M)=>{for(var C in M)J(E,C,{get:M[C],enumerable:!0})})({},{err:()=>zt,map:()=>Me,ok:()=>xn,unwrap:()=>Le,unwrapErr:()=>Rt});var xn=E=>({isOk:!0,isErr:!1,value:E}),zt=E=>({isOk:!1,isErr:!0,value:E});function Me(E,M){if(E.isOk){const C=M(E.value);return C instanceof Promise?C.then(U=>xn(U)):xn(C)}if(E.isErr)return zt(E.value);throw"should never get here"}var Le=E=>{if(E.isOk)return E.value;throw E.value},Rt=E=>{if(E.isErr)return E.value;throw E.value},jn=(E,M,...C)=>{let U=null,ee=null,He=null,Vt=!1,mt=!1;const Lt=[],Wt=_n=>{for(let Nn=0;Nn<_n.length;Nn++)U=_n[Nn],Array.isArray(U)?Wt(U):null!=U&&"boolean"!=typeof U&&((Vt="function"!=typeof E&&!Sn(U))&&(U=String(U)),Vt&&mt?Lt[Lt.length-1].$text$+=U:Lt.push(Vt?Cn(null,U):U),mt=Vt)};if(Wt(C),M){M.key&&(ee=M.key),M.name&&(He=M.name);{const _n=M.className||M.class;_n&&(M.class="object"!=typeof _n?_n:Object.keys(_n).filter(Nn=>_n[Nn]).join(" "))}}if("function"==typeof E)return E(null===M?{}:M,Lt,Xn);const ln=Cn(E,null);return ln.$attrs$=M,Lt.length>0&&(ln.$children$=Lt),ln.$key$=ee,ln.$name$=He,ln},Cn=(E,M)=>({$flags$:0,$tag$:E,$text$:M,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),gn={},Xn={forEach:(E,M)=>E.map(Gn).forEach(M),map:(E,M)=>E.map(Gn).map(M).map(tr)},Gn=E=>({vattrs:E.$attrs$,vchildren:E.$children$,vkey:E.$key$,vname:E.$name$,vtag:E.$tag$,vtext:E.$text$}),tr=E=>{if("function"==typeof E.vtag){const C={...E.vattrs};return E.vkey&&(C.key=E.vkey),E.vname&&(C.name=E.vname),jn(E.vtag,C,...E.vchildren||[])}const M=Cn(E.vtag,E.vtext);return M.$attrs$=E.vattrs,M.$children$=E.vchildren,M.$key$=E.vkey,M.$name$=E.vname,M},zr=(E,M,C,U,ee,He,Vt)=>{let mt,Lt,Wt,ln;if(1===He.nodeType){if(mt=He.getAttribute("c-id"),mt&&(Lt=mt.split("."),(Lt[0]===Vt||"0"===Lt[0])&&(Wt={$flags$:0,$hostId$:Lt[0],$nodeId$:Lt[1],$depth$:Lt[2],$index$:Lt[3],$tag$:He.tagName.toLowerCase(),$elm$:He,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},M.push(Wt),He.removeAttribute("c-id"),E.$children$||(E.$children$=[]),E.$children$[Wt.$index$]=Wt,E=Wt,U&&"0"===Wt.$depth$&&(U[Wt.$index$]=Wt.$elm$))),He.shadowRoot)for(ln=He.shadowRoot.childNodes.length-1;ln>=0;ln--)zr(E,M,C,U,ee,He.shadowRoot.childNodes[ln],Vt);for(ln=He.childNodes.length-1;ln>=0;ln--)zr(E,M,C,U,ee,He.childNodes[ln],Vt)}else if(8===He.nodeType)Lt=He.nodeValue.split("."),(Lt[1]===Vt||"0"===Lt[1])&&(mt=Lt[0],Wt={$flags$:0,$hostId$:Lt[1],$nodeId$:Lt[2],$depth$:Lt[3],$index$:Lt[4],$elm$:He,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===mt?(Wt.$elm$=He.nextSibling,Wt.$elm$&&3===Wt.$elm$.nodeType&&(Wt.$text$=Wt.$elm$.textContent,M.push(Wt),He.remove(),E.$children$||(E.$children$=[]),E.$children$[Wt.$index$]=Wt,U&&"0"===Wt.$depth$&&(U[Wt.$index$]=Wt.$elm$))):Wt.$hostId$===Vt&&("s"===mt?(Wt.$tag$="slot",He["s-sn"]=Lt[5]?Wt.$name$=Lt[5]:"",He["s-sr"]=!0,U&&(Wt.$elm$=xe.createElement(Wt.$tag$),Wt.$name$&&Wt.$elm$.setAttribute("name",Wt.$name$),He.parentNode.insertBefore(Wt.$elm$,He),He.remove(),"0"===Wt.$depth$&&(U[Wt.$index$]=Wt.$elm$)),C.push(Wt),E.$children$||(E.$children$=[]),E.$children$[Wt.$index$]=Wt):"r"===mt&&(U?He.remove():(ee["s-cr"]=He,He["s-cn"]=!0))));else if(E&&"style"===E.$tag$){const _n=Cn(null,He.textContent);_n.$elm$=He,_n.$index$="0",E.$children$=[_n]}},mn=(E,M)=>{if(1===E.nodeType){let C=0;if(E.shadowRoot)for(;C<E.shadowRoot.childNodes.length;C++)mn(E.shadowRoot.childNodes[C],M);for(C=0;C<E.childNodes.length;C++)mn(E.childNodes[C],M)}else if(8===E.nodeType){const C=E.nodeValue.split(".");"o"===C[0]&&(M.set(C[1]+"."+C[2],E),E.nodeValue="",E["s-en"]=C[3])}},Wn=E=>it.push(E),ir=E=>Oe(E).$modeName$,Kr=E=>Oe(E).$hostElement$,Mn=(E,M,C)=>{const U=Kr(E);return{emit:ee=>qn(U,M,{bubbles:!!(4&C),composed:!!(2&C),cancelable:!!(1&C),detail:ee})}},qn=(E,M,C)=>{const U=$t.ce(M,C);return E.dispatchEvent(U),U},Jn=new WeakMap,bt=(E,M,C)=>{var U;const ee=xt(M,C),He=We.get(ee);if(E=11===E.nodeType?E:xe,He)if("string"==typeof He){let mt,Vt=Jn.get(E=E.head||E);if(Vt||Jn.set(E,Vt=new Set),!Vt.has(ee)){if(E.host&&(mt=E.querySelector(`[sty-id="${ee}"]`)))mt.innerHTML=He;else{mt=xe.createElement("style"),mt.innerHTML=He;const Lt=null!=(U=$t.$nonce$)?U:Nt(xe);null!=Lt&&mt.setAttribute("nonce",Lt),(!(1&M.$flags$)||1&M.$flags$&&"HEAD"!==E.nodeName)&&E.insertBefore(mt,E.querySelector("link"))}4&M.$flags$&&(mt.innerHTML+=nt),Vt&&Vt.add(ee)}}else E.adoptedStyleSheets.includes(He)||(E.adoptedStyleSheets=[...E.adoptedStyleSheets,He]);return ee},xt=(E,M)=>"sc-"+(M&&32&E.$flags$?E.$tagName$+"-"+M:E.$tagName$),ot=(E,M,C,U,ee,He)=>{if(C!==U){let Vt=ue(E,M),mt=M.toLowerCase();if("class"===M){const Lt=E.classList,Wt=Zt(C),ln=Zt(U);Lt.remove(...Wt.filter(_n=>_n&&!ln.includes(_n))),Lt.add(...ln.filter(_n=>_n&&!Wt.includes(_n)))}else if("style"===M){for(const Lt in C)(!U||null==U[Lt])&&(Lt.includes("-")?E.style.removeProperty(Lt):E.style[Lt]="");for(const Lt in U)(!C||U[Lt]!==C[Lt])&&(Lt.includes("-")?E.style.setProperty(Lt,U[Lt]):E.style[Lt]=U[Lt])}else if("key"!==M)if("ref"===M)U&&U(E);else if(Vt||"o"!==M[0]||"n"!==M[1]){const Lt=Sn(U);if((Vt||Lt&&null!==U)&&!ee)try{if(E.tagName.includes("-"))E[M]=U;else{const ln=null==U?"":U;"list"===M?Vt=!1:(null==C||E[M]!=ln)&&(E[M]=ln)}}catch{}let Wt=!1;mt!==(mt=mt.replace(/^xlink\:?/,""))&&(M=mt,Wt=!0),null==U||!1===U?(!1!==U||""===E.getAttribute(M))&&(Wt?E.removeAttributeNS(Dt,M):E.removeAttribute(M)):(!Vt||4&He||ee)&&!Lt&&(U=!0===U?"":U,Wt?E.setAttributeNS(Dt,M,U):E.setAttribute(M,U))}else if(M="-"===M[2]?M.slice(3):ue($e,mt)?mt.slice(2):mt[2]+M.slice(3),C||U){const Lt=M.endsWith(Ae);M=M.replace(Pe,""),C&&$t.rel(E,M,C,Lt),U&&$t.ael(E,M,U,Lt)}}},dt=/\s/,Zt=E=>E?E.split(dt):[],Ae="Capture",Pe=new RegExp(Ae+"$"),Ze=(E,M,C)=>{const U=11===M.$elm$.nodeType&&M.$elm$.host?M.$elm$.host:M.$elm$,ee=E&&E.$attrs$||yn,He=M.$attrs$||yn;for(const Vt of St(Object.keys(ee)))Vt in He||ot(U,Vt,ee[Vt],void 0,C,M.$flags$);for(const Vt of St(Object.keys(He)))ot(U,Vt,ee[Vt],He[Vt],C,M.$flags$)};function St(E){return E.includes("ref")?[...E.filter(M=>"ref"!==M),"ref"]:E}var gt,vn,En,hr=!1,Sr=!1,lt=!1,gr=!1,kn=(E,M,C,U)=>{var ee;const He=M.$children$[C];let mt,Lt,Wt,Vt=0;if(hr||(lt=!0,"slot"===He.$tag$&&(gt&&U.classList.add(gt+"-s"),He.$flags$|=He.$children$?2:1)),null!==He.$text$)mt=He.$elm$=xe.createTextNode(He.$text$);else if(1&He.$flags$)mt=He.$elm$=xe.createTextNode("");else{if(gr||(gr="svg"===He.$tag$),mt=He.$elm$=xe.createElementNS(gr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!hr&&2&He.$flags$?"slot-fb":He.$tag$),gr&&"foreignObject"===He.$tag$&&(gr=!1),Ze(null,He,gr),!!mt.getRootNode().querySelector("body")&&(E=>null!=E)(gt)&&mt["s-si"]!==gt&&mt.classList.add(mt["s-si"]=gt),Bt(mt,U),He.$children$)for(Vt=0;Vt<He.$children$.length;++Vt)Lt=kn(E,He,Vt,mt),Lt&&mt.appendChild(Lt);"svg"===He.$tag$?gr=!1:"foreignObject"===mt.tagName&&(gr=!0)}return mt["s-hn"]=En,3&He.$flags$&&(mt["s-sr"]=!0,mt["s-cr"]=vn,mt["s-sn"]=He.$name$||"",mt["s-rf"]=null==(ee=He.$attrs$)?void 0:ee.ref,Wt=E&&E.$children$&&E.$children$[C],Wt&&Wt.$tag$===He.$tag$&&E.$elm$&&Ur(E.$elm$)),mt},Ur=E=>{$t.$flags$|=1;const M=E.closest(En.toLowerCase());if(null!=M){const C=Array.from(M.childNodes).find(ee=>ee["s-cr"]),U=Array.from(E.childNodes);for(const ee of C?U.reverse():U)null!=ee["s-sh"]&&(ye(M,ee,null!=C?C:null),ee["s-sh"]=void 0,lt=!0)}$t.$flags$&=-2},$r=(E,M)=>{$t.$flags$|=1;const C=Array.from(E.childNodes);if(E["s-sr"]){let U=E;for(;U=U.nextSibling;)U&&U["s-sn"]===E["s-sn"]&&U["s-sh"]===En&&C.push(U)}for(let U=C.length-1;U>=0;U--){const ee=C[U];ee["s-hn"]!==En&&ee["s-ol"]&&(ye(gi(ee),ee,Ri(ee)),ee["s-ol"].remove(),ee["s-ol"]=void 0,ee["s-sh"]=void 0,lt=!0),M&&$r(ee,M)}$t.$flags$&=-2},bn=(E,M,C,U,ee,He)=>{let mt,Vt=E["s-cr"]&&E["s-cr"].parentNode||E;for(Vt.shadowRoot&&Vt.tagName===En&&(Vt=Vt.shadowRoot);ee<=He;++ee)U[ee]&&(mt=kn(null,C,ee,E),mt&&(U[ee].$elm$=mt,ye(Vt,mt,Ri(M))))},qr=(E,M,C)=>{for(let U=M;U<=C;++U){const ee=E[U];if(ee){const He=ee.$elm$;Q(ee),He&&(Sr=!0,He["s-ol"]?He["s-ol"].remove():$r(He,!0),He.remove())}}},Xr=(E,M,C=!1)=>!(E.$tag$!==M.$tag$||("slot"===E.$tag$?"$nodeId$"in E&&C&&8!==E.$elm$.nodeType||E.$name$!==M.$name$:!C&&E.$key$!==M.$key$)),Ri=E=>E&&E["s-ol"]||E,gi=E=>(E["s-ol"]?E["s-ol"]:E).parentNode,ar=(E,M,C=!1)=>{const U=M.$elm$=E.$elm$,ee=E.$children$,He=M.$children$,Vt=M.$tag$,mt=M.$text$;let Lt;null===mt?(gr="svg"===Vt||"foreignObject"!==Vt&&gr,"slot"!==Vt||hr?Ze(E,M,gr):E.$name$!==M.$name$&&(M.$elm$["s-sn"]=M.$name$||"",Ur(M.$elm$.parentElement)),null!==ee&&null!==He?((E,M,C,U,ee=!1)=>{let Qr,Gr,He=0,Vt=0,mt=0,Lt=0,Wt=M.length-1,ln=M[0],_n=M[Wt],Nn=U.length-1,Rn=U[0],Or=U[Nn];for(;He<=Wt&&Vt<=Nn;)if(null==ln)ln=M[++He];else if(null==_n)_n=M[--Wt];else if(null==Rn)Rn=U[++Vt];else if(null==Or)Or=U[--Nn];else if(Xr(ln,Rn,ee))ar(ln,Rn,ee),ln=M[++He],Rn=U[++Vt];else if(Xr(_n,Or,ee))ar(_n,Or,ee),_n=M[--Wt],Or=U[--Nn];else if(Xr(ln,Or,ee))("slot"===ln.$tag$||"slot"===Or.$tag$)&&$r(ln.$elm$.parentNode,!1),ar(ln,Or,ee),ye(E,ln.$elm$,_n.$elm$.nextSibling),ln=M[++He],Or=U[--Nn];else if(Xr(_n,Rn,ee))("slot"===ln.$tag$||"slot"===Or.$tag$)&&$r(_n.$elm$.parentNode,!1),ar(_n,Rn,ee),ye(E,_n.$elm$,ln.$elm$),_n=M[--Wt],Rn=U[++Vt];else{for(mt=-1,Lt=He;Lt<=Wt;++Lt)if(M[Lt]&&null!==M[Lt].$key$&&M[Lt].$key$===Rn.$key$){mt=Lt;break}mt>=0?(Gr=M[mt],Gr.$tag$!==Rn.$tag$?Qr=kn(M&&M[Vt],C,mt,E):(ar(Gr,Rn,ee),M[mt]=void 0,Qr=Gr.$elm$),Rn=U[++Vt]):(Qr=kn(M&&M[Vt],C,Vt,E),Rn=U[++Vt]),Qr&&ye(gi(ln.$elm$),Qr,Ri(ln.$elm$))}He>Wt?bn(E,null==U[Nn+1]?null:U[Nn+1].$elm$,C,U,Vt,Nn):Vt>Nn&&qr(M,He,Wt)})(U,ee,M,He,C):null!==He?(null!==E.$text$&&(U.textContent=""),bn(U,null,M,He,0,He.length-1)):!C&&null!==ee&&qr(ee,0,ee.length-1),gr&&"svg"===Vt&&(gr=!1)):(Lt=U["s-cr"])?Lt.parentNode.textContent=mt:E.$text$!==mt&&(U.data=mt)},ne=E=>{const M=E.childNodes;for(const C of M)if(1===C.nodeType){if(C["s-sr"]){const U=C["s-sn"];C.hidden=!1;for(const ee of M)if(ee!==C)if(ee["s-hn"]!==C["s-hn"]||""!==U){if(1===ee.nodeType&&(U===ee.getAttribute("slot")||U===ee["s-sn"])||3===ee.nodeType&&U===ee["s-sn"]){C.hidden=!0;break}}else if(1===ee.nodeType||3===ee.nodeType&&""!==ee.textContent.trim()){C.hidden=!0;break}}ne(C)}},G=[],ge=E=>{let M,C,U;for(const ee of E.childNodes){if(ee["s-sr"]&&(M=ee["s-cr"])&&M.parentNode){C=M.parentNode.childNodes;const He=ee["s-sn"];for(U=C.length-1;U>=0;U--)if(M=C[U],!(M["s-cn"]||M["s-nr"]||M["s-hn"]===ee["s-hn"]||M["s-sh"]&&M["s-sh"]===ee["s-hn"]))if(X(M,He)){let Vt=G.find(mt=>mt.$nodeToRelocate$===M);Sr=!0,M["s-sn"]=M["s-sn"]||He,Vt?(Vt.$nodeToRelocate$["s-sh"]=ee["s-hn"],Vt.$slotRefNode$=ee):(M["s-sh"]=ee["s-hn"],G.push({$slotRefNode$:ee,$nodeToRelocate$:M})),M["s-sr"]&&G.map(mt=>{X(mt.$nodeToRelocate$,M["s-sn"])&&(Vt=G.find(Lt=>Lt.$nodeToRelocate$===M),Vt&&!mt.$slotRefNode$&&(mt.$slotRefNode$=Vt.$slotRefNode$))})}else G.some(Vt=>Vt.$nodeToRelocate$===M)||G.push({$nodeToRelocate$:M})}1===ee.nodeType&&ge(ee)}},X=(E,M)=>1===E.nodeType?null===E.getAttribute("slot")&&""===M||E.getAttribute("slot")===M:E["s-sn"]===M||""===M,Q=E=>{E.$attrs$&&E.$attrs$.ref&&E.$attrs$.ref(null),E.$children$&&E.$children$.map(Q)},ye=(E,M,C)=>{const U=null==E?void 0:E.insertBefore(M,C);return Bt(M,E),U},ft=E=>{const M=[];return E&&M.push(...E["s-scs"]||[],E["s-si"],E["s-sc"],...ft(E.parentElement)),M},Bt=(E,M,C=!1)=>{var U;if(E&&M&&1===E.nodeType){const ee=new Set(ft(M).filter(Boolean));if(ee.size&&(null==(U=E.classList)||U.add(...E["s-scs"]=[...ee]),E["s-ol"]||C))for(const He of Array.from(E.childNodes))Bt(He,E,!0)}},Fn=(E,M)=>{M&&!E.$onRenderResolve$&&M["s-p"]&&M["s-p"].push(new Promise(C=>E.$onRenderResolve$=C))},Dn=(E,M)=>{if(E.$flags$|=16,!(4&E.$flags$))return Fn(E,E.$ancestorComponent$),rt(()=>Vn(E,M));E.$flags$|=512},Vn=(E,M)=>{const ee=E.$lazyInstance$;if(!ee)throw new Error(`Can't render component <${E.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let He;return M&&(E.$flags$|=256,E.$queuedListeners$&&(E.$queuedListeners$.map(([Vt,mt])=>Ei(ee,Vt,mt)),E.$queuedListeners$=void 0),He=Ei(ee,"componentWillLoad")),He=ii(He,()=>Ei(ee,"componentWillRender")),ii(He,()=>ei(E,ee,M))},ii=(E,M)=>Qn(E)?E.then(M).catch(C=>{console.error(C),M()}):M(),Qn=E=>E instanceof Promise||E&&E.then&&"function"==typeof E.then,ei=function(){var E=(0,d.A)(function*(M,C,U){var ee;const He=M.$hostElement$,mt=He["s-rc"];U&&(E=>{const M=E.$cmpMeta$,C=E.$hostElement$,U=M.$flags$,He=bt(C.shadowRoot?C.shadowRoot:C.getRootNode(),M,E.$modeName$);10&U&&2&U&&(C["s-sc"]=He,C.classList.add(He+"-h"),2&U&&C.classList.add(He+"-s"))})(M);ai(M,C,He,U),mt&&(mt.map(Wt=>Wt()),He["s-rc"]=void 0);{const Wt=null!=(ee=He["s-p"])?ee:[],ln=()=>xi(M);0===Wt.length?ln():(Promise.all(Wt).then(ln),M.$flags$|=4,Wt.length=0)}});return function(C,U,ee){return E.apply(this,arguments)}}(),ai=(E,M,C,U)=>{try{M=M.render&&M.render(),E.$flags$&=-17,E.$flags$|=2,((E,M,C=!1)=>{var U,ee,He,Vt,mt;const Lt=E.$hostElement$,Wt=E.$cmpMeta$,ln=E.$vnode$||Cn(null,null),_n=(E=>E&&E.$tag$===gn)(M)?M:jn(null,null,M);if(En=Lt.tagName,Wt.$attrsToReflect$&&(_n.$attrs$=_n.$attrs$||{},Wt.$attrsToReflect$.map(([Nn,Rn])=>_n.$attrs$[Rn]=Lt[Nn])),C&&_n.$attrs$)for(const Nn of Object.keys(_n.$attrs$))Lt.hasAttribute(Nn)&&!["key","ref","style","class"].includes(Nn)&&(_n.$attrs$[Nn]=Lt[Nn]);if(_n.$tag$=null,_n.$flags$|=4,E.$vnode$=_n,_n.$elm$=ln.$elm$=Lt.shadowRoot||Lt,gt=Lt["s-sc"],hr=!!(1&Wt.$flags$),vn=Lt["s-cr"],Sr=!1,ar(ln,_n,C),$t.$flags$|=1,lt){ge(_n.$elm$);for(const Nn of G){const Rn=Nn.$nodeToRelocate$;if(!Rn["s-ol"]){const Or=xe.createTextNode("");Or["s-nr"]=Rn,ye(Rn.parentNode,Rn["s-ol"]=Or,Rn)}}for(const Nn of G){const Rn=Nn.$nodeToRelocate$,Or=Nn.$slotRefNode$;if(Or){const Qr=Or.parentNode;let Gr=Or.nextSibling;if(Gr&&1===Gr.nodeType){let Hr=null==(U=Rn["s-ol"])?void 0:U.previousSibling;for(;Hr;){let Yr=null!=(ee=Hr["s-nr"])?ee:null;if(Yr&&Yr["s-sn"]===Rn["s-sn"]&&Qr===Yr.parentNode){for(Yr=Yr.nextSibling;Yr===Rn||null!=Yr&&Yr["s-sr"];)Yr=null==Yr?void 0:Yr.nextSibling;if(!Yr||!Yr["s-nr"]){Gr=Yr;break}}Hr=Hr.previousSibling}}(!Gr&&Qr!==Rn.parentNode||Rn.nextSibling!==Gr)&&Rn!==Gr&&(ye(Qr,Rn,Gr),1===Rn.nodeType&&(Rn.hidden=null!=(He=Rn["s-ih"])&&He)),Rn&&"function"==typeof Or["s-rf"]&&Or["s-rf"](Rn)}else 1===Rn.nodeType&&(C&&(Rn["s-ih"]=null!=(Vt=Rn.hidden)&&Vt),Rn.hidden=!0)}}if(Sr&&ne(_n.$elm$),$t.$flags$&=-2,G.length=0,2&Wt.$flags$)for(const Nn of _n.$elm$.childNodes)Nn["s-hn"]!==En&&!Nn["s-sh"]&&(C&&null==Nn["s-ih"]&&(Nn["s-ih"]=null!=(mt=Nn.hidden)&&mt),Nn.hidden=!0);vn=void 0})(E,M,U)}catch(ee){Se(ee,E.$hostElement$)}return null},xi=E=>{const C=E.$hostElement$,ee=E.$lazyInstance$,He=E.$ancestorComponent$;Ei(ee,"componentDidRender"),64&E.$flags$?Ei(ee,"componentDidUpdate"):(E.$flags$|=64,Ni(C),Ei(ee,"componentDidLoad"),E.$onReadyResolve$(C),He||ro()),E.$onInstanceResolve$(C),E.$onRenderResolve$&&(E.$onRenderResolve$(),E.$onRenderResolve$=void 0),512&E.$flags$&&Re(()=>Dn(E,!1)),E.$flags$&=-517},oi=E=>{{const M=Oe(E),C=M.$hostElement$.isConnected;return C&&2==(18&M.$flags$)&&Dn(M,!1),C}},ro=E=>{Ni(xe.documentElement),Re(()=>qn($e,"appload",{detail:{namespace:"ionic"}}))},Ei=(E,M,C)=>{if(E&&E[M])try{return E[M](C)}catch(U){Se(U)}},Ni=E=>E.classList.add("hydrated"),eo=(E,M,C)=>{var U,ee;const He=E.prototype;if(M.$members$||M.$watchers$||E.watchers){E.watchers&&!M.$watchers$&&(M.$watchers$=E.watchers);const Vt=Object.entries(null!=(U=M.$members$)?U:{});if(Vt.map(([mt,[Lt]])=>{31&Lt||2&C&&32&Lt?Object.defineProperty(He,mt,{get(){return((E,M)=>Oe(this).$instanceValues$.get(M))(0,mt)},set(Wt){((E,M,C,U)=>{const ee=Oe(E);if(!ee)throw new Error(`Couldn't find host element for "${U.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const He=ee.$hostElement$,Vt=ee.$instanceValues$.get(M),mt=ee.$flags$,Lt=ee.$lazyInstance$;C=((E,M)=>null==E||Sn(E)?E:4&M?"false"!==E&&(""===E||!!E):2&M?parseFloat(E):1&M?String(E):E)(C,U.$members$[M][0]);const Wt=Number.isNaN(Vt)&&Number.isNaN(C);if((!(8&mt)||void 0===Vt)&&C!==Vt&&!Wt&&(ee.$instanceValues$.set(M,C),Lt)){if(U.$watchers$&&128&mt){const _n=U.$watchers$[M];_n&&_n.map(Nn=>{try{Lt[Nn](C,Vt,M)}catch(Rn){Se(Rn,He)}})}2==(18&mt)&&Dn(ee,!1)}})(this,mt,Wt,M)},configurable:!0,enumerable:!0}):1&C&&64&Lt&&Object.defineProperty(He,mt,{value(...Wt){var ln;const _n=Oe(this);return null==(ln=null==_n?void 0:_n.$onInstancePromise$)?void 0:ln.then(()=>{var Nn;return null==(Nn=_n.$lazyInstance$)?void 0:Nn[mt](...Wt)})}})}),1&C){const mt=new Map;He.attributeChangedCallback=function(Lt,Wt,ln){$t.jmp(()=>{var _n;const Nn=mt.get(Lt);if(this.hasOwnProperty(Nn))ln=this[Nn],delete this[Nn];else{if(He.hasOwnProperty(Nn)&&"number"==typeof this[Nn]&&this[Nn]==ln)return;if(null==Nn){const Rn=Oe(this),Or=null==Rn?void 0:Rn.$flags$;if(Or&&!(8&Or)&&128&Or&&ln!==Wt){const Qr=Rn.$lazyInstance$,Gr=null==(_n=M.$watchers$)?void 0:_n[Lt];null==Gr||Gr.forEach(Hr=>{null!=Qr[Hr]&&Qr[Hr].call(Qr,ln,Wt,Lt)})}return}}this[Nn]=(null!==ln||"boolean"!=typeof this[Nn])&&ln})},E.observedAttributes=Array.from(new Set([...Object.keys(null!=(ee=M.$watchers$)?ee:{}),...Vt.filter(([Lt,Wt])=>15&Wt[0]).map(([Lt,Wt])=>{var ln;const _n=Wt[1]||Lt;return mt.set(_n,Lt),512&Wt[0]&&(null==(ln=M.$attrsToReflect$)||ln.push([Lt,_n])),_n})]))}}return E},Mi=function(){var E=(0,d.A)(function*(M,C,U,ee){let He;if(!(32&C.$flags$)){if(C.$flags$|=32,U.$lazyBundleId$){const Wt=(E=>{const U=E.$tagName$.replace(/-/g,"_"),ee=E.$lazyBundleId$;if(!ee)return;const He=Fe.get(ee);return He?He[U]:k(8996)(`./${ee}.entry.js`).then(Vt=>(Fe.set(ee,Vt),Vt[U]),Se)})(U);if(Wt&&"then"in Wt){const _n=()=>{};He=yield Wt,_n()}else He=Wt;if(!He)throw new Error(`Constructor for "${U.$tagName$}#${C.$modeName$}" was not found`);He.isProxied||(U.$watchers$=He.watchers,eo(He,U,2),He.isProxied=!0);const ln=()=>{};C.$flags$|=8;try{new He(C)}catch(_n){Se(_n)}C.$flags$&=-9,C.$flags$|=128,ln(),Do(C.$lazyInstance$)}else He=M.constructor,customElements.whenDefined(M.localName).then(()=>C.$flags$|=128);if(He&&He.style){let Wt;"string"==typeof He.style?Wt=He.style:"string"!=typeof He.style&&(C.$modeName$=(E=>it.map(M=>M(E)).find(M=>!!M))(M),C.$modeName$&&(Wt=He.style[C.$modeName$]));const ln=xt(U,C.$modeName$);if(!We.has(ln)){const _n=()=>{};((E,M,C)=>{let U=We.get(E);De&&C?(U=U||new CSSStyleSheet,"string"==typeof U?U=M:U.replaceSync(M)):U=M,We.set(E,U)})(ln,Wt,!!(1&U.$flags$)),_n()}}}const Vt=C.$ancestorComponent$,mt=()=>Dn(C,!0);Vt&&Vt["s-rc"]?Vt["s-rc"].push(mt):mt()});return function(C,U,ee,He){return E.apply(this,arguments)}}(),Do=E=>{Ei(E,"connectedCallback")},qi=E=>{const M=E["s-cr"]=xe.createComment("");M["s-cn"]=!0,ye(E,M,E.firstChild)},Ai=E=>{Ei(E,"disconnectedCallback")},Os=function(){var E=(0,d.A)(function*(M){if(!(1&$t.$flags$)){const C=Oe(M);C.$rmListeners$&&(C.$rmListeners$.map(U=>U()),C.$rmListeners$=void 0),null!=C&&C.$lazyInstance$?Ai(C.$lazyInstance$):null!=C&&C.$onReadyPromise$&&C.$onReadyPromise$.then(()=>Ai(C.$lazyInstance$))}});return function(C){return E.apply(this,arguments)}}(),Rr=E=>{const M=E.cloneNode;E.cloneNode=function(C){const U=this,ee=U.shadowRoot&&true,He=M.call(U,!!ee&&C);if(!ee&&C){let mt,Lt,Vt=0;const Wt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Vt<U.childNodes.length;Vt++)mt=U.childNodes[Vt]["s-nr"],Lt=Wt.every(ln=>!U.childNodes[Vt][ln]),mt&&(He.__appendChild?He.__appendChild(mt.cloneNode(!0)):He.appendChild(mt.cloneNode(!0))),Lt&&He.appendChild(U.childNodes[Vt].cloneNode(!0))}return He}},Da=E=>{E.__appendChild=E.appendChild,E.appendChild=function(M){const C=M["s-sn"]=li(M),U=Fr(this.childNodes,C,this.tagName);if(U){const ee=Ts(U,C),He=ee[ee.length-1],Vt=ye(He.parentNode,M,He.nextSibling);return ne(this),Vt}return this.__appendChild(M)}},zo=E=>{E.__removeChild=E.removeChild,E.removeChild=function(M){if(M&&typeof M["s-sn"]<"u"){const C=Fr(this.childNodes,M["s-sn"],this.tagName);if(C){const ee=Ts(C,M["s-sn"]).find(He=>He===M);if(ee)return ee.remove(),void ne(this)}}return this.__removeChild(M)}},Go=E=>{const M=E.prepend;E.prepend=function(...C){C.forEach(U=>{"string"==typeof U&&(U=this.ownerDocument.createTextNode(U));const ee=U["s-sn"]=li(U),He=Fr(this.childNodes,ee,this.tagName);if(He){const Vt=document.createTextNode("");Vt["s-nr"]=U,He["s-cr"].parentNode.__appendChild(Vt),U["s-ol"]=Vt;const Lt=Ts(He,ee)[0];return ye(Lt.parentNode,U,Lt.nextSibling)}return 1===U.nodeType&&U.getAttribute("slot")&&(U.hidden=!0),M.call(this,U)})}},jr=E=>{E.append=function(...M){M.forEach(C=>{"string"==typeof C&&(C=this.ownerDocument.createTextNode(C)),this.appendChild(C)})}},ss=E=>{const M=E.insertAdjacentHTML;E.insertAdjacentHTML=function(C,U){if("afterbegin"!==C&&"beforeend"!==C)return M.call(this,C,U);const ee=this.ownerDocument.createElement("_");let He;if(ee.innerHTML=U,"afterbegin"===C)for(;He=ee.firstChild;)this.prepend(He);else if("beforeend"===C)for(;He=ee.firstChild;)this.append(He)}},Xi=E=>{E.insertAdjacentText=function(M,C){this.insertAdjacentHTML(M,C)}},Er=E=>{const M=E.insertAdjacentElement;E.insertAdjacentElement=function(C,U){return"afterbegin"!==C&&"beforeend"!==C?M.call(this,C,U):"afterbegin"===C?(this.prepend(U),U):("beforeend"===C&&this.append(U),U)}},Wo=E=>{const M=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(E,"__textContent",M),Object.defineProperty(E,"textContent",{get(){return" "+hi(this.childNodes).map(ee=>{var He,Vt;const mt=[];let Lt=ee.nextSibling;for(;Lt&&Lt["s-sn"]===ee["s-sn"];)(3===Lt.nodeType||1===Lt.nodeType)&&mt.push(null!=(Vt=null==(He=Lt.textContent)?void 0:He.trim())?Vt:""),Lt=Lt.nextSibling;return mt.filter(Wt=>""!==Wt).join(" ")}).filter(ee=>""!==ee).join(" ")+" "},set(C){hi(this.childNodes).forEach(ee=>{let He=ee.nextSibling;for(;He&&He["s-sn"]===ee["s-sn"];){const Vt=He;He=He.nextSibling,Vt.remove()}if(""===ee["s-sn"]){const Vt=this.ownerDocument.createTextNode(C);Vt["s-sn"]="",ye(ee.parentElement,Vt,ee.nextSibling)}else ee.remove()})}})},ti=(E,M)=>{class C extends Array{item(ee){return this[ee]}}if(8&M.$flags$){const U=E.__lookupGetter__("childNodes");Object.defineProperty(E,"children",{get(){return this.childNodes.map(ee=>1===ee.nodeType)}}),Object.defineProperty(E,"childElementCount",{get:()=>E.children.length}),Object.defineProperty(E,"childNodes",{get(){const ee=U.call(this);if(!(1&$t.$flags$)&&2&Oe(this).$flags$){const He=new C;for(let Vt=0;Vt<ee.length;Vt++){const mt=ee[Vt]["s-nr"];mt&&He.push(mt)}return He}return C.from(ee)}})}},hi=E=>{const M=[];for(const C of Array.from(E))C["s-sr"]&&M.push(C),M.push(...hi(C.childNodes));return M},li=E=>E["s-sn"]||1===E.nodeType&&E.getAttribute("slot")||"",Fr=(E,M,C)=>{let ee,U=0;for(;U<E.length;U++)if(ee=E[U],ee["s-sr"]&&ee["s-sn"]===M&&ee["s-hn"]===C||(ee=Fr(ee.childNodes,M,C),ee))return ee;return null},Ts=(E,M)=>{const C=[E];for(;(E=E.nextSibling)&&E["s-sn"]===M;)C.push(E);return C},Qi=(E,M={})=>{var C;const ee=[],He=M.exclude||[],Vt=$e.customElements,mt=xe.head,Lt=mt.querySelector("meta[charset]"),Wt=xe.createElement("style"),ln=[];let _n,Nn=!0;Object.assign($t,M),$t.$resourcesUrl$=new URL(M.resourcesUrl||"./",xe.baseURI).href,$t.$flags$|=2;let Rn=!1;if(E.map(Or=>{Or[1].map(Qr=>{var Gr;const Hr={$flags$:Qr[0],$tagName$:Qr[1],$members$:Qr[2],$listeners$:Qr[3]};4&Hr.$flags$&&(Rn=!0),Hr.$members$=Qr[2],Hr.$listeners$=Qr[3],Hr.$attrsToReflect$=[],Hr.$watchers$=null!=(Gr=Qr[4])?Gr:{};const Yr=Hr.$tagName$,vi=class extends HTMLElement{constructor(_i){if(super(_i),this.hasRegisteredEventListeners=!1,((E,M)=>{const C={$flags$:0,$hostElement$:E,$cmpMeta$:M,$instanceValues$:new Map};C.$onInstancePromise$=new Promise(U=>C.$onInstanceResolve$=U),C.$onReadyPromise$=new Promise(U=>C.$onReadyResolve$=U),E["s-p"]=[],E["s-rc"]=[],ve.set(E,C)})(_i=this,Hr),1&Hr.$flags$)if(_i.shadowRoot){if("open"!==_i.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Hr.$tagName$}! Mode is set to ${_i.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else _i.attachShadow({mode:"open",delegatesFocus:!!(16&Hr.$flags$)})}connectedCallback(){const _i=Oe(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Nr(this,_i,Hr.$listeners$)),_n&&(clearTimeout(_n),_n=null),Nn?ln.push(this):$t.jmp(()=>(E=>{if(!(1&$t.$flags$)){const M=Oe(E),C=M.$cmpMeta$,U=()=>{};if(1&M.$flags$)Nr(E,M,C.$listeners$),null!=M&&M.$lazyInstance$?Do(M.$lazyInstance$):null!=M&&M.$onReadyPromise$&&M.$onReadyPromise$.then(()=>Do(M.$lazyInstance$));else{let ee;if(M.$flags$|=1,ee=E.getAttribute(pe),ee){if(1&C.$flags$){const He=bt(E.shadowRoot,C,E.getAttribute("s-mode"));E.classList.remove(He+"-h",He+"-s")}((E,M,C,U)=>{const He=E.shadowRoot,Vt=[],Lt=He?[]:null,Wt=U.$vnode$=Cn(M,null);$t.$orgLocNodes$||mn(xe.body,$t.$orgLocNodes$=new Map),E[pe]=C,E.removeAttribute(pe),zr(Wt,Vt,[],Lt,E,E,C),Vt.map(ln=>{const _n=ln.$hostId$+"."+ln.$nodeId$,Nn=$t.$orgLocNodes$.get(_n),Rn=ln.$elm$;Nn&&""===Nn["s-en"]&&Nn.parentNode.insertBefore(Rn,Nn.nextSibling),He||(Rn["s-hn"]=M,Nn&&(Rn["s-ol"]=Nn,Rn["s-ol"]["s-nr"]=Rn)),$t.$orgLocNodes$.delete(_n)}),He&&Lt.map(ln=>{ln&&He.appendChild(ln)})})(E,C.$tagName$,ee,M)}ee||12&C.$flags$&&qi(E);{let He=E;for(;He=He.parentNode||He.host;)if(1===He.nodeType&&He.hasAttribute("s-id")&&He["s-p"]||He["s-p"]){Fn(M,M.$ancestorComponent$=He);break}}C.$members$&&Object.entries(C.$members$).map(([He,[Vt]])=>{if(31&Vt&&E.hasOwnProperty(He)){const mt=E[He];delete E[He],E[He]=mt}}),Mi(E,M,C)}U()}})(this))}disconnectedCallback(){$t.jmp(()=>Os(this))}componentOnReady(){return Oe(this).$onReadyPromise$}};2&Hr.$flags$&&((E,M)=>{Rr(E),Da(E),jr(E),Go(E),Er(E),ss(E),Xi(E),Wo(E),ti(E,M),zo(E)})(vi.prototype,Hr),Hr.$lazyBundleId$=Or[0],!He.includes(Yr)&&!Vt.get(Yr)&&(ee.push(Yr),Vt.define(Yr,eo(vi,Hr,1)))})}),ee.length>0&&(Rn&&(Wt.textContent+=nt),Wt.textContent+=ee.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Wt.innerHTML.length)){Wt.setAttribute("data-styles","");const Or=null!=(C=$t.$nonce$)?C:Nt(xe);null!=Or&&Wt.setAttribute("nonce",Or),mt.insertBefore(Wt,Lt?Lt.nextSibling:mt.firstChild)}Nn=!1,ln.length?ln.map(Or=>Or.connectedCallback()):$t.jmp(()=>_n=setTimeout(ro,30))},Nr=(E,M,C,U)=>{C&&C.map(([ee,He,Vt])=>{const mt=bo(E,ee),Lt=To(M,Vt),Wt=ni(ee);$t.ael(mt,He,Lt,Wt),(M.$rmListeners$=M.$rmListeners$||[]).push(()=>$t.rel(mt,He,Lt,Wt))})},To=(E,M)=>C=>{var U;try{256&E.$flags$?null==(U=E.$lazyInstance$)||U[M](C):(E.$queuedListeners$=E.$queuedListeners$||[]).push([M,C])}catch(ee){Se(ee)}},bo=(E,M)=>4&M?xe:8&M?$e:16&M?xe.body:E,ni=E=>Tn?{passive:!!(1&E),capture:!!(2&E)}:!!(2&E)},8607:(dn,pt,k)=>{"use strict";k.r(pt),k.d(pt,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Be});var d=k(1970);const f=(Fe,Ve,We,it)=>{const Ye=Y(Fe)?{capture:!!it.capture,passive:!!it.passive}:!!it.capture;let Ke,qe;return Fe.__zone_symbol__addEventListener?(Ke="__zone_symbol__addEventListener",qe="__zone_symbol__removeEventListener"):(Ke="addEventListener",qe="removeEventListener"),Fe[Ke](Ve,We,Ye),()=>{Fe[qe](Ve,We,Ye)}},Y=Fe=>{if(void 0===J)try{const Ve=Object.defineProperty({},"passive",{get:()=>{J=!0}});Fe.addEventListener("optsTest",()=>{},Ve)}catch{J=!1}return!!J};let J;const ve=Fe=>Fe instanceof Document?Fe:Fe.ownerDocument,Be=Fe=>{let Ve=!1,We=!1,it=!0,Ye=!1;const Ke=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Fe),qe=Ke.canStart,st=Ke.onWillStart,pe=Ke.onStart,me=Ke.onEnd,be=Ke.notCaptured,tt=Ke.onMove,nt=Ke.threshold,Dt=Ke.passive,$e=Ke.blurOnStart,xe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},kt=((Fe,Ve,We)=>{const it=We*(Math.PI/180),Ye="x"===Fe,Ke=Math.cos(it),qe=Ve*Ve;let st=0,pe=0,me=!1,be=0;return{start(tt,nt){st=tt,pe=nt,be=0,me=!0},detect(tt,nt){if(!me)return!1;const Dt=tt-st,$e=nt-pe,xe=Dt*Dt+$e*$e;if(xe<qe)return!1;const kt=Math.sqrt(xe),$t=(Ye?Dt:$e)/kt;return be=$t>Ke?1:$t<-Ke?-1:0,me=!1,!0},isGesture:()=>0!==be,getDirection:()=>be}})(Ke.direction,Ke.threshold,Ke.maxAngle),$t=d.G.createGesture({name:Fe.gestureName,priority:Fe.gesturePriority,disableScroll:Fe.disableScroll}),Tn=()=>{Ve&&(Ye=!1,tt&&tt(xe))},Pt=()=>!!$t.capture()&&(Ve=!0,it=!1,xe.startX=xe.currentX,xe.startY=xe.currentY,xe.startTime=xe.currentTime,st?st(xe).then(Ee):Ee(),!0),Ee=()=>{$e&&(()=>{if(typeof document<"u"){const je=document.activeElement;null!=je&&je.blur&&je.blur()}})(),pe&&pe(xe),it=!0},Ie=()=>{Ve=!1,We=!1,Ye=!1,it=!0,$t.release()},Z=je=>{const Re=Ve,et=it;if(Ie(),et){if(fe(xe,je),Re)return void(me&&me(xe));be&&be(xe)}},Ce=((Fe,Ve,We,it,Ye)=>{let Ke,qe,st,pe,me,be,tt,nt=0;const Dt=De=>{nt=Date.now()+2e3,Ve(De)&&(!qe&&We&&(qe=f(Fe,"touchmove",We,Ye)),st||(st=f(De.target,"touchend",xe,Ye)),pe||(pe=f(De.target,"touchcancel",xe,Ye)))},$e=De=>{nt>Date.now()||Ve(De)&&(!be&&We&&(be=f(ve(Fe),"mousemove",We,Ye)),tt||(tt=f(ve(Fe),"mouseup",kt,Ye)))},xe=De=>{$t(),it&&it(De)},kt=De=>{an(),it&&it(De)},$t=()=>{qe&&qe(),st&&st(),pe&&pe(),qe=st=pe=void 0},an=()=>{be&&be(),tt&&tt(),be=tt=void 0},Qt=()=>{$t(),an()},Tn=(De=!0)=>{De?(Ke||(Ke=f(Fe,"touchstart",Dt,Ye)),me||(me=f(Fe,"mousedown",$e,Ye))):(Ke&&Ke(),me&&me(),Ke=me=void 0,Qt())};return{enable:Tn,stop:Qt,destroy:()=>{Tn(!1),it=We=Ve=void 0}}})(Ke.el,je=>{const Re=Se(je);return!(We||!it||(ue(je,xe),xe.startX=xe.currentX,xe.startY=xe.currentY,xe.startTime=xe.currentTime=Re,xe.velocityX=xe.velocityY=xe.deltaX=xe.deltaY=0,xe.event=je,qe&&!1===qe(xe))||($t.release(),!$t.start()))&&(We=!0,0===nt?Pt():(kt.start(xe.startX,xe.startY),!0))},je=>{Ve?!Ye&&it&&(Ye=!0,fe(xe,je),requestAnimationFrame(Tn)):(fe(xe,je),kt.detect(xe.currentX,xe.currentY)&&(!kt.isGesture()||!Pt())&&Xe())},Z,{capture:!1,passive:Dt}),Xe=()=>{Ie(),Ce.stop(),be&&be(xe)};return{enable(je=!0){je||(Ve&&Z(void 0),Ie()),Ce.enable(je)},destroy(){$t.destroy(),Ce.destroy()}}},fe=(Fe,Ve)=>{if(!Ve)return;const We=Fe.currentX,it=Fe.currentY,Ye=Fe.currentTime;ue(Ve,Fe);const Ke=Fe.currentX,qe=Fe.currentY,pe=(Fe.currentTime=Se(Ve))-Ye;if(pe>0&&pe<100){const be=(qe-it)/pe;Fe.velocityX=(Ke-We)/pe*.7+.3*Fe.velocityX,Fe.velocityY=.7*be+.3*Fe.velocityY}Fe.deltaX=Ke-Fe.startX,Fe.deltaY=qe-Fe.startY,Fe.event=Ve},ue=(Fe,Ve)=>{let We=0,it=0;if(Fe){const Ye=Fe.changedTouches;if(Ye&&Ye.length>0){const Ke=Ye[0];We=Ke.clientX,it=Ke.clientY}else void 0!==Fe.pageX&&(We=Fe.pageX,it=Fe.pageY)}Ve.currentX=We,Ve.currentY=it},Se=Fe=>Fe.timeStamp||Date.now()},3604:(dn,pt,k)=>{"use strict";k.d(pt,{b:()=>Oe,c:()=>Be,d:()=>fe,e:()=>Qt,g:()=>De,l:()=>$t,s:()=>Tn,t:()=>Ke,w:()=>an});var d=k(467),f=k(9483),Y=k(4261),J=k(4929),se=k(4920);const Oe="ionViewWillLeave",Be="ionViewDidLeave",fe="ionViewWillUnload",ue=Ee=>{Ee.tabIndex=-1,Ee.focus()},Se=Ee=>null!==Ee.offsetParent,Ve="ion-last-focus",Ye_saveViewFocus=Z=>{if(f.c.get("focusManagerPriority",!1)){const Xe=document.activeElement;null!==Xe&&null!=Z&&Z.contains(Xe)&&Xe.setAttribute(Ve,"true")}},Ye_setViewFocus=Z=>{const Ce=f.c.get("focusManagerPriority",!1);if(Array.isArray(Ce)&&!Z.contains(document.activeElement)){const Xe=Z.querySelector(`[${Ve}]`);if(Xe&&Se(Xe))return void ue(Xe);for(const je of Ce)switch(je){case"content":const Re=Z.querySelector('main, [role="main"]');if(Re&&Se(Re))return void ue(Re);break;case"heading":const et=Z.querySelector('h1, [role="heading"][aria-level="1"]');if(et&&Se(et))return void ue(et);break;case"banner":const rt=Z.querySelector('header, [role="banner"]');if(rt&&Se(rt))return void ue(rt);break;default:(0,J.p)(`Unrecognized focus manager priority value ${je}`)}ue(Z)}},Ke=Ee=>new Promise((Ie,Z)=>{(0,Y.w)(()=>{qe(Ee),st(Ee).then(Ce=>{Ce.animation&&Ce.animation.destroy(),pe(Ee),Ie(Ce)},Ce=>{pe(Ee),Z(Ce)})})}),qe=Ee=>{const Ie=Ee.enteringEl,Z=Ee.leavingEl;Ye_saveViewFocus(Z),Pt(Ie,Z,Ee.direction),Ee.showGoBack?Ie.classList.add("can-go-back"):Ie.classList.remove("can-go-back"),Tn(Ie,!1),Ie.style.setProperty("pointer-events","none"),Z&&(Tn(Z,!1),Z.style.setProperty("pointer-events","none"))},st=function(){var Ee=(0,d.A)(function*(Ie){const Z=yield me(Ie);return Z&&Y.B.isBrowser?be(Z,Ie):tt(Ie)});return function(Z){return Ee.apply(this,arguments)}}(),pe=Ee=>{const Ie=Ee.enteringEl,Z=Ee.leavingEl;Ie.classList.remove("ion-page-invisible"),Ie.style.removeProperty("pointer-events"),void 0!==Z&&(Z.classList.remove("ion-page-invisible"),Z.style.removeProperty("pointer-events")),Ye_setViewFocus(Ie)},me=function(){var Ee=(0,d.A)(function*(Ie){return Ie.leavingEl&&Ie.animated&&0!==Ie.duration?Ie.animationBuilder?Ie.animationBuilder:"ios"===Ie.mode?(yield Promise.resolve().then(k.bind(k,5022))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,3615))).mdTransitionAnimation:void 0});return function(Z){return Ee.apply(this,arguments)}}(),be=function(){var Ee=(0,d.A)(function*(Ie,Z){yield nt(Z,!0);const Ce=Ie(Z.baseEl,Z);xe(Z.enteringEl,Z.leavingEl);const Xe=yield $e(Ce,Z);return Z.progressCallback&&Z.progressCallback(void 0),Xe&&kt(Z.enteringEl,Z.leavingEl),{hasCompleted:Xe,animation:Ce}});return function(Z,Ce){return Ee.apply(this,arguments)}}(),tt=function(){var Ee=(0,d.A)(function*(Ie){const Z=Ie.enteringEl,Ce=Ie.leavingEl,Xe=f.c.get("focusManagerPriority",!1);return yield nt(Ie,Xe),xe(Z,Ce),kt(Z,Ce),{hasCompleted:!0}});return function(Z){return Ee.apply(this,arguments)}}(),nt=function(){var Ee=(0,d.A)(function*(Ie,Z){(void 0!==Ie.deepWait?Ie.deepWait:Z)&&(yield Promise.all([Qt(Ie.enteringEl),Qt(Ie.leavingEl)])),yield Dt(Ie.viewIsReady,Ie.enteringEl)});return function(Z,Ce){return Ee.apply(this,arguments)}}(),Dt=function(){var Ee=(0,d.A)(function*(Ie,Z){Ie&&(yield Ie(Z))});return function(Z,Ce){return Ee.apply(this,arguments)}}(),$e=(Ee,Ie)=>{const Z=Ie.progressCallback,Ce=new Promise(Xe=>{Ee.onFinish(je=>Xe(1===je))});return Z?(Ee.progressStart(!0),Z(Ee)):Ee.play(),Ce},xe=(Ee,Ie)=>{$t(Ie,Oe),$t(Ee,"ionViewWillEnter")},kt=(Ee,Ie)=>{$t(Ee,"ionViewDidEnter"),$t(Ie,Be)},$t=(Ee,Ie)=>{if(Ee){const Z=new CustomEvent(Ie,{bubbles:!1,cancelable:!1});Ee.dispatchEvent(Z)}},an=()=>new Promise(Ee=>(0,se.r)(()=>(0,se.r)(()=>Ee()))),Qt=function(){var Ee=(0,d.A)(function*(Ie){const Z=Ie;if(Z){if(null!=Z.componentOnReady){if(null!=(yield Z.componentOnReady()))return}else if(null!=Z.__registerHost)return void(yield new Promise(Xe=>(0,se.r)(Xe)));yield Promise.all(Array.from(Z.children).map(Qt))}});return function(Z){return Ee.apply(this,arguments)}}(),Tn=(Ee,Ie)=>{Ie?(Ee.setAttribute("aria-hidden","true"),Ee.classList.add("ion-page-hidden")):(Ee.hidden=!1,Ee.removeAttribute("aria-hidden"),Ee.classList.remove("ion-page-hidden"))},Pt=(Ee,Ie,Z)=>{void 0!==Ee&&(Ee.style.zIndex="back"===Z?"99":"101"),void 0!==Ie&&(Ie.style.zIndex="100")},De=Ee=>Ee.classList.contains("ion-page")?Ee:Ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ee},4929:(dn,pt,k)=>{"use strict";k.d(pt,{a:()=>f,b:()=>Y,p:()=>d});const d=(J,...se)=>console.warn(`[Ionic Warning]: ${J}`,...se),f=(J,...se)=>console.error(`[Ionic Error]: ${J}`,...se),Y=(J,...se)=>console.error(`<${J.tagName.toLowerCase()}> must be used inside ${se.join(" or ")}.`)},8476:(dn,pt,k)=>{"use strict";k.d(pt,{d:()=>f,w:()=>d});const d=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},9483:(dn,pt,k)=>{"use strict";k.d(pt,{a:()=>ue,b:()=>Tn,c:()=>Y,i:()=>Pt});var d=k(4261);class f{constructor(){this.m=new Map}reset(Ee){this.m=new Map(Object.entries(Ee))}get(Ee,Ie){const Z=this.m.get(Ee);return void 0!==Z?Z:Ie}getBoolean(Ee,Ie=!1){const Z=this.m.get(Ee);return void 0===Z?Ie:"string"==typeof Z?"true"===Z:!!Z}getNumber(Ee,Ie){const Z=parseFloat(this.m.get(Ee));return isNaN(Z)?void 0!==Ie?Ie:NaN:Z}set(Ee,Ie){this.m.set(Ee,Ie)}}const Y=new f,Be="ionic-persist-config",ue=(De,Ee)=>("string"==typeof De&&(Ee=De,De=void 0),(De=>Se(De))(De).includes(Ee)),Se=(De=window)=>{if(typeof De>"u")return[];De.Ionic=De.Ionic||{};let Ee=De.Ionic.platforms;return null==Ee&&(Ee=De.Ionic.platforms=Fe(De),Ee.forEach(Ie=>De.document.documentElement.classList.add(`plt-${Ie}`))),Ee},Fe=De=>{const Ee=Y.get("platform");return Object.keys(an).filter(Ie=>{const Z=null==Ee?void 0:Ee[Ie];return"function"==typeof Z?Z(De):an[Ie](De)})},We=De=>!!(kt(De,/iPad/i)||kt(De,/Macintosh/i)&&me(De)),Ke=De=>kt(De,/android|sink/i),me=De=>$t(De,"(any-pointer:coarse)"),tt=De=>nt(De)||Dt(De),nt=De=>!!(De.cordova||De.phonegap||De.PhoneGap),Dt=De=>{const Ee=De.Capacitor;return!(null==Ee||!Ee.isNative)},kt=(De,Ee)=>Ee.test(De.navigator.userAgent),$t=(De,Ee)=>{var Ie;return null===(Ie=De.matchMedia)||void 0===Ie?void 0:Ie.call(De,Ee).matches},an={ipad:We,iphone:De=>kt(De,/iPhone/i),ios:De=>kt(De,/iPhone|iPod/i)||We(De),android:Ke,phablet:De=>{const Ee=De.innerWidth,Ie=De.innerHeight,Z=Math.min(Ee,Ie),Ce=Math.max(Ee,Ie);return Z>390&&Z<520&&Ce>620&&Ce<800},tablet:De=>{const Ee=De.innerWidth,Ie=De.innerHeight,Z=Math.min(Ee,Ie),Ce=Math.max(Ee,Ie);return We(De)||(De=>Ke(De)&&!kt(De,/mobile/i))(De)||Z>460&&Z<820&&Ce>780&&Ce<1400},cordova:nt,capacitor:Dt,electron:De=>kt(De,/electron/i),pwa:De=>{var Ee;return!!(null!==(Ee=De.matchMedia)&&void 0!==Ee&&Ee.call(De,"(display-mode: standalone)").matches||De.navigator.standalone)},mobile:me,mobileweb:De=>me(De)&&!tt(De),desktop:De=>!me(De),hybrid:tt};let Qt;const Tn=De=>De&&(0,d.g)(De)||Qt,Pt=(De={})=>{if(typeof window>"u")return;const Ee=window.document,Ie=window,Z=Ie.Ionic=Ie.Ionic||{},Ce={};De._ael&&(Ce.ael=De._ael),De._rel&&(Ce.rel=De._rel),De._ce&&(Ce.ce=De._ce),(0,d.a)(Ce);const Xe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(De=>{try{const Ee=De.sessionStorage.getItem(Be);return null!==Ee?JSON.parse(Ee):{}}catch{return{}}})(Ie)),{persistConfig:!1}),Z.config),(De=>{const Ee={};return De.location.search.slice(1).split("&").map(Ie=>Ie.split("=")).map(([Ie,Z])=>{try{return[decodeURIComponent(Ie),decodeURIComponent(Z)]}catch{return["",""]}}).filter(([Ie])=>((De,Ee)=>De.substr(0,Ee.length)===Ee)(Ie,"ionic:")).map(([Ie,Z])=>[Ie.slice(6),Z]).forEach(([Ie,Z])=>{Ee[Ie]=Z}),Ee})(Ie)),De);Y.reset(Xe),Y.getBoolean("persistConfig")&&((De,Ee)=>{try{De.sessionStorage.setItem(Be,JSON.stringify(Ee))}catch{return}})(Ie,Xe),Se(Ie),Z.config=Y,Z.mode=Qt=Y.get("mode",Ee.documentElement.getAttribute("mode")||(ue(Ie,"ios")?"ios":"md")),Y.set("mode",Qt),Ee.documentElement.setAttribute("mode",Qt),Ee.documentElement.classList.add(Qt),Y.getBoolean("_testing")&&Y.set("animated",!1);const je=et=>{var rt;return null===(rt=et.tagName)||void 0===rt?void 0:rt.startsWith("ION-")},Re=et=>["ios","md"].includes(et);(0,d.c)(et=>{for(;et;){const rt=et.mode||et.getAttribute("mode");if(rt){if(Re(rt))return rt;je(et)&&console.warn('Invalid ionic mode: "'+rt+'", expected: "ios" or "md"')}et=et.parentElement}return Qt})}},5022:(dn,pt,k)=>{"use strict";k.r(pt),k.d(pt,{iosTransitionAnimation:()=>Ve,shadow:()=>Oe});var d=k(9986),f=k(3604);k(8476),k(9483),k(4261);const ve=it=>document.querySelector(`${it}.ion-cloned-element`),Oe=it=>it.shadowRoot||it,Be=it=>{const Ye="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs"),Ke="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ye){const qe=Ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=qe?qe.querySelector(Ke):null}return it.querySelector(Ke)},fe=(it,Ye)=>{const Ke="ION-TABS"===it.tagName?it:it.querySelector("ion-tabs");let qe=[];if(null!=Ke){const st=Ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=st&&(qe=st.querySelectorAll("ion-buttons"))}else qe=it.querySelectorAll("ion-buttons");for(const st of qe){const pe=st.closest("ion-header"),me=pe&&!pe.classList.contains("header-collapse-condense-inactive"),be=st.querySelector("ion-back-button"),tt=st.classList.contains("buttons-collapse");if(null!==be&&("start"===st.slot||""===st.slot)&&(tt&&me&&Ye||!tt))return be}return null},Se=(it,Ye,Ke,qe,st,pe,me,be,tt)=>{var nt,Dt;const $e=Ye?`calc(100% - ${st.right+4}px)`:st.left-4+"px",xe=Ye?"right":"left",kt=Ye?"left":"right",$t=Ye?"right":"left";let an=1,Qt=1,Tn=`scale(${Qt})`;const Pt="scale(1)";if(pe&&me){const Le=(null===(nt=pe.textContent)||void 0===nt?void 0:nt.trim())===(null===(Dt=be.textContent)||void 0===Dt?void 0:Dt.trim());an=tt.width/me.width,Qt=(tt.height-We)/me.height,Tn=Le?`scale(${an}, ${Qt})`:`scale(${Qt})`}const Ee=Oe(qe).querySelector("ion-icon").getBoundingClientRect(),Ie=Ye?Ee.width/2-(Ee.right-st.right)+"px":st.left-Ee.width/2+"px",Z=Ye?`-${window.innerWidth-st.right}px`:`${st.left}px`,Ce=`${tt.top}px`,Xe=`${st.top}px`,et=Ke?[{offset:0,transform:`translate3d(${Z}, ${Xe}, 0)`},{offset:1,transform:`translate3d(${Ie}, ${Ce}, 0)`}]:[{offset:0,transform:`translate3d(${Ie}, ${Ce}, 0)`},{offset:1,transform:`translate3d(${Z}, ${Xe}, 0)`}],yn=Ke?[{offset:0,opacity:1,transform:Pt},{offset:1,opacity:0,transform:Tn}]:[{offset:0,opacity:0,transform:Tn},{offset:1,opacity:1,transform:Pt}],hn=Ke?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Sn=(0,d.c)(),Nt=(0,d.c)(),qt=(0,d.c)(),xn=ve("ion-back-button"),zt=Oe(xn).querySelector(".button-text"),Me=Oe(xn).querySelector("ion-icon");xn.text=qe.text,xn.mode=qe.mode,xn.icon=qe.icon,xn.color=qe.color,xn.disabled=qe.disabled,xn.style.setProperty("display","block"),xn.style.setProperty("position","fixed"),Nt.addElement(Me),Sn.addElement(zt),qt.addElement(xn),qt.beforeStyles({position:"absolute",top:"0px",[$t]:"0px"}).beforeAddWrite(()=>{qe.style.setProperty("display","none"),xn.style.setProperty(xe,$e)}).afterAddWrite(()=>{qe.style.setProperty("display",""),xn.style.setProperty("display","none"),xn.style.removeProperty(xe)}).keyframes(et),Sn.beforeStyles({"transform-origin":`${xe} top`}).keyframes(yn),Nt.beforeStyles({"transform-origin":`${kt} center`}).keyframes(hn),it.addAnimation([Sn,Nt,qt])},Fe=(it,Ye,Ke,qe,st,pe,me,be,tt)=>{var nt,Dt;const $e=Ye?"right":"left",xe=Ye?`calc(100% - ${st.right}px)`:`${st.left}px`,$t=`${st.top}px`;let Qt=Ye?`-${window.innerWidth-me.right-8}px`:`${me.x+8}px`,Tn=.5;const Pt="scale(1)";let De=`scale(${Tn})`;if(be&&tt){Qt=Ye?`-${window.innerWidth-tt.right-8}px`:tt.x-8+"px";const rt=(null===(nt=be.textContent)||void 0===nt?void 0:nt.trim())===(null===(Dt=qe.textContent)||void 0===Dt?void 0:Dt.trim());Tn=tt.height/(pe.height-We),De=rt?`scale(${tt.width/pe.width}, ${Tn})`:`scale(${Tn})`}const Z=me.top+me.height/2-st.height*Tn/2+"px",je=Ke?[{offset:0,opacity:0,transform:`translate3d(${Qt}, ${Z}, 0) ${De}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${$t}, 0) ${Pt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${$t}, 0) ${Pt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Qt}, ${Z}, 0) ${De}`}],Re=ve("ion-title"),et=(0,d.c)();Re.innerText=qe.innerText,Re.size=qe.size,Re.color=qe.color,et.addElement(Re),et.beforeStyles({"transform-origin":`${$e} top`,height:`${st.height}px`,display:"",position:"relative",[$e]:xe}).beforeAddWrite(()=>{qe.style.setProperty("opacity","0")}).afterAddWrite(()=>{qe.style.setProperty("opacity",""),Re.style.setProperty("display","none")}).keyframes(je),it.addAnimation(et)},Ve=(it,Ye)=>{var Ke;try{const qe="cubic-bezier(0.32,0.72,0,1)",st="opacity",pe="transform",me="0%",tt="rtl"===it.ownerDocument.dir,nt=tt?"-99.5%":"99.5%",Dt=tt?"33%":"-33%",$e=Ye.enteringEl,xe=Ye.leavingEl,kt="back"===Ye.direction,$t=$e.querySelector(":scope > ion-content"),an=$e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Qt=$e.querySelectorAll(":scope > ion-header > ion-toolbar"),Tn=(0,d.c)(),Pt=(0,d.c)();if(Tn.addElement($e).duration((null!==(Ke=Ye.duration)&&void 0!==Ke?Ke:0)||540).easing(Ye.easing||qe).fill("both").beforeRemoveClass("ion-page-invisible"),xe&&null!=it){const Z=(0,d.c)();Z.addElement(it),Tn.addAnimation(Z)}if($t||0!==Qt.length||0!==an.length?(Pt.addElement($t),Pt.addElement(an)):Pt.addElement($e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Tn.addAnimation(Pt),kt?Pt.beforeClearStyles([st]).fromTo("transform",`translateX(${Dt})`,`translateX(${me})`).fromTo(st,.8,1):Pt.beforeClearStyles([st]).fromTo("transform",`translateX(${nt})`,`translateX(${me})`),$t){const Z=Oe($t).querySelector(".transition-effect");if(Z){const Ce=Z.querySelector(".transition-cover"),Xe=Z.querySelector(".transition-shadow"),je=(0,d.c)(),Re=(0,d.c)(),et=(0,d.c)();je.addElement(Z).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Re.addElement(Ce).beforeClearStyles([st]).fromTo(st,0,.1),et.addElement(Xe).beforeClearStyles([st]).fromTo(st,.03,.7),je.addAnimation([Re,et]),Pt.addAnimation([je])}}const De=$e.querySelector("ion-header.header-collapse-condense"),{forward:Ee,backward:Ie}=((it,Ye,Ke,qe,st)=>{const pe=fe(qe,Ke),me=Be(st),be=Be(qe),tt=fe(st,Ke),nt=null!==pe&&null!==me&&!Ke,Dt=null!==be&&null!==tt&&Ke;if(nt){const $e=me.getBoundingClientRect(),xe=pe.getBoundingClientRect(),kt=Oe(pe).querySelector(".button-text"),$t=null==kt?void 0:kt.getBoundingClientRect(),Qt=Oe(me).querySelector(".toolbar-title").getBoundingClientRect();Fe(it,Ye,Ke,me,$e,Qt,xe,kt,$t),Se(it,Ye,Ke,pe,xe,kt,$t,me,Qt)}else if(Dt){const $e=be.getBoundingClientRect(),xe=tt.getBoundingClientRect(),kt=Oe(tt).querySelector(".button-text"),$t=null==kt?void 0:kt.getBoundingClientRect(),Qt=Oe(be).querySelector(".toolbar-title").getBoundingClientRect();Fe(it,Ye,Ke,be,$e,Qt,xe,kt,$t),Se(it,Ye,Ke,tt,xe,kt,$t,be,Qt)}return{forward:nt,backward:Dt}})(Tn,tt,kt,$e,xe);if(Qt.forEach(Z=>{const Ce=(0,d.c)();Ce.addElement(Z),Tn.addAnimation(Ce);const Xe=(0,d.c)();Xe.addElement(Z.querySelector("ion-title"));const je=(0,d.c)(),Re=Array.from(Z.querySelectorAll("ion-buttons,[menuToggle]")),et=Z.closest("ion-header"),rt=null==et?void 0:et.classList.contains("header-collapse-condense-inactive");let Tt;Tt=Re.filter(kt?Sn=>{const Nt=Sn.classList.contains("buttons-collapse");return Nt&&!rt||!Nt}:Sn=>!Sn.classList.contains("buttons-collapse")),je.addElement(Tt);const yn=(0,d.c)();yn.addElement(Z.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const at=(0,d.c)();at.addElement(Oe(Z).querySelector(".toolbar-background"));const rn=(0,d.c)(),hn=Z.querySelector("ion-back-button");if(hn&&rn.addElement(hn),Ce.addAnimation([Xe,je,yn,at,rn]),je.fromTo(st,.01,1),yn.fromTo(st,.01,1),kt)rt||Xe.fromTo("transform",`translateX(${Dt})`,`translateX(${me})`).fromTo(st,.01,1),yn.fromTo("transform",`translateX(${Dt})`,`translateX(${me})`),rn.fromTo(st,.01,1);else if(De||Xe.fromTo("transform",`translateX(${nt})`,`translateX(${me})`).fromTo(st,.01,1),yn.fromTo("transform",`translateX(${nt})`,`translateX(${me})`),at.beforeClearStyles([st,"transform"]),(null==et?void 0:et.translucent)?at.fromTo("transform",tt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):at.fromTo(st,.01,"var(--opacity)"),Ee||rn.fromTo(st,.01,1),hn&&!Ee){const Nt=(0,d.c)();Nt.addElement(Oe(hn).querySelector(".button-text")).fromTo("transform",tt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ce.addAnimation(Nt)}}),xe){const Z=(0,d.c)(),Ce=xe.querySelector(":scope > ion-content"),Xe=xe.querySelectorAll(":scope > ion-header > ion-toolbar"),je=xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ce||0!==Xe.length||0!==je.length?(Z.addElement(Ce),Z.addElement(je)):Z.addElement(xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Tn.addAnimation(Z),kt){Z.beforeClearStyles([st]).fromTo("transform",`translateX(${me})`,tt?"translateX(-100%)":"translateX(100%)");const Re=(0,f.g)(xe);Tn.afterAddWrite(()=>{"normal"===Tn.getDirection()&&Re.style.setProperty("display","none")})}else Z.fromTo("transform",`translateX(${me})`,`translateX(${Dt})`).fromTo(st,1,.8);if(Ce){const Re=Oe(Ce).querySelector(".transition-effect");if(Re){const et=Re.querySelector(".transition-cover"),rt=Re.querySelector(".transition-shadow"),Tt=(0,d.c)(),yn=(0,d.c)(),at=(0,d.c)();Tt.addElement(Re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),yn.addElement(et).beforeClearStyles([st]).fromTo(st,.1,0),at.addElement(rt).beforeClearStyles([st]).fromTo(st,.7,.03),Tt.addAnimation([yn,at]),Z.addAnimation([Tt])}}Xe.forEach(Re=>{const et=(0,d.c)();et.addElement(Re);const rt=(0,d.c)();rt.addElement(Re.querySelector("ion-title"));const Tt=(0,d.c)(),yn=Re.querySelectorAll("ion-buttons,[menuToggle]"),at=Re.closest("ion-header"),rn=null==at?void 0:at.classList.contains("header-collapse-condense-inactive"),hn=Array.from(yn).filter(Me=>{const Le=Me.classList.contains("buttons-collapse");return Le&&!rn||!Le});Tt.addElement(hn);const Sn=(0,d.c)(),Nt=Re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Nt.length>0&&Sn.addElement(Nt);const qt=(0,d.c)();qt.addElement(Oe(Re).querySelector(".toolbar-background"));const xn=(0,d.c)(),zt=Re.querySelector("ion-back-button");if(zt&&xn.addElement(zt),et.addAnimation([rt,Tt,Sn,xn,qt]),Tn.addAnimation(et),xn.fromTo(st,.99,0),Tt.fromTo(st,.99,0),Sn.fromTo(st,.99,0),kt){if(rn||rt.fromTo("transform",`translateX(${me})`,tt?"translateX(-100%)":"translateX(100%)").fromTo(st,.99,0),Sn.fromTo("transform",`translateX(${me})`,tt?"translateX(-100%)":"translateX(100%)"),qt.beforeClearStyles([st,"transform"]),(null==at?void 0:at.translucent)?qt.fromTo("transform","translateX(0px)",tt?"translateX(-100%)":"translateX(100%)"):qt.fromTo(st,"var(--opacity)",0),zt&&!Ie){const Le=(0,d.c)();Le.addElement(Oe(zt).querySelector(".button-text")).fromTo("transform",`translateX(${me})`,`translateX(${(tt?-124:124)+"px"})`),et.addAnimation(Le)}}else rn||rt.fromTo("transform",`translateX(${me})`,`translateX(${Dt})`).fromTo(st,.99,0).afterClearStyles([pe,st]),Sn.fromTo("transform",`translateX(${me})`,`translateX(${Dt})`).afterClearStyles([pe,st]),xn.afterClearStyles([st]),rt.afterClearStyles([st]),Tt.afterClearStyles([st])})}return Tn}catch(qe){throw qe}},We=10},3615:(dn,pt,k)=>{"use strict";k.r(pt),k.d(pt,{mdTransitionAnimation:()=>he});var d=k(9986),f=k(3604);k(8476),k(9483),k(4261);const he=(ve,Oe)=>{var Be,fe,ue;const Ve="back"===Oe.direction,it=Oe.leavingEl,Ye=(0,f.g)(Oe.enteringEl),Ke=Ye.querySelector("ion-toolbar"),qe=(0,d.c)();if(qe.addElement(Ye).fill("both").beforeRemoveClass("ion-page-invisible"),Ve?qe.duration((null!==(Be=Oe.duration)&&void 0!==Be?Be:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):qe.duration((null!==(fe=Oe.duration)&&void 0!==fe?fe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ke){const st=(0,d.c)();st.addElement(Ke),qe.addAnimation(st)}if(it&&Ve){qe.duration((null!==(ue=Oe.duration)&&void 0!==ue?ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const st=(0,d.c)();st.addElement((0,f.g)(it)).onFinish(pe=>{1===pe&&st.elements.length>0&&st.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),qe.addAnimation(st)}return qe}},5229:(dn,pt,k)=>{"use strict";k.d(pt,{B:()=>yn,F:()=>zt,G:()=>at,O:()=>rn,a:()=>Ye,b:()=>Ke,c:()=>me,d:()=>hn,e:()=>Sn,f:()=>Ee,g:()=>Z,h:()=>je,i:()=>et,j:()=>tt,k:()=>nt,m:()=>st,n:()=>fe,o:()=>Pt,q:()=>ue,s:()=>Tt});var d=k(467),f=k(8476),Y=k(4920),J=k(7192),se=k(9483),he=k(8621),ve=k(1970),Oe=k(4929);const Be='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',fe=(Me,Le)=>{const Rt=Me.querySelector(Be);Se(Rt,null!=Le?Le:Me)},ue=(Me,Le)=>{const Rt=Array.from(Me.querySelectorAll(Be));Se(Rt.length>0?Rt[Rt.length-1]:null,null!=Le?Le:Me)},Se=(Me,Le)=>{let Rt=Me;const vt=null==Me?void 0:Me.shadowRoot;vt&&(Rt=vt.querySelector(Be)||Me),Rt?(0,Y.f)(Rt):Le.focus()};let Fe=0,Ve=0;const We=new WeakMap,it=Me=>({create:Le=>Dt(Me,Le),dismiss:(Le,Rt,vt)=>an(document,Le,Rt,Me,vt),getTop:()=>(0,d.A)(function*(){return Pt(document,Me)})()}),Ye=it("ion-alert"),Ke=it("ion-action-sheet"),st=it("ion-modal"),me=it("ion-popover"),tt=Me=>{typeof document<"u"&&$t(document);const Le=Fe++;Me.overlayIndex=Le},nt=Me=>(Me.hasAttribute("id")||(Me.id="ion-overlay-"+ ++Ve),Me.id),Dt=(Me,Le)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Me).then(()=>{const Rt=document.createElement(Me);return Rt.classList.add("overlay-hidden"),Object.assign(Rt,Object.assign(Object.assign({},Le),{hasController:!0})),Ce(document).appendChild(Rt),new Promise(vt=>(0,Y.c)(Rt,vt))}):Promise.resolve(),xe=(Me,Le)=>{let Rt=Me;const vt=null==Me?void 0:Me.shadowRoot;vt&&(Rt=vt.querySelector(Be)||Me),Rt?(0,Y.f)(Rt):Le.focus()},$t=Me=>{0===Fe&&(Fe=1,Me.addEventListener("focus",Le=>{((Me,Le)=>{const Rt=Pt(Le,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),vt=Me.target;Rt&&vt&&!Rt.classList.contains(zt)&&(Rt.shadowRoot?(()=>{if(Rt.contains(vt))Rt.lastFocus=vt;else if("ION-TOAST"===vt.tagName)xe(Rt.lastFocus,Rt);else{const Cn=Rt.lastFocus;fe(Rt),Cn===Le.activeElement&&ue(Rt),Rt.lastFocus=Le.activeElement}})():(()=>{if(Rt===vt)Rt.lastFocus=void 0;else if("ION-TOAST"===vt.tagName)xe(Rt.lastFocus,Rt);else{const Cn=(0,Y.g)(Rt);if(!Cn.contains(vt))return;const gn=Cn.querySelector(".ion-overlay-wrapper");if(!gn)return;if(gn.contains(vt)||vt===Cn.querySelector("ion-backdrop"))Rt.lastFocus=vt;else{const Zn=Rt.lastFocus;fe(gn,Rt),Zn===Le.activeElement&&ue(gn,Rt),Rt.lastFocus=Le.activeElement}}})())})(Le,Me)},!0),Me.addEventListener("ionBackButton",Le=>{const Rt=Pt(Me);null!=Rt&&Rt.backdropDismiss&&Le.detail.register(J.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Rt.dismiss(void 0,yn)})}),(0,J.shouldUseCloseWatcher)()||Me.addEventListener("keydown",Le=>{if("Escape"===Le.key){const Rt=Pt(Me);null!=Rt&&Rt.backdropDismiss&&Rt.dismiss(void 0,yn)}}))},an=(Me,Le,Rt,vt,On)=>{const jn=Pt(Me,vt,On);return jn?jn.dismiss(Le,Rt):Promise.reject("overlay does not exist")},Tn=(Me,Le)=>((Me,Le)=>(void 0===Le&&(Le="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Me.querySelectorAll(Le)).filter(Rt=>Rt.overlayIndex>0)))(Me,Le).filter(Rt=>!(Me=>Me.classList.contains("overlay-hidden"))(Rt)),Pt=(Me,Le,Rt)=>{const vt=Tn(Me,Le);return void 0===Rt?vt[vt.length-1]:vt.find(On=>On.id===Rt)},De=(Me=!1)=>{const Rt=Ce(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Rt&&(Me?Rt.setAttribute("aria-hidden","true"):Rt.removeAttribute("aria-hidden"))},Ee=function(){var Me=(0,d.A)(function*(Le,Rt,vt,On,jn){var Cn,gn;if(Le.presented)return;"ION-TOAST"!==Le.el.tagName&&De(!0),document.body.classList.add(ve.B),qt(Le.el),Nt(Le.el),Le.presented=!0,Le.willPresent.emit(),null===(Cn=Le.willPresentShorthand)||void 0===Cn||Cn.emit();const Zn=(0,se.b)(Le),Xn=Le.enterAnimation?Le.enterAnimation:se.c.get(Rt,"ios"===Zn?vt:On);(yield Xe(Le,Xn,Le.el,jn))&&(Le.didPresent.emit(),null===(gn=Le.didPresentShorthand)||void 0===gn||gn.emit()),"ION-TOAST"!==Le.el.tagName&&Ie(Le.el),Le.keyboardClose&&(null===document.activeElement||!Le.el.contains(document.activeElement))&&Le.el.focus(),Le.el.removeAttribute("aria-hidden")});return function(Rt,vt,On,jn,Cn){return Me.apply(this,arguments)}}(),Ie=function(){var Me=(0,d.A)(function*(Le){let Rt=document.activeElement;if(!Rt)return;const vt=null==Rt?void 0:Rt.shadowRoot;vt&&(Rt=vt.querySelector(Be)||Rt),yield Le.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Rt.focus()});return function(Rt){return Me.apply(this,arguments)}}(),Z=function(){var Me=(0,d.A)(function*(Le,Rt,vt,On,jn,Cn,gn){var Zn,Xn;if(!Le.presented)return!1;const Gn=void 0!==f.d?Tn(f.d).filter(Dr=>"ION-TOAST"!==Dr.tagName):[];1===Gn.length&&Gn[0].id===Le.el.id&&(De(!1),document.body.classList.remove(ve.B)),Le.presented=!1;try{Nt(Le.el),Le.el.style.setProperty("pointer-events","none"),Le.willDismiss.emit({data:Rt,role:vt}),null===(Zn=Le.willDismissShorthand)||void 0===Zn||Zn.emit({data:Rt,role:vt});const Dr=(0,se.b)(Le),zr=Le.leaveAnimation?Le.leaveAnimation:se.c.get(On,"ios"===Dr?jn:Cn);vt!==at&&(yield Xe(Le,zr,Le.el,gn)),Le.didDismiss.emit({data:Rt,role:vt}),null===(Xn=Le.didDismissShorthand)||void 0===Xn||Xn.emit({data:Rt,role:vt}),(We.get(Le)||[]).forEach(xr=>xr.destroy()),We.delete(Le),Le.el.classList.add("overlay-hidden"),Le.el.style.removeProperty("pointer-events"),void 0!==Le.el.lastFocus&&(Le.el.lastFocus=void 0)}catch(Dr){console.error(Dr)}return Le.el.remove(),xn(),!0});return function(Rt,vt,On,jn,Cn,gn,Zn){return Me.apply(this,arguments)}}(),Ce=Me=>Me.querySelector("ion-app")||Me.body,Xe=function(){var Me=(0,d.A)(function*(Le,Rt,vt,On){vt.classList.remove("overlay-hidden");const Cn=Rt(Le.el,On);(!Le.animated||!se.c.getBoolean("animated",!0))&&Cn.duration(0),Le.keyboardClose&&Cn.beforeAddWrite(()=>{const Zn=vt.ownerDocument.activeElement;null!=Zn&&Zn.matches("input,ion-input, ion-textarea")&&Zn.blur()});const gn=We.get(Le)||[];return We.set(Le,[...gn,Cn]),yield Cn.play(),!0});return function(Rt,vt,On,jn){return Me.apply(this,arguments)}}(),je=(Me,Le)=>{let Rt;const vt=new Promise(On=>Rt=On);return Re(Me,Le,On=>{Rt(On.detail)}),vt},Re=(Me,Le,Rt)=>{const vt=On=>{(0,Y.b)(Me,Le,vt),Rt(On)};(0,Y.a)(Me,Le,vt)},et=Me=>"cancel"===Me||Me===yn,rt=Me=>Me(),Tt=(Me,Le)=>{if("function"==typeof Me)return se.c.get("_zoneGate",rt)(()=>{try{return Me(Le)}catch(vt){throw vt}})},yn="backdrop",at="gesture",rn=39,hn=Me=>{let Rt,Le=!1;const vt=(0,he.C)(),On=(gn=!1)=>{if(Rt&&!gn)return{delegate:Rt,inline:Le};const{el:Zn,hasController:Xn,delegate:Gn}=Me;return Le=null!==Zn.parentNode&&!Xn,Rt=Le?Gn||vt:Gn,{inline:Le,delegate:Rt}};return{attachViewToDom:function(){var gn=(0,d.A)(function*(Zn){const{delegate:Xn}=On(!0);if(Xn)return yield Xn.attachViewToDom(Me.el,Zn);const{hasController:Gn}=Me;if(Gn&&void 0!==Zn)throw new Error("framework delegate is missing");return null});return function(Xn){return gn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:gn}=On();gn&&void 0!==Me.el&&gn.removeViewFromDom(Me.el.parentElement,Me.el)}}},Sn=()=>{let Me;const Le=()=>{Me&&(Me(),Me=void 0)};return{addClickListener:(vt,On)=>{Le();const jn=void 0!==On?document.getElementById(On):null;jn?Me=((gn,Zn)=>{const Xn=()=>{Zn.present()};return gn.addEventListener("click",Xn),()=>{gn.removeEventListener("click",Xn)}})(jn,vt):(0,Oe.p)(`A trigger element with the ID "${On}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,vt)},removeClickListener:Le}},Nt=Me=>{void 0!==f.d&&Me.setAttribute("aria-hidden","true")},qt=Me=>{var Le;if(void 0===f.d)return;const Rt=Tn(f.d);for(let vt=Rt.length-1;vt>=0;vt--){const On=Rt[vt],jn=null!==(Le=Rt[vt+1])&&void 0!==Le?Le:Me;(jn.hasAttribute("aria-hidden")||"ION-TOAST"!==jn.tagName)&&On.setAttribute("aria-hidden","true")}},xn=()=>{if(void 0===f.d)return;const Me=Tn(f.d);for(let Le=Me.length-1;Le>=0;Le--){const Rt=Me[Le];if(Rt.removeAttribute("aria-hidden"),"ION-TOAST"!==Rt.tagName)break}},zt="ion-disable-focus-trap"},4796:(dn,pt,k)=>{"use strict";k.d(pt,{u:()=>he});var d=k(467),f=k(4438),Y=k(1182),J=k(8079),se=k(4964);let he=(()=>{var ve;class Oe{constructor(fe,ue,Se){this.afAuth=fe,this.firestore=ue,this.router=Se}register(fe,ue,Se,Fe){var Ve=this;return(0,d.A)(function*(){try{var We;console.log("Iniciando registro con:",{email:fe,name:Se,role:Fe});const Ye=null===(We=(yield Ve.afAuth.createUserWithEmailAndPassword(fe,ue)).user)||void 0===We?void 0:We.uid;console.log("Usuario creado con uid:",Ye);const Ke={name:Se,email:fe,role:Fe,uid:Ye,createdAt:(new Date).toISOString()};return yield Ve.firestore.collection("users").doc(Ye).set(Ke),console.log("Datos de usuario guardados en Firestore:",Ke),Ke}catch(it){throw console.error("Error en el registro",it),it}})()}getUserRole(fe){var ue=this;return(0,d.A)(function*(){const Se=yield ue.firestore.collection("users").doc(fe).get().toPromise();return(null==Se?void 0:Se.data()).role||"usuario"})()}loginUser(fe,ue){var Se=this;return(0,d.A)(function*(){var Fe;const We=null===(Fe=(yield Se.afAuth.signInWithEmailAndPassword(fe,ue)).user)||void 0===Fe?void 0:Fe.uid;if(We){const it=yield Se.getUserRole(We);"usuario"===it?Se.router.navigate(["/user-home"]):"veterinario"===it?Se.router.navigate(["/vet-home"]):"admin"===it&&Se.router.navigate(["/admin-home"])}})()}resetPassword(fe){var ue=this;return(0,d.A)(function*(){try{if(!(yield ue.checkIfUserExists(fe)))throw new Error("auth/user-not-found");yield ue.afAuth.sendPasswordResetEmail(fe)}catch(Se){throw Se}})()}checkIfUserExists(fe){var ue=this;return(0,d.A)(function*(){const Fe=yield ue.firestore.collection("users",Ve=>Ve.where("email","==",fe)).get().toPromise();return!!Fe&&!Fe.empty})()}logout(){var fe=this;return(0,d.A)(function*(){yield fe.afAuth.signOut(),fe.router.navigate(["/login"])})()}getCurrentUserRole(){var fe=this;return(0,d.A)(function*(){const ue=yield fe.afAuth.currentUser;if(ue){const Se=ue.uid,Fe=yield fe.firestore.collection("users").doc(Se).ref.get();if(Fe.exists)return Fe.data().role||"usuario"}return"usuario"})()}getUserId(){var fe=this;return(0,d.A)(function*(){const ue=yield fe.afAuth.currentUser;return ue?ue.uid:null})()}isAdmin(){var fe=this;return(0,d.A)(function*(){const ue=yield fe.getUserId();if(ue){const Se=yield fe.firestore.collection("users").doc(ue).get().toPromise();return"admin"===(null==Se?void 0:Se.data()).role}return!1})()}getUserName(){var fe=this;return(0,d.A)(function*(){const ue=yield fe.afAuth.currentUser;if(ue)try{const Se=yield fe.firestore.collection("users").doc(ue.uid).get().toPromise();if(Se&&Se.exists){const Fe=Se.data();return Fe.name||Fe.email||"Usuario"}}catch(Se){console.error("Error al obtener el nombre del usuario:",Se)}return"Usuario"})()}}return(ve=Oe).\u0275fac=function(fe){return new(fe||ve)(f.KVO(Y.DS),f.KVO(J.Qe),f.KVO(se.Ix))},ve.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"}),Oe})()},6898:(dn,pt,k)=>{"use strict";k.d(pt,{i:()=>Y});var d=k(4438),f=k(8079);let Y=(()=>{var J;class se{constructor(ve){this.firestore=ve}getCitas(){return this.firestore.collection("citas").valueChanges({idField:"id"})}getCitasByMascotaId(ve){return this.firestore.collection("citas",Oe=>Oe.where("mascotaId","==",ve)).valueChanges({idField:"id"})}createCita(ve){return this.firestore.collection("citas").add(ve)}updateCita(ve,Oe){return this.firestore.collection("citas").doc(ve).update(Oe)}deleteCita(ve){return this.firestore.collection("citas").doc(ve).delete()}}return(J=se).\u0275fac=function(ve){return new(ve||J)(d.KVO(f.Qe))},J.\u0275prov=d.jDH({token:J,factory:J.\u0275fac,providedIn:"root"}),se})()},3656:(dn,pt,k)=>{"use strict";var d=k(345),f=k(4964),Y=k(2872),J=k(4742),se=k(4438),he=k(4796);let ve=(()=>{var qe;class st{constructor(me){this.authService=me}}return(qe=st).\u0275fac=function(me){return new(me||qe)(se.rXU(he.u))},qe.\u0275cmp=se.VBU({type:qe,selectors:[["app-root"]],decls:2,vars:0,template:function(me,be){1&me&&(se.j41(0,"ion-app"),se.nrm(1,"ion-router-outlet"),se.k0s())},dependencies:[J.U1,J.Rg]}),st})();var Oe=k(467);let Be=(()=>{var qe;class st{constructor(me,be){this.authService=me,this.router=be}canActivate(me){var be=this;return(0,Oe.A)(function*(){try{const tt=me.data.expectedRole,nt=yield be.authService.getCurrentUserRole();if(!(yield be.authService.getUserId()))return be.router.navigate(["/login"]),!1;if(nt!==tt){switch(nt){case"admin":be.router.navigate(["/admin-home"]);break;case"veterinario":be.router.navigate(["/vet-home"]);break;case"usuario":be.router.navigate(["/user-home"]);break;default:be.router.navigate(["/login"])}return!1}return!0}catch(tt){return console.error("Error en auth guard:",tt),be.router.navigate(["/login"]),!1}})()}}return(qe=st).\u0275fac=function(me){return new(me||qe)(se.KVO(he.u),se.KVO(f.Ix))},qe.\u0275prov=se.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"}),st})();const fe=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadChildren:()=>k.e(6688).then(k.bind(k,6688)).then(qe=>qe.LoginPageModule)},{path:"register",loadChildren:()=>k.e(3825).then(k.bind(k,3825)).then(qe=>qe.RegisterPageModule)},{path:"admin-home",loadChildren:()=>Promise.all([k.e(2076),k.e(5675)]).then(k.bind(k,5675)).then(qe=>qe.AdminHomePageModule),canActivate:[Be],data:{expectedRole:"admin"}},{path:"vet-home",loadChildren:()=>Promise.all([k.e(2076),k.e(1756)]).then(k.bind(k,1756)).then(qe=>qe.VetHomePageModule),canActivate:[Be],data:{expectedRole:"veterinario"}},{path:"user-home",loadChildren:()=>k.e(750).then(k.bind(k,750)).then(qe=>qe.UserHomePageModule),canActivate:[Be],data:{expectedRole:"usuario"}},{path:"reset-password",loadChildren:()=>k.e(4203).then(k.bind(k,4203)).then(qe=>qe.ResetPasswordPageModule)},{path:"**",redirectTo:"login"}];let ue=(()=>{var qe;class st{}return(qe=st).\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=se.$C({type:qe}),qe.\u0275inj=se.G2t({imports:[f.iI.forRoot(fe,{preloadingStrategy:f.Kp}),f.iI]}),st})();var Se=k(9253),Fe=k(1182),Ve=k(8079);const We_firebaseConfig={apiKey:"AIzaSyBHEKWxVIeQtzYg5q9aX0zULuOA2gJVQww",authDomain:"vetplan-bedfe.firebaseapp.com",projectId:"vetplan-bedfe",storageBucket:"vetplan-bedfe.firebasestorage.app",messagingSenderId:"595506736843",appId:"1:595506736843:web:166c56116b7646be3d354e"};var it=k(6898),Ye=k(9417);let Ke=(()=>{var qe;class st{}return(qe=st).\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=se.$C({type:qe,bootstrap:[ve]}),qe.\u0275inj=se.G2t({providers:[it.i,{provide:f.b,useClass:Y.jM}],imports:[d.Bb,J.bv.forRoot(),ue,Se.bf.initializeApp(We_firebaseConfig),Fe.X8,Ve.cM,J.bv,Ye.X1,Ye.YN]}),st})();d.sG().bootstrapModule(Ke).catch(qe=>console.log(qe))},4412:(dn,pt,k)=>{"use strict";k.d(pt,{t:()=>f});var d=k(1413);class f extends d.B{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const se=super._subscribe(J);return!se.closed&&J.next(this._value),se}getValue(){const{hasError:J,thrownError:se,_value:he}=this;if(J)throw se;return this._throwIfClosed(),he}next(J){super.next(this._value=J)}}},1985:(dn,pt,k)=>{"use strict";k.d(pt,{c:()=>Oe});var d=k(7707),f=k(8359),Y=k(3494),J=k(1203),se=k(1026),he=k(8071),ve=k(9786);let Oe=(()=>{class Se{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const We=new Se;return We.source=this,We.operator=Ve,We}subscribe(Ve,We,it){const Ye=function ue(Se){return Se&&Se instanceof d.vU||function fe(Se){return Se&&(0,he.T)(Se.next)&&(0,he.T)(Se.error)&&(0,he.T)(Se.complete)}(Se)&&(0,f.Uv)(Se)}(Ve)?Ve:new d.Ms(Ve,We,it);return(0,ve.Y)(()=>{const{operator:Ke,source:qe}=this;Ye.add(Ke?Ke.call(Ye,qe):qe?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(We){Ve.error(We)}}forEach(Ve,We){return new(We=Be(We))((it,Ye)=>{const Ke=new d.Ms({next:qe=>{try{Ve(qe)}catch(st){Ye(st),Ke.unsubscribe()}},error:Ye,complete:it});this.subscribe(Ke)})}_subscribe(Ve){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ve)}[Y.s](){return this}pipe(...Ve){return(0,J.m)(Ve)(this)}toPromise(Ve){return new(Ve=Be(Ve))((We,it)=>{let Ye;this.subscribe(Ke=>Ye=Ke,Ke=>it(Ke),()=>We(Ye))})}}return Se.create=Fe=>new Se(Fe),Se})();function Be(Se){var Fe;return null!==(Fe=null!=Se?Se:se.$.Promise)&&void 0!==Fe?Fe:Promise}},1413:(dn,pt,k)=>{"use strict";k.d(pt,{B:()=>ve});var d=k(1985),f=k(8359);const J=(0,k(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=k(7908),he=k(9786);let ve=(()=>{class Be extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Se=new Oe(this,this);return Se.operator=ue,Se}_throwIfClosed(){if(this.closed)throw new J}next(ue){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(ue)}})}error(ue){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Se}=this;for(;Se.length;)Se.shift().error(ue)}})}complete(){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Se,isStopped:Fe,observers:Ve}=this;return Se||Fe?f.Kn:(this.currentObservers=null,Ve.push(ue),new f.yU(()=>{this.currentObservers=null,(0,se.o)(Ve,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Se,thrownError:Fe,isStopped:Ve}=this;Se?ue.error(Fe):Ve&&ue.complete()}asObservable(){const ue=new d.c;return ue.source=this,ue}}return Be.create=(fe,ue)=>new Oe(fe,ue),Be})();class Oe extends ve{constructor(fe,ue){super(),this.destination=fe,this.source=ue}next(fe){var ue,Se;null===(Se=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Se||Se.call(ue,fe)}error(fe){var ue,Se;null===(Se=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Se||Se.call(ue,fe)}complete(){var fe,ue;null===(ue=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===ue||ue.call(fe)}_subscribe(fe){var ue,Se;return null!==(Se=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(fe))&&void 0!==Se?Se:f.Kn}}},7707:(dn,pt,k)=>{"use strict";k.d(pt,{Ms:()=>it,vU:()=>Se});var d=k(8071),f=k(8359),Y=k(1026),J=k(5334),se=k(5343);const he=Be("C",void 0,void 0);function Be(pe,me,be){return{kind:pe,value:me,error:be}}var fe=k(9270),ue=k(9786);class Se extends f.yU{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,f.Uv)(me)&&me.add(this)):this.destination=st}static create(me,be,tt){return new it(me,be,tt)}next(me){this.isStopped?qe(function Oe(pe){return Be("N",pe,void 0)}(me),this):this._next(me)}error(me){this.isStopped?qe(function ve(pe){return Be("E",void 0,pe)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?qe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Ve(pe,me){return Fe.call(pe,me)}class We{constructor(me){this.partialObserver=me}next(me){const{partialObserver:be}=this;if(be.next)try{be.next(me)}catch(tt){Ye(tt)}}error(me){const{partialObserver:be}=this;if(be.error)try{be.error(me)}catch(tt){Ye(tt)}else Ye(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(be){Ye(be)}}}class it extends Se{constructor(me,be,tt){let nt;if(super(),(0,d.T)(me)||!me)nt={next:null!=me?me:void 0,error:null!=be?be:void 0,complete:null!=tt?tt:void 0};else{let Dt;this&&Y.$.useDeprecatedNextContext?(Dt=Object.create(me),Dt.unsubscribe=()=>this.unsubscribe(),nt={next:me.next&&Ve(me.next,Dt),error:me.error&&Ve(me.error,Dt),complete:me.complete&&Ve(me.complete,Dt)}):nt=me}this.destination=new We(nt)}}function Ye(pe){Y.$.useDeprecatedSynchronousErrorHandling?(0,ue.l)(pe):(0,J.m)(pe)}function qe(pe,me){const{onStoppedNotification:be}=Y.$;be&&fe.f.setTimeout(()=>be(pe,me))}const st={closed:!0,next:se.l,error:function Ke(pe){throw pe},complete:se.l}},8359:(dn,pt,k)=>{"use strict";k.d(pt,{Kn:()=>he,yU:()=>se,Uv:()=>ve});var d=k(8071);const Y=(0,k(1853).L)(Be=>function(ue){Be(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Se,Fe)=>`${Fe+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var J=k(7908);class se{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Ve of ue)Ve.remove(this);else ue.remove(this);const{initialTeardown:Se}=this;if((0,d.T)(Se))try{Se()}catch(Ve){fe=Ve instanceof Y?Ve.errors:[Ve]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Ve of Fe)try{Oe(Ve)}catch(We){fe=null!=fe?fe:[],We instanceof Y?fe=[...fe,...We.errors]:fe.push(We)}}if(fe)throw new Y(fe)}}add(fe){var ue;if(fe&&fe!==this)if(this.closed)Oe(fe);else{if(fe instanceof se){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(fe)}}_hasParent(fe){const{_parentage:ue}=this;return ue===fe||Array.isArray(ue)&&ue.includes(fe)}_addParent(fe){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(fe),ue):ue?[ue,fe]:fe}_removeParent(fe){const{_parentage:ue}=this;ue===fe?this._parentage=null:Array.isArray(ue)&&(0,J.o)(ue,fe)}remove(fe){const{_finalizers:ue}=this;ue&&(0,J.o)(ue,fe),fe instanceof se&&fe._removeParent(this)}}se.EMPTY=(()=>{const Be=new se;return Be.closed=!0,Be})();const he=se.EMPTY;function ve(Be){return Be instanceof se||Be&&"closed"in Be&&(0,d.T)(Be.remove)&&(0,d.T)(Be.add)&&(0,d.T)(Be.unsubscribe)}function Oe(Be){(0,d.T)(Be)?Be():Be.unsubscribe()}},1026:(dn,pt,k)=>{"use strict";k.d(pt,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(dn,pt,k)=>{"use strict";k.d(pt,{z:()=>fe});var d=k(1985),f=k(3073),Y=k(8455),J=k(3669),se=k(6450),he=k(3794),ve=k(8496),Oe=k(4360),Be=k(5225);function fe(...Fe){const Ve=(0,he.lI)(Fe),We=(0,he.ms)(Fe),{args:it,keys:Ye}=(0,f.D)(Fe);if(0===it.length)return(0,Y.H)([],Ve);const Ke=new d.c(function ue(Fe,Ve,We=J.D){return it=>{Se(Ve,()=>{const{length:Ye}=Fe,Ke=new Array(Ye);let qe=Ye,st=Ye;for(let pe=0;pe<Ye;pe++)Se(Ve,()=>{const me=(0,Y.H)(Fe[pe],Ve);let be=!1;me.subscribe((0,Oe._)(it,tt=>{Ke[pe]=tt,be||(be=!0,st--),st||it.next(We(Ke.slice()))},()=>{--qe||it.complete()}))},it)},it)}}(it,Ve,Ye?qe=>(0,ve.e)(Ye,qe):J.D));return We?Ke.pipe((0,se.I)(We)):Ke}function Se(Fe,Ve,We){Fe?(0,Be.N)(We,Fe,Ve):Ve()}},8793:(dn,pt,k)=>{"use strict";k.d(pt,{x:()=>se});var d=k(6365),Y=k(3794),J=k(8455);function se(...he){return function f(){return(0,d.U)(1)}()((0,J.H)(he,(0,Y.lI)(he)))}},983:(dn,pt,k)=>{"use strict";k.d(pt,{w:()=>f});const f=new(k(1985).c)(se=>se.complete())},7468:(dn,pt,k)=>{"use strict";k.d(pt,{p:()=>Oe});var d=k(1985),f=k(3073),Y=k(8750),J=k(3794),se=k(4360),he=k(6450),ve=k(8496);function Oe(...Be){const fe=(0,J.ms)(Be),{args:ue,keys:Se}=(0,f.D)(Be),Fe=new d.c(Ve=>{const{length:We}=ue;if(!We)return void Ve.complete();const it=new Array(We);let Ye=We,Ke=We;for(let qe=0;qe<We;qe++){let st=!1;(0,Y.Tg)(ue[qe]).subscribe((0,se._)(Ve,pe=>{st||(st=!0,Ke--),it[qe]=pe},()=>Ye--,void 0,()=>{(!Ye||!st)&&(Ke||Ve.next(Se?(0,ve.e)(Se,it):it),Ve.complete())}))}});return fe?Fe.pipe((0,he.I)(fe)):Fe}},8455:(dn,pt,k)=>{"use strict";k.d(pt,{H:()=>me});var d=k(8750),f=k(941),Y=k(6745),he=k(1985),Oe=k(4761),Be=k(8071),fe=k(5225);function Se(be,tt){if(!be)throw new Error("Iterable cannot be null");return new he.c(nt=>{(0,fe.N)(nt,tt,()=>{const Dt=be[Symbol.asyncIterator]();(0,fe.N)(nt,tt,()=>{Dt.next().then($e=>{$e.done?nt.complete():nt.next($e.value)})},0,!0)})})}var Fe=k(5055),Ve=k(9858),We=k(7441),it=k(5397),Ye=k(7953),Ke=k(591),qe=k(5196);function me(be,tt){return tt?function pe(be,tt){if(null!=be){if((0,Fe.l)(be))return function J(be,tt){return(0,d.Tg)(be).pipe((0,Y._)(tt),(0,f.Q)(tt))}(be,tt);if((0,We.X)(be))return function ve(be,tt){return new he.c(nt=>{let Dt=0;return tt.schedule(function(){Dt===be.length?nt.complete():(nt.next(be[Dt++]),nt.closed||this.schedule())})})}(be,tt);if((0,Ve.y)(be))return function se(be,tt){return(0,d.Tg)(be).pipe((0,Y._)(tt),(0,f.Q)(tt))}(be,tt);if((0,Ye.T)(be))return Se(be,tt);if((0,it.x)(be))return function ue(be,tt){return new he.c(nt=>{let Dt;return(0,fe.N)(nt,tt,()=>{Dt=be[Oe.l](),(0,fe.N)(nt,tt,()=>{let $e,xe;try{({value:$e,done:xe}=Dt.next())}catch(kt){return void nt.error(kt)}xe?nt.complete():nt.next($e)},0,!0)}),()=>(0,Be.T)(null==Dt?void 0:Dt.return)&&Dt.return()})}(be,tt);if((0,qe.U)(be))return function st(be,tt){return Se((0,qe.C)(be),tt)}(be,tt)}throw(0,Ke.L)(be)}(be,tt):(0,d.Tg)(be)}},3726:(dn,pt,k)=>{"use strict";k.d(pt,{R:()=>fe});var d=k(8750),f=k(1985),Y=k(1397),J=k(7441),se=k(8071),he=k(6450);const ve=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],Be=["on","off"];function fe(We,it,Ye,Ke){if((0,se.T)(Ye)&&(Ke=Ye,Ye=void 0),Ke)return fe(We,it,Ye).pipe((0,he.I)(Ke));const[qe,st]=function Ve(We){return(0,se.T)(We.addEventListener)&&(0,se.T)(We.removeEventListener)}(We)?Oe.map(pe=>me=>We[pe](it,me,Ye)):function Se(We){return(0,se.T)(We.addListener)&&(0,se.T)(We.removeListener)}(We)?ve.map(ue(We,it)):function Fe(We){return(0,se.T)(We.on)&&(0,se.T)(We.off)}(We)?Be.map(ue(We,it)):[];if(!qe&&(0,J.X)(We))return(0,Y.Z)(pe=>fe(pe,it,Ye))((0,d.Tg)(We));if(!qe)throw new TypeError("Invalid event target");return new f.c(pe=>{const me=(...be)=>pe.next(1<be.length?be:be[0]);return qe(me),()=>st(me)})}function ue(We,it){return Ye=>Ke=>We[Ye](it,Ke)}},8750:(dn,pt,k)=>{"use strict";k.d(pt,{Tg:()=>Fe});var d=k(1635),f=k(7441),Y=k(9858),J=k(1985),se=k(5055),he=k(7953),ve=k(591),Oe=k(5397),Be=k(5196),fe=k(8071),ue=k(5334),Se=k(3494);function Fe(pe){if(pe instanceof J.c)return pe;if(null!=pe){if((0,se.l)(pe))return function Ve(pe){return new J.c(me=>{const be=pe[Se.s]();if((0,fe.T)(be.subscribe))return be.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,f.X)(pe))return function We(pe){return new J.c(me=>{for(let be=0;be<pe.length&&!me.closed;be++)me.next(pe[be]);me.complete()})}(pe);if((0,Y.y)(pe))return function it(pe){return new J.c(me=>{pe.then(be=>{me.closed||(me.next(be),me.complete())},be=>me.error(be)).then(null,ue.m)})}(pe);if((0,he.T)(pe))return Ke(pe);if((0,Oe.x)(pe))return function Ye(pe){return new J.c(me=>{for(const be of pe)if(me.next(be),me.closed)return;me.complete()})}(pe);if((0,Be.U)(pe))return function qe(pe){return Ke((0,Be.C)(pe))}(pe)}throw(0,ve.L)(pe)}function Ke(pe){return new J.c(me=>{(function st(pe,me){var be,tt,nt,Dt;return(0,d.sH)(this,void 0,void 0,function*(){try{for(be=(0,d.xN)(pe);!(tt=yield be.next()).done;)if(me.next(tt.value),me.closed)return}catch($e){nt={error:$e}}finally{try{tt&&!tt.done&&(Dt=be.return)&&(yield Dt.call(be))}finally{if(nt)throw nt.error}}me.complete()})})(pe,me).catch(be=>me.error(be))})}},7673:(dn,pt,k)=>{"use strict";k.d(pt,{of:()=>Y});var d=k(3794),f=k(8455);function Y(...J){const se=(0,d.lI)(J);return(0,f.H)(J,se)}},4360:(dn,pt,k)=>{"use strict";k.d(pt,{_:()=>f});var d=k(7707);function f(J,se,he,ve,Oe){return new Y(J,se,he,ve,Oe)}class Y extends d.vU{constructor(se,he,ve,Oe,Be,fe){super(se),this.onFinalize=Be,this.shouldUnsubscribe=fe,this._next=he?function(ue){try{he(ue)}catch(Se){se.error(Se)}}:super._next,this._error=Oe?function(ue){try{Oe(ue)}catch(Se){se.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(ue){se.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},9901:(dn,pt,k)=>{"use strict";k.d(pt,{U:()=>Y});var d=k(9974),f=k(4360);function Y(J){return(0,d.N)((se,he)=>{let ve=!1;se.subscribe((0,f._)(he,Oe=>{ve=!0,he.next(Oe)},()=>{ve||he.next(J),he.complete()}))})}},3294:(dn,pt,k)=>{"use strict";k.d(pt,{F:()=>J});var d=k(3669),f=k(9974),Y=k(4360);function J(he,ve=d.D){return he=null!=he?he:se,(0,f.N)((Oe,Be)=>{let fe,ue=!0;Oe.subscribe((0,Y._)(Be,Se=>{const Fe=ve(Se);(ue||!he(fe,Fe))&&(ue=!1,fe=Fe,Be.next(Se))}))})}function se(he,ve){return he===ve}},5964:(dn,pt,k)=>{"use strict";k.d(pt,{p:()=>Y});var d=k(9974),f=k(4360);function Y(J,se){return(0,d.N)((he,ve)=>{let Oe=0;he.subscribe((0,f._)(ve,Be=>J.call(se,Be,Oe++)&&ve.next(Be)))})}},1594:(dn,pt,k)=>{"use strict";k.d(pt,{$:()=>ve});var d=k(9350),f=k(5964),Y=k(6697),J=k(9901),se=k(3774),he=k(3669);function ve(Oe,Be){const fe=arguments.length>=2;return ue=>ue.pipe(Oe?(0,f.p)((Se,Fe)=>Oe(Se,Fe,ue)):he.D,(0,Y.s)(1),fe?(0,J.U)(Be):(0,se.v)(()=>new d.G))}},6354:(dn,pt,k)=>{"use strict";k.d(pt,{T:()=>Y});var d=k(9974),f=k(4360);function Y(J,se){return(0,d.N)((he,ve)=>{let Oe=0;he.subscribe((0,f._)(ve,Be=>{ve.next(J.call(se,Be,Oe++))}))})}},6365:(dn,pt,k)=>{"use strict";k.d(pt,{U:()=>Y});var d=k(1397),f=k(3669);function Y(J=1/0){return(0,d.Z)(f.D,J)}},1397:(dn,pt,k)=>{"use strict";k.d(pt,{Z:()=>Oe});var d=k(6354),f=k(8750),Y=k(9974),J=k(5225),se=k(4360),ve=k(8071);function Oe(Be,fe,ue=1/0){return(0,ve.T)(fe)?Oe((Se,Fe)=>(0,d.T)((Ve,We)=>fe(Se,Ve,Fe,We))((0,f.Tg)(Be(Se,Fe))),ue):("number"==typeof fe&&(ue=fe),(0,Y.N)((Se,Fe)=>function he(Be,fe,ue,Se,Fe,Ve,We,it){const Ye=[];let Ke=0,qe=0,st=!1;const pe=()=>{st&&!Ye.length&&!Ke&&fe.complete()},me=tt=>Ke<Se?be(tt):Ye.push(tt),be=tt=>{Ve&&fe.next(tt),Ke++;let nt=!1;(0,f.Tg)(ue(tt,qe++)).subscribe((0,se._)(fe,Dt=>{null==Fe||Fe(Dt),Ve?me(Dt):fe.next(Dt)},()=>{nt=!0},void 0,()=>{if(nt)try{for(Ke--;Ye.length&&Ke<Se;){const Dt=Ye.shift();We?(0,J.N)(fe,We,()=>be(Dt)):be(Dt)}pe()}catch(Dt){fe.error(Dt)}}))};return Be.subscribe((0,se._)(fe,me,()=>{st=!0,pe()})),()=>{null==it||it()}}(Se,Fe,Be,ue)))}},941:(dn,pt,k)=>{"use strict";k.d(pt,{Q:()=>J});var d=k(5225),f=k(9974),Y=k(4360);function J(se,he=0){return(0,f.N)((ve,Oe)=>{ve.subscribe((0,Y._)(Oe,Be=>(0,d.N)(Oe,se,()=>Oe.next(Be),he),()=>(0,d.N)(Oe,se,()=>Oe.complete(),he),Be=>(0,d.N)(Oe,se,()=>Oe.error(Be),he)))})}},2816:(dn,pt,k)=>{"use strict";k.d(pt,{S:()=>J});var d=k(9974),f=k(4360);function J(se,he){return(0,d.N)(function Y(se,he,ve,Oe,Be){return(fe,ue)=>{let Se=ve,Fe=he,Ve=0;fe.subscribe((0,f._)(ue,We=>{const it=Ve++;Fe=Se?se(Fe,We,it):(Se=!0,We),Oe&&ue.next(Fe)},Be&&(()=>{Se&&ue.next(Fe),ue.complete()})))}}(se,he,arguments.length>=2,!0))}},9172:(dn,pt,k)=>{"use strict";k.d(pt,{Z:()=>J});var d=k(8793),f=k(3794),Y=k(9974);function J(...se){const he=(0,f.lI)(se);return(0,Y.N)((ve,Oe)=>{(he?(0,d.x)(se,ve,he):(0,d.x)(se,ve)).subscribe(Oe)})}},6745:(dn,pt,k)=>{"use strict";k.d(pt,{_:()=>f});var d=k(9974);function f(Y,J=0){return(0,d.N)((se,he)=>{he.add(Y.schedule(()=>se.subscribe(he),J))})}},5558:(dn,pt,k)=>{"use strict";k.d(pt,{n:()=>J});var d=k(8750),f=k(9974),Y=k(4360);function J(se,he){return(0,f.N)((ve,Oe)=>{let Be=null,fe=0,ue=!1;const Se=()=>ue&&!Be&&Oe.complete();ve.subscribe((0,Y._)(Oe,Fe=>{null==Be||Be.unsubscribe();let Ve=0;const We=fe++;(0,d.Tg)(se(Fe,We)).subscribe(Be=(0,Y._)(Oe,it=>Oe.next(he?he(Fe,it,We,Ve++):it),()=>{Be=null,Se()}))},()=>{ue=!0,Se()}))})}},6697:(dn,pt,k)=>{"use strict";k.d(pt,{s:()=>J});var d=k(983),f=k(9974),Y=k(4360);function J(se){return se<=0?()=>d.w:(0,f.N)((he,ve)=>{let Oe=0;he.subscribe((0,Y._)(ve,Be=>{++Oe<=se&&(ve.next(Be),se<=Oe&&ve.complete())}))})}},8141:(dn,pt,k)=>{"use strict";k.d(pt,{M:()=>se});var d=k(8071),f=k(9974),Y=k(4360),J=k(3669);function se(he,ve,Oe){const Be=(0,d.T)(he)||ve||Oe?{next:he,error:ve,complete:Oe}:he;return Be?(0,f.N)((fe,ue)=>{var Se;null===(Se=Be.subscribe)||void 0===Se||Se.call(Be);let Fe=!0;fe.subscribe((0,Y._)(ue,Ve=>{var We;null===(We=Be.next)||void 0===We||We.call(Be,Ve),ue.next(Ve)},()=>{var Ve;Fe=!1,null===(Ve=Be.complete)||void 0===Ve||Ve.call(Be),ue.complete()},Ve=>{var We;Fe=!1,null===(We=Be.error)||void 0===We||We.call(Be,Ve),ue.error(Ve)},()=>{var Ve,We;Fe&&(null===(Ve=Be.unsubscribe)||void 0===Ve||Ve.call(Be)),null===(We=Be.finalize)||void 0===We||We.call(Be)}))}):J.D}},3774:(dn,pt,k)=>{"use strict";k.d(pt,{v:()=>J});var d=k(9350),f=k(9974),Y=k(4360);function J(he=se){return(0,f.N)((ve,Oe)=>{let Be=!1;ve.subscribe((0,Y._)(Oe,fe=>{Be=!0,Oe.next(fe)},()=>Be?Oe.complete():Oe.error(he())))})}function se(){return new d.G}},6780:(dn,pt,k)=>{"use strict";k.d(pt,{R:()=>se});var d=k(8359);class f extends d.yU{constructor(ve,Oe){super()}schedule(ve,Oe=0){return this}}const Y={setInterval(he,ve,...Oe){const{delegate:Be}=Y;return null!=Be&&Be.setInterval?Be.setInterval(he,ve,...Oe):setInterval(he,ve,...Oe)},clearInterval(he){const{delegate:ve}=Y;return((null==ve?void 0:ve.clearInterval)||clearInterval)(he)},delegate:void 0};var J=k(7908);class se extends f{constructor(ve,Oe){super(ve,Oe),this.scheduler=ve,this.work=Oe,this.pending=!1}schedule(ve,Oe=0){var Be;if(this.closed)return this;this.state=ve;const fe=this.id,ue=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ue,fe,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(ue,this.id,Oe),this}requestAsyncId(ve,Oe,Be=0){return Y.setInterval(ve.flush.bind(ve,this),Be)}recycleAsyncId(ve,Oe,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return Oe;null!=Oe&&Y.clearInterval(Oe)}execute(ve,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(ve,Oe);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Oe){let fe,Be=!1;try{this.work(ve)}catch(ue){Be=!0,fe=ue||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Oe}=this,{actions:Be}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.o)(Be,this),null!=ve&&(this.id=this.recycleAsyncId(Oe,ve,null)),this.delay=null,super.unsubscribe()}}}},9687:(dn,pt,k)=>{"use strict";k.d(pt,{q:()=>Y});var d=k(6129);class f{constructor(se,he=f.now){this.schedulerActionCtor=se,this.now=he}schedule(se,he=0,ve){return new this.schedulerActionCtor(this,se).schedule(ve,he)}}f.now=d.U.now;class Y extends f{constructor(se,he=f.now){super(se,he),this.actions=[],this._active=!1}flush(se){const{actions:he}=this;if(this._active)return void he.push(se);let ve;this._active=!0;do{if(ve=se.execute(se.state,se.delay))break}while(se=he.shift());if(this._active=!1,ve){for(;se=he.shift();)se.unsubscribe();throw ve}}}},3236:(dn,pt,k)=>{"use strict";k.d(pt,{E:()=>Y});var d=k(6780);const Y=new(k(9687).q)(d.R)},6129:(dn,pt,k)=>{"use strict";k.d(pt,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(dn,pt,k)=>{"use strict";k.d(pt,{f:()=>d});const d={setTimeout(f,Y,...J){const{delegate:se}=d;return null!=se&&se.setTimeout?se.setTimeout(f,Y,...J):setTimeout(f,Y,...J)},clearTimeout(f){const{delegate:Y}=d;return((null==Y?void 0:Y.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4761:(dn,pt,k)=>{"use strict";k.d(pt,{l:()=>f});const f=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(dn,pt,k)=>{"use strict";k.d(pt,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(dn,pt,k)=>{"use strict";k.d(pt,{G:()=>f});const f=(0,k(1853).L)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(dn,pt,k)=>{"use strict";k.d(pt,{R0:()=>he,ms:()=>J,lI:()=>se});var d=k(8071);function Y(ve){return ve[ve.length-1]}function J(ve){return(0,d.T)(Y(ve))?ve.pop():void 0}function se(ve){return function f(ve){return ve&&(0,d.T)(ve.schedule)}(Y(ve))?ve.pop():void 0}function he(ve,Oe){return"number"==typeof Y(ve)?ve.pop():Oe}},3073:(dn,pt,k)=>{"use strict";k.d(pt,{D:()=>se});const{isArray:d}=Array,{getPrototypeOf:f,prototype:Y,keys:J}=Object;function se(ve){if(1===ve.length){const Oe=ve[0];if(d(Oe))return{args:Oe,keys:null};if(function he(ve){return ve&&"object"==typeof ve&&f(ve)===Y}(Oe)){const Be=J(Oe);return{args:Be.map(fe=>Oe[fe]),keys:Be}}}return{args:ve,keys:null}}},7908:(dn,pt,k)=>{"use strict";function d(f,Y){if(f){const J=f.indexOf(Y);0<=J&&f.splice(J,1)}}k.d(pt,{o:()=>d})},1853:(dn,pt,k)=>{"use strict";function d(f){const J=f(se=>{Error.call(se),se.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}k.d(pt,{L:()=>d})},8496:(dn,pt,k)=>{"use strict";function d(f,Y){return f.reduce((J,se,he)=>(J[se]=Y[he],J),{})}k.d(pt,{e:()=>d})},9786:(dn,pt,k)=>{"use strict";k.d(pt,{Y:()=>Y,l:()=>J});var d=k(1026);let f=null;function Y(se){if(d.$.useDeprecatedSynchronousErrorHandling){const he=!f;if(he&&(f={errorThrown:!1,error:null}),se(),he){const{errorThrown:ve,error:Oe}=f;if(f=null,ve)throw Oe}}else se()}function J(se){d.$.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=se)}},5225:(dn,pt,k)=>{"use strict";function d(f,Y,J,se=0,he=!1){const ve=Y.schedule(function(){J(),he?f.add(this.schedule(null,se)):this.unsubscribe()},se);if(f.add(ve),!he)return ve}k.d(pt,{N:()=>d})},3669:(dn,pt,k)=>{"use strict";function d(f){return f}k.d(pt,{D:()=>d})},7441:(dn,pt,k)=>{"use strict";k.d(pt,{X:()=>d});const d=f=>f&&"number"==typeof f.length&&"function"!=typeof f},7953:(dn,pt,k)=>{"use strict";k.d(pt,{T:()=>f});var d=k(8071);function f(Y){return Symbol.asyncIterator&&(0,d.T)(null==Y?void 0:Y[Symbol.asyncIterator])}},8071:(dn,pt,k)=>{"use strict";function d(f){return"function"==typeof f}k.d(pt,{T:()=>d})},5055:(dn,pt,k)=>{"use strict";k.d(pt,{l:()=>Y});var d=k(3494),f=k(8071);function Y(J){return(0,f.T)(J[d.s])}},5397:(dn,pt,k)=>{"use strict";k.d(pt,{x:()=>Y});var d=k(4761),f=k(8071);function Y(J){return(0,f.T)(null==J?void 0:J[d.l])}},9858:(dn,pt,k)=>{"use strict";k.d(pt,{y:()=>f});var d=k(8071);function f(Y){return(0,d.T)(null==Y?void 0:Y.then)}},5196:(dn,pt,k)=>{"use strict";k.d(pt,{C:()=>Y,U:()=>J});var d=k(1635),f=k(8071);function Y(se){return(0,d.AQ)(this,arguments,function*(){const ve=se.getReader();try{for(;;){const{value:Oe,done:Be}=yield(0,d.N3)(ve.read());if(Be)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Oe)}}finally{ve.releaseLock()}})}function J(se){return(0,f.T)(null==se?void 0:se.getReader)}},9974:(dn,pt,k)=>{"use strict";k.d(pt,{N:()=>Y,S:()=>f});var d=k(8071);function f(J){return(0,d.T)(null==J?void 0:J.lift)}function Y(J){return se=>{if(f(se))return se.lift(function(he){try{return J(he,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(dn,pt,k)=>{"use strict";k.d(pt,{I:()=>J});var d=k(6354);const{isArray:f}=Array;function J(se){return(0,d.T)(he=>function Y(se,he){return f(he)?se(...he):se(he)}(se,he))}},5343:(dn,pt,k)=>{"use strict";function d(){}k.d(pt,{l:()=>d})},1203:(dn,pt,k)=>{"use strict";k.d(pt,{F:()=>f,m:()=>Y});var d=k(3669);function f(...J){return Y(J)}function Y(J){return 0===J.length?d.D:1===J.length?J[0]:function(he){return J.reduce((ve,Oe)=>Oe(ve),he)}}},5334:(dn,pt,k)=>{"use strict";k.d(pt,{m:()=>Y});var d=k(1026),f=k(9270);function Y(J){f.f.setTimeout(()=>{const{onUnhandledError:se}=d.$;if(!se)throw J;se(J)})}},591:(dn,pt,k)=>{"use strict";function d(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(pt,{L:()=>d})},8996:(dn,pt,k)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function f(Y){if(!k.o(d,Y))return Promise.resolve().then(()=>{var he=new Error("Cannot find module '"+Y+"'");throw he.code="MODULE_NOT_FOUND",he});var J=d[Y],se=J[0];return Promise.all(J.slice(1).map(k.e)).then(()=>k(se))}f.keys=()=>Object.keys(d),f.id=8996,dn.exports=f},177:(dn,pt,k)=>{"use strict";k.d(pt,{AJ:()=>Vt,MD:()=>He,N0:()=>Qr,QT:()=>Y,Sm:()=>it,Sq:()=>Vn,T3:()=>Ds,VF:()=>se,Vy:()=>Wt,Xr:()=>_n,ZD:()=>J,_b:()=>Q,aZ:()=>Ke,bT:()=>ei,fw:()=>Ye,hb:()=>Ve,hj:()=>Be,qQ:()=>ve,vh:()=>hi});var d=k(4438);let f=null;function Y(){return f}function J(b){var j;null!==(j=f)&&void 0!==j||(f=b)}class se{}const ve=new d.nKC("");let Oe=(()=>{var b;class j{historyGo(B){throw new Error("")}}return(b=j).\u0275fac=function(B){return new(B||b)},b.\u0275prov=d.jDH({token:b,factory:()=>(0,d.WQX)(fe),providedIn:"platform"}),j})();const Be=new d.nKC("");let fe=(()=>{var b;class j extends Oe{constructor(){super(),this._doc=(0,d.WQX)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(B){const re=Y().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",B,!1),()=>re.removeEventListener("popstate",B)}onHashChange(B){const re=Y().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",B,!1),()=>re.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,re,ke){this._history.pushState(B,re,ke)}replaceState(B,re,ke){this._history.replaceState(B,re,ke)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return(b=j).\u0275fac=function(B){return new(B||b)},b.\u0275prov=d.jDH({token:b,factory:()=>new b,providedIn:"platform"}),j})();function ue(b,j){if(0==b.length)return j;if(0==j.length)return b;let Te=0;return b.endsWith("/")&&Te++,j.startsWith("/")&&Te++,2==Te?b+j.substring(1):1==Te?b+j:b+"/"+j}function Se(b){const j=b.match(/#|\?|$/),Te=j&&j.index||b.length;return b.slice(0,Te-("/"===b[Te-1]?1:0))+b.slice(Te)}function Fe(b){return b&&"?"!==b[0]?"?"+b:b}let Ve=(()=>{var b;class j{historyGo(B){throw new Error("")}}return(b=j).\u0275fac=function(B){return new(B||b)},b.\u0275prov=d.jDH({token:b,factory:()=>(0,d.WQX)(it),providedIn:"root"}),j})();const We=new d.nKC("");let it=(()=>{var b;class j extends Ve{constructor(B,re){var ke,Ft,on;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(ke=null!==(Ft=null!=re?re:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ft?Ft:null===(on=(0,d.WQX)(ve).location)||void 0===on?void 0:on.origin)&&void 0!==ke?ke:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ue(this._baseHref,B)}path(B=!1){const re=this._platformLocation.pathname+Fe(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&B?`${re}${ke}`:re}pushState(B,re,ke,Ft){const on=this.prepareExternalUrl(ke+Fe(Ft));this._platformLocation.pushState(B,re,on)}replaceState(B,re,ke,Ft){const on=this.prepareExternalUrl(ke+Fe(Ft));this._platformLocation.replaceState(B,re,on)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var re,ke;null===(re=(ke=this._platformLocation).historyGo)||void 0===re||re.call(ke,B)}}return(b=j).\u0275fac=function(B){return new(B||b)(d.KVO(Oe),d.KVO(We,8))},b.\u0275prov=d.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),j})(),Ye=(()=>{var b;class j extends Ve{constructor(B,re){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){var re;const ke=null!==(re=this._platformLocation.hash)&&void 0!==re?re:"#";return ke.length>0?ke.substring(1):ke}prepareExternalUrl(B){const re=ue(this._baseHref,B);return re.length>0?"#"+re:re}pushState(B,re,ke,Ft){let on=this.prepareExternalUrl(ke+Fe(Ft));0==on.length&&(on=this._platformLocation.pathname),this._platformLocation.pushState(B,re,on)}replaceState(B,re,ke,Ft){let on=this.prepareExternalUrl(ke+Fe(Ft));0==on.length&&(on=this._platformLocation.pathname),this._platformLocation.replaceState(B,re,on)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var re,ke;null===(re=(ke=this._platformLocation).historyGo)||void 0===re||re.call(ke,B)}}return(b=j).\u0275fac=function(B){return new(B||b)(d.KVO(Oe),d.KVO(We,8))},b.\u0275prov=d.jDH({token:b,factory:b.\u0275fac}),j})(),Ke=(()=>{var b;class j{constructor(B){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const re=this._locationStrategy.getBaseHref();this._basePath=function me(b){if(new RegExp("^(https?:)?//").test(b)){const[,Te]=b.split(/\/\/[^\/]+/);return Te}return b}(Se(pe(re))),this._locationStrategy.onPopState(ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:ke.state,type:ke.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,re=""){return this.path()==this.normalize(B+Fe(re))}normalize(B){return j.stripTrailingSlash(function st(b,j){if(!b||!j.startsWith(b))return j;const Te=j.substring(b.length);return""===Te||["/",";","?","#"].includes(Te[0])?Te:j}(this._basePath,pe(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,re="",ke=null){this._locationStrategy.pushState(ke,"",B,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Fe(re)),ke)}replaceState(B,re="",ke=null){this._locationStrategy.replaceState(ke,"",B,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Fe(re)),ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var re,ke;null===(re=(ke=this._locationStrategy).historyGo)||void 0===re||re.call(ke,B)}onUrlChange(B){var re;return this._urlChangeListeners.push(B),null!==(re=this._urlChangeSubscription)&&void 0!==re||(this._urlChangeSubscription=this.subscribe(ke=>{this._notifyUrlChangeListeners(ke.url,ke.state)})),()=>{const ke=this._urlChangeListeners.indexOf(B);var Ft;this._urlChangeListeners.splice(ke,1),0===this._urlChangeListeners.length&&(null===(Ft=this._urlChangeSubscription)||void 0===Ft||Ft.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",re){this._urlChangeListeners.forEach(ke=>ke(B,re))}subscribe(B,re,ke){return this._subject.subscribe({next:B,error:re,complete:ke})}}return(b=j).normalizeQueryParams=Fe,b.joinWithSlash=ue,b.stripTrailingSlash=Se,b.\u0275fac=function(B){return new(B||b)(d.KVO(Ve))},b.\u0275prov=d.jDH({token:b,factory:()=>function qe(){return new Ke((0,d.KVO)(Ve))}(),providedIn:"root"}),j})();function pe(b){return b.replace(/\/index.html$/,"")}var Dt=function(b){return b[b.Format=0]="Format",b[b.Standalone=1]="Standalone",b}(Dt||{}),$e=function(b){return b[b.Narrow=0]="Narrow",b[b.Abbreviated=1]="Abbreviated",b[b.Wide=2]="Wide",b[b.Short=3]="Short",b}($e||{}),xe=function(b){return b[b.Short=0]="Short",b[b.Medium=1]="Medium",b[b.Long=2]="Long",b[b.Full=3]="Full",b}(xe||{});const kt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Z(b,j){return qt((0,d.H5H)(b)[d.KH2.DateFormat],j)}function Ce(b,j){return qt((0,d.H5H)(b)[d.KH2.TimeFormat],j)}function Xe(b,j){return qt((0,d.H5H)(b)[d.KH2.DateTimeFormat],j)}function je(b,j){const Te=(0,d.H5H)(b),B=Te[d.KH2.NumberSymbols][j];if(typeof B>"u"){if(j===kt.CurrencyDecimal)return Te[d.KH2.NumberSymbols][kt.Decimal];if(j===kt.CurrencyGroup)return Te[d.KH2.NumberSymbols][kt.Group]}return B}function rn(b){if(!b[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${b[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qt(b,j){for(let Te=j;Te>-1;Te--)if(typeof b[Te]<"u")return b[Te];throw new Error("Locale data API: locale data undefined")}function xn(b){const[j,Te]=b.split(":");return{hours:+j,minutes:+Te}}const Rt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vt={},On=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jn=function(b){return b[b.Short=0]="Short",b[b.ShortGMT=1]="ShortGMT",b[b.Long=2]="Long",b[b.Extended=3]="Extended",b}(jn||{}),Cn=function(b){return b[b.FullYear=0]="FullYear",b[b.Month=1]="Month",b[b.Date=2]="Date",b[b.Hours=3]="Hours",b[b.Minutes=4]="Minutes",b[b.Seconds=5]="Seconds",b[b.FractionalSeconds=6]="FractionalSeconds",b[b.Day=7]="Day",b}(Cn||{}),gn=function(b){return b[b.DayPeriods=0]="DayPeriods",b[b.Days=1]="Days",b[b.Months=2]="Months",b[b.Eras=3]="Eras",b}(gn||{});function Zn(b,j,Te,B){let re=function Ae(b){if(Ze(b))return b;if("number"==typeof b&&!isNaN(b))return new Date(b);if("string"==typeof b){if(b=b.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(b)){const[re,ke=1,Ft=1]=b.split("-").map(on=>+on);return Xn(re,ke-1,Ft)}const Te=parseFloat(b);if(!isNaN(b-Te))return new Date(Te);let B;if(B=b.match(Rt))return function Pe(b){const j=new Date(0);let Te=0,B=0;const re=b[8]?j.setUTCFullYear:j.setFullYear,ke=b[8]?j.setUTCHours:j.setHours;b[9]&&(Te=Number(b[9]+b[10]),B=Number(b[9]+b[11])),re.call(j,Number(b[1]),Number(b[2])-1,Number(b[3]));const Ft=Number(b[4]||0)-Te,on=Number(b[5]||0)-B,rr=Number(b[6]||0),Pr=Math.floor(1e3*parseFloat("0."+(b[7]||0)));return ke.call(j,Ft,on,rr,Pr),j}(B)}const j=new Date(b);if(!Ze(j))throw new Error(`Unable to convert "${b}" into a date`);return j}(b);j=Gn(Te,j)||j;let on,Ft=[];for(;j;){if(on=On.exec(j),!on){Ft.push(j);break}{Ft=Ft.concat(on.slice(1));const Br=Ft.pop();if(!Br)break;j=Br}}let rr=re.getTimezoneOffset();B&&(rr=ot(B,rr),re=function Zt(b,j,Te){const B=Te?-1:1,re=b.getTimezoneOffset();return function dt(b,j){return(b=new Date(b.getTime())).setMinutes(b.getMinutes()+j),b}(b,B*(ot(j,re)-re))}(re,B,!0));let Pr="";return Ft.forEach(Br=>{const Tr=function xt(b){if(ut[b])return ut[b];let j;switch(b){case"G":case"GG":case"GGG":j=Wn(gn.Eras,$e.Abbreviated);break;case"GGGG":j=Wn(gn.Eras,$e.Wide);break;case"GGGGG":j=Wn(gn.Eras,$e.Narrow);break;case"y":j=mn(Cn.FullYear,1,0,!1,!0);break;case"yy":j=mn(Cn.FullYear,2,0,!0,!0);break;case"yyy":j=mn(Cn.FullYear,3,0,!1,!0);break;case"yyyy":j=mn(Cn.FullYear,4,0,!1,!0);break;case"Y":j=bt(1);break;case"YY":j=bt(2,!0);break;case"YYY":j=bt(3);break;case"YYYY":j=bt(4);break;case"M":case"L":j=mn(Cn.Month,1,1);break;case"MM":case"LL":j=mn(Cn.Month,2,1);break;case"MMM":j=Wn(gn.Months,$e.Abbreviated);break;case"MMMM":j=Wn(gn.Months,$e.Wide);break;case"MMMMM":j=Wn(gn.Months,$e.Narrow);break;case"LLL":j=Wn(gn.Months,$e.Abbreviated,Dt.Standalone);break;case"LLLL":j=Wn(gn.Months,$e.Wide,Dt.Standalone);break;case"LLLLL":j=Wn(gn.Months,$e.Narrow,Dt.Standalone);break;case"w":j=Yt(1);break;case"ww":j=Yt(2);break;case"W":j=Yt(1,!0);break;case"d":j=mn(Cn.Date,1);break;case"dd":j=mn(Cn.Date,2);break;case"c":case"cc":j=mn(Cn.Day,1);break;case"ccc":j=Wn(gn.Days,$e.Abbreviated,Dt.Standalone);break;case"cccc":j=Wn(gn.Days,$e.Wide,Dt.Standalone);break;case"ccccc":j=Wn(gn.Days,$e.Narrow,Dt.Standalone);break;case"cccccc":j=Wn(gn.Days,$e.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":j=Wn(gn.Days,$e.Abbreviated);break;case"EEEE":j=Wn(gn.Days,$e.Wide);break;case"EEEEE":j=Wn(gn.Days,$e.Narrow);break;case"EEEEEE":j=Wn(gn.Days,$e.Short);break;case"a":case"aa":case"aaa":j=Wn(gn.DayPeriods,$e.Abbreviated);break;case"aaaa":j=Wn(gn.DayPeriods,$e.Wide);break;case"aaaaa":j=Wn(gn.DayPeriods,$e.Narrow);break;case"b":case"bb":case"bbb":j=Wn(gn.DayPeriods,$e.Abbreviated,Dt.Standalone,!0);break;case"bbbb":j=Wn(gn.DayPeriods,$e.Wide,Dt.Standalone,!0);break;case"bbbbb":j=Wn(gn.DayPeriods,$e.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":j=Wn(gn.DayPeriods,$e.Abbreviated,Dt.Format,!0);break;case"BBBB":j=Wn(gn.DayPeriods,$e.Wide,Dt.Format,!0);break;case"BBBBB":j=Wn(gn.DayPeriods,$e.Narrow,Dt.Format,!0);break;case"h":j=mn(Cn.Hours,1,-12);break;case"hh":j=mn(Cn.Hours,2,-12);break;case"H":j=mn(Cn.Hours,1);break;case"HH":j=mn(Cn.Hours,2);break;case"m":j=mn(Cn.Minutes,1);break;case"mm":j=mn(Cn.Minutes,2);break;case"s":j=mn(Cn.Seconds,1);break;case"ss":j=mn(Cn.Seconds,2);break;case"S":j=mn(Cn.FractionalSeconds,1);break;case"SS":j=mn(Cn.FractionalSeconds,2);break;case"SSS":j=mn(Cn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=cn(jn.Short);break;case"ZZZZZ":j=cn(jn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=cn(jn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=cn(jn.Long);break;default:return null}return ut[b]=j,j}(Br);Pr+=Tr?Tr(re,Te,rr):"''"===Br?"'":Br.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Pr}function Xn(b,j,Te){const B=new Date(0);return B.setFullYear(b,j,Te),B.setHours(0,0,0),B}function Gn(b,j){var Te;const B=function an(b){return(0,d.H5H)(b)[d.KH2.LocaleId]}(b);if(null!==(Te=vt[B])&&void 0!==Te||(vt[B]={}),vt[B][j])return vt[B][j];let re="";switch(j){case"shortDate":re=Z(b,xe.Short);break;case"mediumDate":re=Z(b,xe.Medium);break;case"longDate":re=Z(b,xe.Long);break;case"fullDate":re=Z(b,xe.Full);break;case"shortTime":re=Ce(b,xe.Short);break;case"mediumTime":re=Ce(b,xe.Medium);break;case"longTime":re=Ce(b,xe.Long);break;case"fullTime":re=Ce(b,xe.Full);break;case"short":const ke=Gn(b,"shortTime"),Ft=Gn(b,"shortDate");re=tr(Xe(b,xe.Short),[ke,Ft]);break;case"medium":const on=Gn(b,"mediumTime"),rr=Gn(b,"mediumDate");re=tr(Xe(b,xe.Medium),[on,rr]);break;case"long":const Pr=Gn(b,"longTime"),Br=Gn(b,"longDate");re=tr(Xe(b,xe.Long),[Pr,Br]);break;case"full":const Tr=Gn(b,"fullTime"),Zr=Gn(b,"fullDate");re=tr(Xe(b,xe.Full),[Tr,Zr])}return re&&(vt[B][j]=re),re}function tr(b,j){return j&&(b=b.replace(/\{([^}]+)}/g,function(Te,B){return null!=j&&B in j?j[B]:Te})),b}function Dr(b,j,Te="-",B,re){let ke="";(b<0||re&&b<=0)&&(re?b=1-b:(b=-b,ke=Te));let Ft=String(b);for(;Ft.length<j;)Ft="0"+Ft;return B&&(Ft=Ft.slice(Ft.length-j)),ke+Ft}function mn(b,j,Te=0,B=!1,re=!1){return function(ke,Ft){let on=function xr(b,j){switch(b){case Cn.FullYear:return j.getFullYear();case Cn.Month:return j.getMonth();case Cn.Date:return j.getDate();case Cn.Hours:return j.getHours();case Cn.Minutes:return j.getMinutes();case Cn.Seconds:return j.getSeconds();case Cn.FractionalSeconds:return j.getMilliseconds();case Cn.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${b}".`)}}(b,ke);if((Te>0||on>-Te)&&(on+=Te),b===Cn.Hours)0===on&&-12===Te&&(on=12);else if(b===Cn.FractionalSeconds)return function zr(b,j){return Dr(b,3).substring(0,j)}(on,j);const rr=je(Ft,kt.MinusSign);return Dr(on,j,rr,B,re)}}function Wn(b,j,Te=Dt.Format,B=!1){return function(re,ke){return function ir(b,j,Te,B,re,ke){switch(Te){case gn.Months:return function Pt(b,j,Te){const B=(0,d.H5H)(b),ke=qt([B[d.KH2.MonthsFormat],B[d.KH2.MonthsStandalone]],j);return qt(ke,Te)}(j,re,B)[b.getMonth()];case gn.Days:return function Tn(b,j,Te){const B=(0,d.H5H)(b),ke=qt([B[d.KH2.DaysFormat],B[d.KH2.DaysStandalone]],j);return qt(ke,Te)}(j,re,B)[b.getDay()];case gn.DayPeriods:const Ft=b.getHours(),on=b.getMinutes();if(ke){const Pr=function hn(b){const j=(0,d.H5H)(b);return rn(j),(j[d.KH2.ExtraData][2]||[]).map(B=>"string"==typeof B?xn(B):[xn(B[0]),xn(B[1])])}(j),Br=function Sn(b,j,Te){const B=(0,d.H5H)(b);rn(B);const ke=qt([B[d.KH2.ExtraData][0],B[d.KH2.ExtraData][1]],j)||[];return qt(ke,Te)||[]}(j,re,B),Tr=Pr.findIndex(Zr=>{if(Array.isArray(Zr)){const[kr,Ti]=Zr,mi=Ft>=kr.hours&&on>=kr.minutes,br=Ft<Ti.hours||Ft===Ti.hours&&on<Ti.minutes;if(kr.hours<Ti.hours){if(mi&&br)return!0}else if(mi||br)return!0}else if(Zr.hours===Ft&&Zr.minutes===on)return!0;return!1});if(-1!==Tr)return Br[Tr]}return function Qt(b,j,Te){const B=(0,d.H5H)(b),ke=qt([B[d.KH2.DayPeriodsFormat],B[d.KH2.DayPeriodsStandalone]],j);return qt(ke,Te)}(j,re,B)[Ft<12?0:1];case gn.Eras:return function De(b,j){return qt((0,d.H5H)(b)[d.KH2.Eras],j)}(j,B)[b.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Te}`)}}(re,ke,b,j,Te,B)}}function cn(b){return function(j,Te,B){const re=-1*B,ke=je(Te,kt.MinusSign),Ft=re>0?Math.floor(re/60):Math.ceil(re/60);switch(b){case jn.Short:return(re>=0?"+":"")+Dr(Ft,2,ke)+Dr(Math.abs(re%60),2,ke);case jn.ShortGMT:return"GMT"+(re>=0?"+":"")+Dr(Ft,1,ke);case jn.Long:return"GMT"+(re>=0?"+":"")+Dr(Ft,2,ke)+":"+Dr(Math.abs(re%60),2,ke);case jn.Extended:return 0===B?"Z":(re>=0?"+":"")+Dr(Ft,2,ke)+":"+Dr(Math.abs(re%60),2,ke);default:throw new Error(`Unknown zone width "${b}"`)}}}const Kr=0,Mn=4;function Jn(b){const j=b.getDay(),Te=0===j?-3:Mn-j;return Xn(b.getFullYear(),b.getMonth(),b.getDate()+Te)}function Yt(b,j=!1){return function(Te,B){let re;if(j){const ke=new Date(Te.getFullYear(),Te.getMonth(),1).getDay()-1,Ft=Te.getDate();re=1+Math.floor((Ft+ke)/7)}else{const ke=Jn(Te),Ft=function qn(b){const j=Xn(b,Kr,1).getDay();return Xn(b,0,1+(j<=Mn?Mn:Mn+7)-j)}(ke.getFullYear()),on=ke.getTime()-Ft.getTime();re=1+Math.round(on/6048e5)}return Dr(re,b,je(B,kt.MinusSign))}}function bt(b,j=!1){return function(Te,B){return Dr(Jn(Te).getFullYear(),b,je(B,kt.MinusSign),j)}}const ut={};function ot(b,j){b=b.replace(/:/g,"");const Te=Date.parse("Jan 01, 1970 00:00:00 "+b)/6e4;return isNaN(Te)?j:Te}function Ze(b){return b instanceof Date&&!isNaN(b.valueOf())}function Q(b,j){j=encodeURIComponent(j);for(const Te of b.split(";")){const B=Te.indexOf("="),[re,ke]=-1==B?[Te,""]:[Te.slice(0,B),Te.slice(B+1)];if(re.trim()===j)return decodeURIComponent(ke)}return null}class Dn{constructor(j,Te,B,re){this.$implicit=j,this.ngForOf=Te,this.index=B,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vn=(()=>{var b;class j{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,re,ke){this._viewContainer=B,this._template=re,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const re=this._viewContainer;B.forEachOperation((ke,Ft,on)=>{if(null==ke.previousIndex)re.createEmbeddedView(this._template,new Dn(ke.item,this._ngForOf,-1,-1),null===on?void 0:on);else if(null==on)re.remove(null===Ft?void 0:Ft);else if(null!==Ft){const rr=re.get(Ft);re.move(rr,on),ii(rr,ke)}});for(let ke=0,Ft=re.length;ke<Ft;ke++){const rr=re.get(ke).context;rr.index=ke,rr.count=Ft,rr.ngForOf=this._ngForOf}B.forEachIdentityChange(ke=>{ii(re.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(B,re){return!0}}return(b=j).\u0275fac=function(B){return new(B||b)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},b.\u0275dir=d.FsC({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),j})();function ii(b,j){b.context.$implicit=j.item}let ei=(()=>{var b;class j{constructor(B,re){this._viewContainer=B,this._context=new ai,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){xi("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){xi("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,re){return!0}}return(b=j).\u0275fac=function(B){return new(B||b)(d.rXU(d.c1b),d.rXU(d.C4Q))},b.\u0275dir=d.FsC({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),j})();class ai{constructor(){this.$implicit=null,this.ngIf=null}}function xi(b,j){if(j&&!j.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,d.Tbb)(j)}'.`)}let Ds=(()=>{var b;class j{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(this._shouldRecreateView(B)){var re;const ke=this._viewContainerRef;if(this._viewRef&&ke.remove(ke.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ft=this._createContextForwardProxy();this._viewRef=ke.createEmbeddedView(this.ngTemplateOutlet,Ft,{injector:null!==(re=this.ngTemplateOutletInjector)&&void 0!==re?re:void 0})}}_shouldRecreateView(B){return!!B.ngTemplateOutlet||!!B.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(B,re,ke)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,re,ke),get:(B,re,ke)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,re,ke)}})}}return(b=j).\u0275fac=function(B){return new(B||b)(d.rXU(d.c1b))},b.\u0275dir=d.FsC({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),j})();const Wo=new d.nKC(""),ti=new d.nKC("");let hi=(()=>{var b;class j{constructor(B,re,ke){this.locale=B,this.defaultTimezone=re,this.defaultOptions=ke}transform(B,re,ke,Ft){if(null==B||""===B||B!=B)return null;try{var on,rr,Pr,Br,Tr;const Zr=null!==(on=null!=re?re:null===(rr=this.defaultOptions)||void 0===rr?void 0:rr.dateFormat)&&void 0!==on?on:"mediumDate",kr=null!==(Pr=null!==(Br=null!=ke?ke:null===(Tr=this.defaultOptions)||void 0===Tr?void 0:Tr.timezone)&&void 0!==Br?Br:this.defaultTimezone)&&void 0!==Pr?Pr:void 0;return Zn(B,Zr,Ft||this.locale,kr)}catch(Zr){throw function Ai(b,j){return new d.wOt(2100,!1)}()}}}return(b=j).\u0275fac=function(B){return new(B||b)(d.rXU(d.xe9,16),d.rXU(Wo,24),d.rXU(ti,24))},b.\u0275pipe=d.EJ8({name:"date",type:b,pure:!0,standalone:!0}),j})(),He=(()=>{var b;class j{}return(b=j).\u0275fac=function(B){return new(B||b)},b.\u0275mod=d.$C({type:b}),b.\u0275inj=d.G2t({}),j})();const Vt="browser",mt="server";function Wt(b){return b===mt}let _n=(()=>{var b;class j{}return(b=j).\u0275prov=(0,d.jDH)({token:b,providedIn:"root",factory:()=>function Lt(b){return b===Vt}((0,d.WQX)(d.Agw))?new Nn((0,d.WQX)(ve),window):new Or}),j})();class Nn{constructor(j,Te){this.document=j,this.window=Te,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(j){this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){const Te=function Rn(b,j){const Te=b.getElementById(j)||b.getElementsByName(j)[0];if(Te)return Te;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const B=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let re=B.currentNode;for(;re;){const ke=re.shadowRoot;if(ke){const Ft=ke.getElementById(j)||ke.querySelector(`[name="${j}"]`);if(Ft)return Ft}re=B.nextNode()}}return null}(this.document,j);Te&&(this.scrollToElement(Te),Te.focus())}setHistoryScrollRestoration(j){this.window.history.scrollRestoration=j}scrollToElement(j){const Te=j.getBoundingClientRect(),B=Te.left+this.window.pageXOffset,re=Te.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(B-ke[0],re-ke[1])}}class Or{setOffset(j){}getScrollPosition(){return[0,0]}scrollToPosition(j){}scrollToAnchor(j){}setHistoryScrollRestoration(j){}}class Qr{}},4438:(dn,pt,k)=>{"use strict";function d(e,t){return Object.is(e,t)}k.d(pt,{iLQ:()=>f0,sZ2:()=>Fd,hnV:()=>jT,Hbi:()=>tx,o8S:()=>dc,BIS:()=>dm,gRc:()=>ib,Ql9:()=>DP,Ocv:()=>PP,Z63:()=>So,aKT:()=>Fu,uvJ:()=>No,zcH:()=>xs,bkB:()=>ra,$GK:()=>Er,nKC:()=>Vn,zZn:()=>ho,_q3:()=>YE,MKu:()=>ZE,xe9:()=>GE,Co$:()=>GA,Vns:()=>Nf,SKi:()=>A,Xx1:()=>Qr,Agw:()=>Ep,PLl:()=>Ip,sFG:()=>xy,_9s:()=>sd,czy:()=>Lp,kdw:()=>Hr,C4Q:()=>pf,NYb:()=>vP,giA:()=>BT,xvI:()=>GM,RxE:()=>NT,c1b:()=>xf,gXe:()=>Kn,mal:()=>Ky,L39:()=>xx,EWP:()=>Ox,a0P:()=>$x,Ol2:()=>KI,w6W:()=>aw,oH4:()=>eb,Rfq:()=>ot,WQX:()=>mt,naY:()=>BP,QuC:()=>go,fpN:()=>ex,HJs:()=>jx,N4e:()=>xa,vPA:()=>bA,O8t:()=>kx,H3F:()=>OT,H8p:()=>qa,KH2:()=>kg,TgB:()=>ul,wOt:()=>vt,WHO:()=>LT,e01:()=>UT,H5H:()=>yE,mq5:()=>QC,JZv:()=>cn,LfX:()=>X,plB:()=>sc,jNT:()=>$E,zjR:()=>$T,TL$:()=>cm,Tbb:()=>Yt,Vt3:()=>HI,GFd:()=>zA,OA$:()=>ga,Jv_:()=>sT,aNF:()=>aT,R7$:()=>qm,BMQ:()=>sE,AVh:()=>hE,wni:()=>ND,VBU:()=>cs,FsC:()=>Sa,jDH:()=>ar,G2t:()=>G,$C:()=>da,EJ8:()=>Hs,rXU:()=>Xu,nrm:()=>vE,eu8:()=>_E,bVm:()=>n0,qex:()=>t0,k0s:()=>e0,j41:()=>Jy,RV6:()=>KC,xGo:()=>tp,KVO:()=>He,kS0:()=>il,QTQ:()=>K_,bIt:()=>AE,lsd:()=>FD,XpG:()=>ED,nI1:()=>gT,i5U:()=>mT,SdG:()=>CD,NAR:()=>AD,Y8G:()=>cE,mGM:()=>kD,sdS:()=>VD,Njj:()=>vd,eBV:()=>Ec,n$t:()=>Kc,DNE:()=>XI,C5r:()=>vT,EFF:()=>KD,JRh:()=>bE,SpI:()=>l0,Lme:()=>wE,DH7:()=>nT,mxI:()=>RE,R50:()=>SE,GBs:()=>OD});let f=null,Y=!1,J=1;const se=Symbol("SIGNAL");function he(e){const t=f;return f=e,t}const fe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ue(e){if(Y)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const t=f.nextProducerIndex++;tt(f),t<f.producerNode.length&&f.producerNode[t]!==e&&be(f)&&me(f.producerNode[t],f.producerIndexOfThis[t]),f.producerNode[t]!==e&&(f.producerNode[t]=e,f.producerIndexOfThis[t]=be(f)?pe(e,f,t):0),f.producerLastReadVersion[t]=e.version}function Fe(e){if((!be(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==J)){if(!e.producerMustRecompute(e)&&!qe(e))return e.dirty=!1,void(e.lastCleanEpoch=J);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=J}}function Ve(e){if(void 0===e.liveConsumerNode)return;const t=Y;Y=!0;try{for(const r of e.liveConsumerNode)r.dirty||it(r)}finally{Y=t}}function We(){var e;return!1!==(null===(e=f)||void 0===e?void 0:e.consumerAllowSignalWrites)}function it(e){var t;e.dirty=!0,Ve(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function Ye(e){return e&&(e.nextProducerIndex=0),he(e)}function Ke(e,t){if(he(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(be(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)me(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function qe(e){tt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(Fe(r),o!==r.version))return!0}return!1}function st(e){if(tt(e),be(e))for(let t=0;t<e.producerNode.length;t++)me(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function pe(e,t,r){if(nt(e),0===e.liveConsumerNode.length&&Dt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=pe(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function me(e,t){if(nt(e),1===e.liveConsumerNode.length&&Dt(e))for(let o=0;o<e.producerNode.length;o++)me(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];tt(a),a.producerIndexOfThis[o]=t}}function be(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function tt(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function nt(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Dt(e){return void 0!==e.producerNode}const xe=Symbol("UNSET"),kt=Symbol("COMPUTING"),$t=Symbol("ERRORED"),an={...fe,value:xe,dirty:!0,error:null,equal:d,producerMustRecompute:e=>e.value===xe||e.value===kt,producerRecomputeValue(e){if(e.value===kt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=kt;const r=Ye(e);let o;try{o=e.computation()}catch(a){o=$t,e.error=a}finally{Ke(e,r)}t!==xe&&t!==$t&&o!==$t&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Tn=function Qt(){throw new Error};function Pt(){Tn()}let Ee=null;function Xe(e,t){We()||Pt(),e.equal(e.value,t)||(e.value=t,function rt(e){var t;e.version++,function Se(){J++}(),Ve(e),null===(t=Ee)||void 0===t||t()}(e))}const et={...fe,equal:d,value:void 0};var xn,Me,hn=k(4412),Sn=k(1413),Nt=k(8359),qt=k(6354);const Rt="https://g.co/ng/security#xss";class vt extends Error{constructor(t,r){super(function On(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function Gn(e){return{toString:e}.toString()}const Dr="__parameters__";function Wn(e,t,r){return Gn(()=>{const o=function xr(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...c){if(this instanceof a)return o.apply(this,c),this;const m=new a(...c);return I.annotation=m,I;function I(T,L,W){const ie=T.hasOwnProperty(Dr)?T[Dr]:Object.defineProperty(T,Dr,{value:[]})[Dr];for(;ie.length<=W;)ie.push(null);return(ie[W]=ie[W]||[]).push(m),T}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const cn=globalThis;function qn(e){for(let t in e)if(e[t]===qn)return t;throw Error("Could not find renamed property on target object.")}function Jn(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Yt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Yt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function bt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const xt=qn({__forward_ref__:qn});function ot(e){return e.__forward_ref__=ot,e.toString=function(){return Yt(this())},e}function dt(e){return Zt(e)?e():e}function Zt(e){return"function"==typeof e&&e.hasOwnProperty(xt)&&e.__forward_ref__===ot}function ar(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function G(e){return{providers:e.providers||[],imports:e.imports||[]}}function ge(e){return Q(e,Bt)||Q(e,Fn)}function X(e){return null!==ge(e)}function Q(e,t){return e.hasOwnProperty(t)?e[t]:null}function ft(e){return e&&(e.hasOwnProperty(Jt)||e.hasOwnProperty(Dn))?e[Jt]:null}const Bt=qn({\u0275prov:qn}),Jt=qn({\u0275inj:qn}),Fn=qn({ngInjectableDef:qn}),Dn=qn({ngInjectorDef:qn});class Vn{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=ar({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ho(e){return e&&!!e.\u0275providers}const eo=qn({\u0275cmp:qn}),Mi=qn({\u0275dir:qn}),Do=qn({\u0275pipe:qn}),Ds=qn({\u0275mod:qn}),qi=qn({\u0275fac:qn}),Ai=qn({__NG_ELEMENT_ID__:qn}),Os=qn({__NG_ENV_ID__:qn});function nr(e){return"string"==typeof e?e:null==e?"":String(e)}function Xi(e,t){throw new vt(-201,!1)}var Er=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Er||{});let Wo;function ti(){return Wo}function hi(e){const t=Wo;return Wo=e,t}function li(e,t,r){const o=ge(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Er.Optional?null:void 0!==t?t:void Xi()}const Qi={},Nr="__NG_DI_FLAG__",To="ngTempTokenPath",ni=/\n/gm,E="__source";let M;function U(e){const t=M;return M=e,t}function ee(e,t=Er.Default){if(void 0===M)throw new vt(-203,!1);return null===M?li(e,void 0,t):M.get(e,t&Er.Optional?null:void 0,t)}function He(e,t=Er.Default){return(ti()||ee)(dt(e),t)}function mt(e,t=Er.Default){return He(e,Lt(t))}function Lt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Wt(e){const t=[];for(let r=0;r<e.length;r++){const o=dt(e[r]);if(Array.isArray(o)){if(0===o.length)throw new vt(900,!1);let a,c=Er.Default;for(let m=0;m<o.length;m++){const I=o[m],T=_n(I);"number"==typeof T?-1===T?a=I.token:c|=T:a=I}t.push(He(a,c))}else t.push(He(o))}return t}function ln(e,t){return e[Nr]=t,e.prototype[Nr]=t,e}function _n(e){return e[Nr]}const Qr=ln(Wn("Optional"),8),Hr=ln(Wn("SkipSelf"),4);function vi(e,t){return e.hasOwnProperty(qi)?e[qi]:null}function to(e,t){e.forEach(r=>Array.isArray(r)?to(r,t):t(r))}function so(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function wo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ci(e,t,r){let o=Ko(e,t);return o>=0?e[1|o]=r:(o=~o,function Fs(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function ls(e,t){const r=Ko(e,t);if(r>=0)return e[1|r]}function Ko(e,t){return function la(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const c=o+(a-o>>1),m=e[c<<r];if(t===m)return c<<r;m>t?a=c:o=c+1}return~(a<<r)}(e,t,1)}const Mr={},lr=[],So=new Vn(""),qo=new Vn("",-1),Ro=new Vn("");class Vs{get(t,r=Qi){if(r===Qi){const o=new Error(`NullInjectorError: No provider for ${Yt(t)}!`);throw o.name="NullInjectorError",o}return r}}var us=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(us||{}),Kn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Kn||{}),Cr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Cr||{});function Ls(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===o||e.charCodeAt(a+c)<=32)return a}r=a+1}}function ws(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const c=r[o++],m=r[o++],I=r[o++];e.setAttribute(t,m,I,c)}else{const c=a,m=r[++o];Wa(c)?e.setProperty(t,c,m):e.setAttribute(t,c,m),o++}}return o}function Us(e){return 3===e||4===e||6===e}function Wa(e){return 64===e.charCodeAt(0)}function Bs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||Ta(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function Ta(e,t,r,o,a){let c=0,m=e.length;if(-1===t)m=-1;else for(;c<e.length;){const I=e[c++];if("number"==typeof I){if(I===t){m=-1;break}if(I>t){m=c-1;break}}}for(;c<e.length;){const I=e[c];if("number"==typeof I)break;if(I===r){if(null===o)return void(null!==a&&(e[c+1]=a));if(o===e[c+1])return void(e[c+2]=a)}c++,null!==o&&c++,null!==a&&c++}-1!==m&&(e.splice(m,0,t),c=m+1),e.splice(c++,0,r),null!==o&&e.splice(c++,0,o),null!==a&&e.splice(c++,0,a)}const $s="ng-template";function H(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==Ls(t[a+1].toLowerCase(),r,0))return!0}else if(x(e))return!1;if(a=t.indexOf(1,a),a>-1){let c;for(;++a<t.length&&"string"==typeof(c=t[a]);)if(c.toLowerCase()===r)return!0}return!1}function x(e){return 4===e.type&&e.value!==$s}function te(e,t,r){return t===(4!==e.type||r?e.value:$s)}function $(e,t,r){let o=4;const a=e.attrs,c=null!==a?function co(e){for(let t=0;t<e.length;t++)if(Us(e[t]))return t;return e.length}(a):0;let m=!1;for(let I=0;I<t.length;I++){const T=t[I];if("number"!=typeof T){if(!m)if(4&o){if(o=2|1&o,""!==T&&!te(e,T,r)||""===T&&1===t.length){if(ce(o))return!1;m=!0}}else if(8&o){if(null===a||!H(e,a,T,r)){if(ce(o))return!1;m=!0}}else{const L=t[++I],W=en(T,a,x(e),r);if(-1===W){if(ce(o))return!1;m=!0;continue}if(""!==L){let ie;if(ie=W>c?"":a[W+1].toLowerCase(),2&o&&L!==ie){if(ce(o))return!1;m=!0}}}}else{if(!m&&!ce(o)&&!ce(T))return!1;if(m&&ce(T))continue;m=!1,o=T|1&o}}return ce(o)||m}function ce(e){return!(1&e)}function en(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let c=!1;for(;a<t.length;){const m=t[a];if(m===e)return a;if(3===m||6===m)c=!0;else{if(1===m||2===m){let I=t[++a];for(;"string"==typeof I;)I=t[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=c?1:2}return-1}return function ua(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function Hn(e,t,r=!1){for(let o=0;o<t.length;o++)if($(e,t[o],r))return!0;return!1}function ca(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function Ss(e,t){return e?":not("+t.trim()+")":t}function js(e){let t=e[0],r=1,o=2,a="",c=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&o){const I=e[++r];a+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?a+="."+m:4&o&&(a+=" "+m);else""!==a&&!ce(m)&&(t+=Ss(c,a),a=""),o=m,c=c||!ce(o);r++}return""!==a&&(t+=Ss(c,a)),t}function cs(e){return Gn(()=>{var t;const r=ha(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===us.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||Kn.Emulated,styles:e.styles||lr,_:null,schemas:e.schemas||null,tView:null,id:""};fa(o);const a=e.dependencies;return o.directiveDefs=Mo(a,!1),o.pipeDefs=Mo(a,!0),o.id=function Ra(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function Xo(e){return fr(e)||Lr(e)}function Rs(e){return null!==e}function da(e){return Gn(()=>({type:e.type,bootstrap:e.bootstrap||lr,declarations:e.declarations||lr,imports:e.imports||lr,exports:e.exports||lr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ds(e,t){if(null==e)return Mr;const r={};for(const a in e)if(e.hasOwnProperty(a)){const c=e[a];let m,I,T=Cr.None;var o;Array.isArray(c)?(T=c[0],m=c[1],I=null!==(o=c[2])&&void 0!==o?o:m):(m=c,I=c),t?(r[m]=T!==Cr.None?[a,T]:a,t[m]=I):r[m]=a}return r}function Sa(e){return Gn(()=>{const t=ha(e);return fa(t),t})}function Hs(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function fr(e){return e[eo]||null}function Lr(e){return e[Mi]||null}function ki(e){return e[Do]||null}function go(e){const t=fr(e)||Lr(e)||ki(e);return null!==t&&t.standalone}function Hi(e,t){const r=e[Ds]||null;if(!r&&!0===t)throw new Error(`Type ${Yt(e)} does not have '\u0275mod' property.`);return r}function ha(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Mr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||lr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ds(e.inputs,t),outputs:ds(e.outputs),debugInfo:null}}function fa(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function Mo(e,t){if(!e)return null;const r=t?ki:Xo;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Rs)}function Ul(...e){return{\u0275providers:mu(0,e),\u0275fromNgModule:!0}}function mu(e,...t){const r=[],o=new Set;let a;const c=m=>{r.push(m)};return to(t,m=>{const I=m;Bl(I,c,[],o)&&(a||(a=[]),a.push(I))}),void 0!==a&&Qo(a,c),r}function Qo(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];pa(a,c=>{t(c,o)})}}function Bl(e,t,r,o){if(!(e=dt(e)))return!1;let a=null,c=ft(e);const m=!c&&fr(e);if(c||m){if(m&&!m.standalone)return!1;a=e}else{const T=e.ngModule;if(c=ft(T),!c)return!1;a=T}const I=o.has(a);if(m){if(I)return!1;if(o.add(a),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const L of T)Bl(L,t,r,o)}}else{if(!c)return!1;{if(null!=c.imports&&!I){let L;o.add(a);try{to(c.imports,W=>{Bl(W,t,r,o)&&(L||(L=[]),L.push(W))})}finally{}void 0!==L&&Qo(L,t)}if(!I){const L=vi(a)||(()=>new a);t({provide:a,useFactory:L,deps:lr},a),t({provide:Ro,useValue:a,multi:!0},a),t({provide:So,useValue:()=>He(a),multi:!0},a)}const T=c.providers;if(null!=T&&!I){const L=e;pa(T,W=>{t(W,L)})}}}return a!==e&&void 0!==e.providers}function pa(e,t){for(let r of e)Ho(r)&&(r=r.\u0275providers),Array.isArray(r)?pa(r,t):t(r)}const gl=qn({provide:String,useValue:qn});function Ka(e){return null!==e&&"object"==typeof e&&gl in e}function xo(e){return"function"==typeof e}const qa=new Vn(""),mr={},_u={};let Ma;function zs(){return void 0===Ma&&(Ma=new Vs),Ma}class No{}class vo extends No{get destroyed(){return this._destroyed}constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gs(t,m=>this.processProvider(m)),this.records.set(qo,Yo(void 0,this)),a.has("environment")&&this.records.set(No,Yo(void 0,this));const c=this.records.get(qa);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Ro,lr,Er.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=he(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=U(this),o=hi(void 0);try{return t()}finally{U(r),hi(o)}}get(t,r=Qi,o=Er.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Os))return t[Os](this);o=Lt(o);const c=U(this),m=hi(void 0);try{if(!(o&Er.SkipSelf)){let T=this.records.get(t);if(void 0===T){const L=function ao(e){return"function"==typeof e||"object"==typeof e&&e instanceof Vn}(t)&&ge(t);T=L&&this.injectableDefInScope(L)?Yo(Pa(t),mr):null,this.records.set(t,T)}if(null!=T)return this.hydrate(t,T)}return(o&Er.Self?zs():this.parent).get(t,r=o&Er.Optional&&r===Qi?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[To]=I[To]||[]).unshift(Yt(t)),c)throw I;return function Nn(e,t,r,o){const a=e[To];throw t[E]&&a.unshift(t[E]),e.message=function Rn(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Yt(t);if(Array.isArray(t))a=t.map(Yt).join(" -> ");else if("object"==typeof t){let c=[];for(let m in t)if(t.hasOwnProperty(m)){let I=t[m];c.push(m+":"+("string"==typeof I?JSON.stringify(I):Yt(I)))}a=`{${c.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(ni,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[To]=null,e}(I,t,"R3InjectorError",this.source)}throw I}finally{hi(m),U(c)}}resolveInjectorInitializers(){const t=he(null),r=U(this),o=hi(void 0);try{const c=this.get(So,lr,Er.Self);for(const m of c)m()}finally{U(r),hi(o),he(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Yt(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new vt(205,!1)}processProvider(t){let r=xo(t=dt(t))?t:dt(t&&t.provide);const o=function Xa(e){return Ka(e)?Yo(void 0,e.useValue):Yo(vl(e),mr)}(t);if(!xo(t)&&!0===t.multi){let a=this.records.get(r);a||(a=Yo(void 0,mr,!0),a.factory=()=>Wt(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=he(null);try{return r.value===mr&&(r.value=_u,r.value=r.factory()),"object"==typeof r.value&&r.value&&function yu(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{he(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=dt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Pa(e){const t=ge(e),r=null!==t?t.factory:vi(e);if(null!==r)return r;if(e instanceof Vn)throw new vt(204,!1);if(e instanceof Function)return function ml(e){if(e.length>0)throw new vt(204,!1);const r=function ye(e){return e&&(e[Bt]||e[Fn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new vt(204,!1)}function vl(e,t,r){let o;if(xo(e)){const a=dt(e);return vi(a)||Pa(a)}if(Ka(e))o=()=>dt(e.useValue);else if(function $l(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Wt(e.deps||[]));else if(function mo(e){return!(!e||!e.useExisting)}(e))o=()=>He(dt(e.useExisting));else{const a=dt(e&&(e.useClass||e.provide));if(!function Zo(e){return!!e.deps}(e))return vi(a)||Pa(a);o=()=>new a(...Wt(e.deps))}return o}function Yo(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Gs(e,t){for(const r of e)Array.isArray(r)?Gs(r,t):r&&Ho(r)?Gs(r.\u0275providers,t):t(r)}function xa(e,t){e instanceof vo&&e.assertNotDestroyed();const o=U(e),a=hi(void 0);try{return t()}finally{U(o),hi(a)}}function jl(){return void 0!==ti()||null!=function C(){return M}()}const br=0,sn=1,Ln=2,fi=3,Fi=4,pi=5,Zi=6,Ws=7,pr=8,Yn=9,hs=10,or=11,Ks=12,fs=13,_l=14,Pi=15,qs=16,yl=17,Vi=18,Ps=19,Na=20,_o=21,Il=22,si=23,zn=25,Hl=1,ps=7,El=9,Li=10;var fc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(fc||{});function yi(e){return Array.isArray(e)&&"object"==typeof e[Hl]}function Ui(e){return Array.isArray(e)&&!0===e[Hl]}function Oa(e){return!!(4&e.flags)}function Xs(e){return e.componentOffset>-1}function bi(e){return!(1&~e.flags)}function yo(e){return!!e.template}function ka(e){return!!(512&e[Ln])}class no{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Io(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function ga(){return ko}function ko(e){return e.type.prototype.ngOnChanges&&(e.setInput=Eu),Fo}function Fo(){const e=gc(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===Mr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Eu(e,t,r,o,a){const c=this.declaredInputs[o],m=gc(e)||function ma(e,t){return e[Cl]=t}(e,{previous:Mr,current:null}),I=m.current||(m.current={}),T=m.previous,L=T[c];I[c]=new no(L&&L.currentValue,r,T===Mr),Io(e,t,a,r)}ga.ngInherit=!0;const Cl="__ngSimpleChanges__";function gc(e){return e[Cl]||null}const Vo=function(e,t,r){};function Vr(e){for(;Array.isArray(e);)e=e[br];return e}function Au(e,t){return Vr(t[e])}function Lo(e,t){return Vr(t[e.index])}function Tl(e,t){return e.data[t]}function Ya(e,t){return e[t]}function Uo(e,t){const r=t[e];return yi(r)?r:r[br]}function vc(e){return!(128&~e[Ln])}function gs(e,t){return null==t?null:e[t]}function yh(e){e[yl]=0}function cd(e){1024&e[Ln]||(e[Ln]|=1024,vc(e)&&Fa(e))}function hd(e){var t;return!!(9216&e[Ln]||null!==(t=e[si])&&void 0!==t&&t.dirty)}function va(e){var t;null===(t=e[hs].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[Ln]&&(e[Ln]|=1024),hd(e)&&Fa(e)}function Fa(e){var t;null===(t=e[hs].changeDetectionScheduler)||void 0===t||t.notify(0);let r=Ys(e);for(;null!==r&&!(8192&r[Ln])&&(r[Ln]|=8192,vc(r));)r=Ys(r)}function _a(e,t){if(!(256&~e[Ln]))throw new vt(911,!1);null===e[_o]&&(e[_o]=[]),e[_o].push(t)}function Ys(e){const t=e[fi];return Ui(t)?t[fi]:t}const dr={lFrame:Wf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let _c=!1;function yc(){return dr.bindingsEnabled}function Yl(){return null!==dr.skipHydrationRootTNode}function jt(){return dr.lFrame.lView}function vr(){return dr.lFrame.tView}function Ec(e){return dr.lFrame.contextLView=e,e[pr]}function vd(e){return dr.lFrame.contextLView=null,e}function Ar(){let e=Ah();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ah(){return dr.lFrame.currentTNode}function Jo(e,t){const r=dr.lFrame;r.currentTNode=e,r.isParent=t}function Ac(){return dr.lFrame.isParent}function Va(){dr.lFrame.isParent=!1}function Zl(){return _c}function Cc(e){_c=e}function Zs(){return dr.lFrame.bindingIndex++}function Js(e){const t=dr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function _d(e,t){const r=dr.lFrame;r.bindingIndex=r.bindingRootIndex=e,Th(t)}function Th(e){dr.lFrame.currentDirectiveIndex=e}function bh(){return dr.lFrame.currentQueryIndex}function Dc(e){dr.lFrame.currentQueryIndex=e}function Ja(e){const t=e[sn];return 2===t.type?t.declTNode:1===t.type?e[pi]:null}function bu(e,t,r){if(r&Er.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||r&Er.Host||(a=Ja(c),null===a||(c=c[_l],10&a.type))););if(null===a)return!1;t=a,e=c}const o=dr.lFrame=wh();return o.currentTNode=t,o.lView=e,!0}function Id(e){const t=wh(),r=e[sn];dr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function wh(){const e=dr.lFrame,t=null===e?null:e.child;return null===t?Wf(e):t}function Wf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Sh(){const e=dr.lFrame;return dr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rh=Sh;function Mh(){const e=Sh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lo(){return dr.lFrame.selectedIndex}function Bi(e){dr.lFrame.selectedIndex=e}function wi(){const e=dr.lFrame;return Tl(e.tView,e.selectedIndex)}let wu=!0;function el(){return wu}function ea(e){wu=e}function bc(e,t){for(let L=t.directiveStart,W=t.directiveEnd;L<W;L++){const Ne=e.data[L].type.prototype,{ngAfterContentInit:ze,ngAfterContentChecked:Ue,ngAfterViewInit:Ut,ngAfterViewChecked:nn,ngOnDestroy:fn}=Ne;var r,o,a,c,m,I,T;ze&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-L,ze),Ue&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(L,Ue),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push(L,Ue)),Ut&&(null!==(c=e.viewHooks)&&void 0!==c?c:e.viewHooks=[]).push(-L,Ut),nn&&((null!==(m=e.viewHooks)&&void 0!==m?m:e.viewHooks=[]).push(L,nn),(null!==(I=e.viewCheckHooks)&&void 0!==I?I:e.viewCheckHooks=[]).push(L,nn)),null!=fn&&(null!==(T=e.destroyHooks)&&void 0!==T?T:e.destroyHooks=[]).push(L,fn)}}function wl(e,t,r){wc(e,t,3,r)}function tl(e,t,r,o){(3&e[Ln])===r&&wc(e,t,r,o)}function nl(e,t){let r=e[Ln];(3&r)===t&&(r&=16383,r+=1,e[Ln]=r)}function wc(e,t,r,o){const c=null!=o?o:-1,m=t.length-1;let I=0;for(let T=void 0!==o?65535&e[yl]:0;T<m;T++)if("number"==typeof t[T+1]){if(I=t[T],null!=o&&I>=o)break}else t[T]<0&&(e[yl]+=65536),(I<c||-1==c)&&(Hg(e,r,t,T),e[yl]=(4294901760&e[yl])+T+2),T++}function Sc(e,t){Vo(4,e,t);const r=he(null);try{t.call(e)}finally{he(r),Vo(5,e,t)}}function Hg(e,t,r,o){const a=r[o]<0,c=r[o+1],I=e[a?-r[o]:r[o]];a?e[Ln]>>14<e[yl]>>16&&(3&e[Ln])===t&&(e[Ln]+=16384,Sc(I,c)):Sc(I,c)}const Jl=-1;class Rc{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const Sl={};class ms{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=Lt(o);const a=this.injector.get(t,Sl,o);return a!==Sl||r===Sl?a:this.parentInjector.get(t,r,o)}}function Pc(e){return e!==Jl}function Ua(e){return 32767&e}function Su(e,t){let r=function Qf(e){return e>>16}(e),o=t;for(;r>0;)o=o[_l],r--;return o}let Nh=!0;function Ru(e){const t=Nh;return Nh=e,t}const Cd=255,Oh=5;let Zf=0;const ta={};function rl(e,t){const r=Td(e,t);if(-1!==r)return r;const o=t[sn];o.firstCreatePass&&(e.injectorIndex=t.length,Rl(o.data,e),Rl(t,null),Rl(o.blueprint,null));const a=Mu(e,t),c=e.injectorIndex;if(Pc(a)){const m=Ua(a),I=Su(a,t),T=I[sn].data;for(let L=0;L<8;L++)t[c+L]=I[m+L]|T[m+L]}return t[c+8]=a,c}function Rl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Td(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Mu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=np(a),null===o)return Jl;if(r++,a=a[_l],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Jl}function tu(e,t,r){!function Dd(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Ai)&&(o=r[Ai]),null==o&&(o=r[Ai]=Zf++);const a=o&Cd;t.data[e+(a>>Oh)]|=1<<a}(e,t,r)}function Jf(e,t,r){if(r&Er.Optional||void 0!==e)return e;Xi()}function kh(e,t,r,o){if(r&Er.Optional&&void 0===o&&(o=null),!(r&(Er.Self|Er.Host))){const a=e[Yn],c=hi(void 0);try{return a?a.get(t,o,r&Er.Optional):li(t,o,r&Er.Optional)}finally{hi(c)}}return Jf(o,0,r)}function Ml(e,t,r,o=Er.Default,a){if(null!==e){if(2048&t[Ln]&&!(o&Er.Self)){const m=function Xg(e,t,r,o,a){let c=e,m=t;for(;null!==c&&null!==m&&2048&m[Ln]&&!(512&m[Ln]);){const I=wd(c,m,r,o|Er.Self,ta);if(I!==ta)return I;let T=c.parent;if(!T){const L=m[Na];if(L){const W=L.get(r,ta,o);if(W!==ta)return W}T=np(m),m=m[_l]}c=T}return a}(e,t,r,o,ta);if(m!==ta)return m}const c=wd(e,t,r,o,ta);if(c!==ta)return c}return kh(t,r,o,a)}function wd(e,t,r,o,a){const c=function qg(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ai)?e[Ai]:void 0;return"number"==typeof t?t>=0?t&Cd:ep:t}(r);if("function"==typeof c){if(!bu(t,e,o))return o&Er.Host?Jf(a,0,o):kh(t,r,o,a);try{let m;if(m=c(o),null!=m||o&Er.Optional)return m;Xi()}finally{Rh()}}else if("number"==typeof c){let m=null,I=Td(e,t),T=Jl,L=o&Er.Host?t[Pi][pi]:null;for((-1===I||o&Er.SkipSelf)&&(T=-1===I?Mu(e,t):t[I+8],T!==Jl&&xc(o,!1)?(m=t[sn],I=Ua(T),t=Su(T,t)):I=-1);-1!==I;){const W=t[sn];if(Fh(c,I,W.data)){const ie=Kg(I,t,r,m,o,L);if(ie!==ta)return ie}T=t[I+8],T!==Jl&&xc(o,t[sn].data[I+8]===L)&&Fh(c,I,t)?(m=W,I=Ua(T),t=Su(T,t)):I=-1}}return a}function Kg(e,t,r,o,a,c){const m=t[sn],I=m.data[e+8],W=Sd(I,m,r,null==o?Xs(I)&&Nh:o!=m&&!!(3&I.type),a&Er.Host&&c===I);return null!==W?zi(t,m,W,I):ta}function Sd(e,t,r,o,a){const c=e.providerIndexes,m=t.data,I=1048575&c,T=e.directiveStart,W=c>>20,Ne=a?I+W:e.directiveEnd;for(let ze=o?I:I+W;ze<Ne;ze++){const Ue=m[ze];if(ze<T&&r===Ue||ze>=T&&Ue.type===r)return ze}if(a){const ze=m[T];if(ze&&yo(ze)&&ze.type===r)return T}return null}function zi(e,t,r,o){let a=e[r];const c=t.data;if(function Xf(e){return e instanceof Rc}(a)){const m=a;m.resolving&&function Go(e,t){throw t&&t.join(" > "),new vt(-200,e)}(function Rr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():nr(e)}(c[r]));const I=Ru(m.canSeeViewProviders);m.resolving=!0;const L=m.injectImpl?hi(m.injectImpl):null;bu(e,o,Er.Default);try{a=e[r]=m.factory(void 0,c,e,o),t.firstCreatePass&&r>=o.directiveStart&&function qf(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(o){var m,I;const ie=ko(t);(null!==(m=r.preOrderHooks)&&void 0!==m?m:r.preOrderHooks=[]).push(e,ie),(null!==(I=r.preOrderCheckHooks)&&void 0!==I?I:r.preOrderCheckHooks=[]).push(e,ie)}var T,L,W;a&&(null!==(T=r.preOrderHooks)&&void 0!==T?T:r.preOrderHooks=[]).push(0-e,a),c&&((null!==(L=r.preOrderHooks)&&void 0!==L?L:r.preOrderHooks=[]).push(e,c),(null!==(W=r.preOrderCheckHooks)&&void 0!==W?W:r.preOrderCheckHooks=[]).push(e,c))}(r,c[r],t)}finally{null!==L&&hi(L),Ru(I),m.resolving=!1,Rh()}}return a}function Fh(e,t,r){return!!(r[t+(e>>Oh)]&1<<e)}function xc(e,t){return!(e&Er.Self||e&Er.Host&&t)}class io{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Ml(this._tNode,this._lView,t,Lt(o),r)}}function ep(){return new io(Ar(),jt())}function tp(e){return Gn(()=>{const t=e.prototype.constructor,r=t[qi]||Vh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const c=a[qi]||Vh(a);if(c&&c!==r)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Vh(e){return Zt(e)?()=>{const t=Vh(dt(e));return t&&t()}:vi(e)}function np(e){const t=e[sn],r=t.type;return 2===r?t.declTNode:1===r?e[pi]:null}function il(e){return function bd(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const c=r[a];if(Us(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(c===t)return r[a+1];a+=2}}}return null}(Ar(),e)}function Rd(e,t=null,r=null,o){const a=al(e,t,r,o);return a.resolveInjectorInitializers(),a}function al(e,t=null,r=null,o,a=new Set){const c=[r||lr,Ul(e)];return o=o||("object"==typeof e?void 0:Yt(e)),new vo(c,t||zs(),o||null,a)}class ho{static create(t,r){if(Array.isArray(t))return Rd({name:""},r,t,"");{var o;const a=null!==(o=t.name)&&void 0!==o?o:"";return Rd({name:a},t.parent,t.providers,a)}}}(xn=ho).THROW_IF_NOT_FOUND=Qi,xn.NULL=new Vs,xn.\u0275prov=ar({token:xn,providedIn:"any",factory:()=>He(qo)}),xn.__NG_ELEMENT_ID__=-1,new Vn("").__NG_ELEMENT_ID__=e=>{const t=Ar();if(null===t)throw new vt(204,!1);if(2&t.type)return t.value;if(e&Er.Optional)return null;throw new vt(204,!1)};function $a(e){return e.ngOriginalError}const xu=!0;let Vc=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Nu,e.__NG_ENV_ID__=r=>r,t})();class ll extends Vc{constructor(t){super(),this._lView=t}onDestroy(t){return _a(this._lView,t),()=>function Cu(e,t){if(null===e[_o])return;const r=e[_o].indexOf(t);-1!==r&&e[_o].splice(r,1)}(this._lView,t)}}function Nu(){return new ll(jt())}let ul=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=ar({token:e,providedIn:"root",factory:()=>new e}),t})();const ra=class Hh extends Sn.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,jl()&&(this.destroyRef=null!==(r=mt(Vc,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=mt(ul,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=he(null);try{super.next(t)}finally{he(r)}}subscribe(t,r,o){let a=t,c=r||(()=>null),m=o;if(t&&"object"==typeof t){var I,T,L;const ie=t;a=null===(I=ie.next)||void 0===I?void 0:I.bind(ie),c=null===(T=ie.error)||void 0===T?void 0:T.bind(ie),m=null===(L=ie.complete)||void 0===L?void 0:L.bind(ie)}this.__isAsync&&(c=this.wrapInTimeout(c),a&&(a=this.wrapInTimeout(a)),m&&(m=this.wrapInTimeout(m)));const W=super.subscribe({next:a,error:c,complete:m});return t instanceof Nt.yU&&t.add(W),W}wrapInTimeout(t){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var c;t(r),void 0!==a&&(null===(c=this.pendingTasks)||void 0===c||c.remove(a))})}}};function Ou(...e){}function rp(e){let t,r;function o(){e=Ou;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Md(e){return queueMicrotask(()=>e()),()=>{e=Ou}}const y="isAngularZone",h=y+"_ID";let g=0;class A{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:c=xu}=t;if(typeof Zone>"u")throw new vt(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!a&&o,m.shouldCoalesceRunChangeDetection=a,m.callbackScheduled=!1,m.scheduleInRootZone=c,function It(e){const t=()=>{!function Ge(e){function t(){rp(()=>{e.callbackScheduled=!1,Kt(e),e.isCheckStableRunning=!0,oe(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Kt(e))}(e)},r=g++;e._inner=e._inner.fork({name:"angular",properties:{[y]:!0,[h]:r,[h+r]:!0},onInvokeTask:(o,a,c,m,I,T)=>{if(function Gi(e){return ku(e,"__ignore_ng_zone__")}(T))return o.invokeTask(c,m,I,T);try{return In(e),o.invokeTask(c,m,I,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&t(),Un(e)}},onInvoke:(o,a,c,m,I,T,L)=>{try{return In(e),o.invoke(c,m,I,T,L)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function ya(e){return ku(e,"__scheduler_tick__")}(T)&&t(),Un(e)}},onHasTask:(o,a,c,m)=>{o.hasTask(c,m),a===c&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,Kt(e),oe(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,a,c,m)=>(o.handleError(c,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(y)}static assertInAngularZone(){if(!A.isInAngularZone())throw new vt(909,!1)}static assertNotInAngularZone(){if(A.isInAngularZone())throw new vt(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+a,t,z,Ou,Ou);try{return c.runTask(m,r,o)}finally{c.cancelTask(m)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const z={};function oe(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Kt(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function In(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Un(e){e._nesting--,oe(e)}class Pn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function ku(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class xs{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&$a(t);for(;r&&$a(r);)r=$a(r);return r||null}}const xd=new Vn("",{providedIn:"root",factory:()=>{const e=mt(A),t=mt(xs);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Gh(){return xl(Ar(),jt())}function xl(e,t){return new Fu(Lo(e,t))}let Fu=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=Gh,t})();function Jv(e){return e instanceof Fu?e.nativeElement:e}function e_(){return this._results[Symbol.iterator]()}class sp{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new ra}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=sp.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=e_)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function Oi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function _i(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],c=t[o];if(r&&(a=r(a),c=r(c)),c!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Wh(e){return!(128&~e.flags)}const em=new Map;let tm=0;function qh(e){em.delete(e[Ps])}const cp="__ngContext__";function Bo(e,t){yi(t)?(e[cp]=t[Ps],function nm(e){em.set(e[Ps],e)}(t)):e[cp]=t}function gp(e){return mp(e[Ks])}function a_(e){return mp(e[Fi])}function mp(e){for(;null!==e&&!Ui(e);)e=e[Fi];return e}let um;function cm(e){um=e}const Fd=new Vn("",{providedIn:"root",factory:()=>yp}),yp="ng",Ip=new Vn(""),Ep=new Vn("",{providedIn:"platform",factory:()=>"unknown"}),dm=new Vn("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Vu(){if(void 0!==um)return um;if(typeof document<"u")return document;throw new vt(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let Cp=()=>null;function gm(e,t,r=!1){return Cp(e,t,r)}const $o=new Vn("",{providedIn:"root",factory:()=>!1});let Tp;function B0(e){var t;return(null===(t=function Dm(){if(void 0===Tp&&(Tp=null,cn.trustedTypes))try{Tp=cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Tp}())||void 0===t?void 0:t.createScriptURL(e))||e}class Wi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rt})`}}function Hu(e){return e instanceof Wi?e.changingThisBreaksApplicationSecurity:e}function nf(e,t){const r=function H0(e){return e instanceof Wi&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Rt})`)}return r===t}const Gc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ol=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ol||{});function km(e){const t=qc();return t?t.sanitize(Ol.URL,e)||"":nf(e,"URL")?Hu(e):function Hd(e){return(e=String(e)).match(Gc)?e:"unsafe:"+e}(nr(e))}function Pp(e){const t=qc();if(t)return B0(t.sanitize(Ol.RESOURCE_URL,e)||"");if(nf(e,"ResourceURL"))return B0(Hu(e));throw new vt(904,!1)}function Kc(e,t,r){return function W0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Pp:km}(t,r)(e)}function qc(){const e=jt();return e&&e[hs].sanitizer}const K0=/^>|^->|<!--|-->|--!>|<!-$/g,xp=/(<|>)/g,q0="\u200b$1\u200b";function Ia(e){return e instanceof Function?e():e}var Lp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Lp||{});let Up;function Bm(e,t){return Up(e,t)}function qu(e,t,r,o,a){if(null!=o){let c,m=!1;Ui(o)?c=o:yi(o)&&(m=!0,o=o[br]);const I=Vr(o);0===e&&null!==r?null==a?$_(t,r,I):Qc(t,r,I,a||null,!0):1===e&&null!==r?Qc(t,r,I,a||null,!0):2===e?function Hp(e,t,r){e.removeChild(null,t,r)}(t,I,m):3===e&&t.destroyNode(I),null!=c&&function Km(e,t,r,o,a){const c=r[ps];c!==Vr(r)&&qu(t,e,o,c,a);for(let I=Li;I<r.length;I++){const T=r[I];Wm(T[sn],T,e,t,o,c)}}(t,e,c,r,a)}}function $m(e,t){return e.createComment(function x_(e){return e.replace(K0,t=>t.replace(xp,q0))}(t))}function Bp(e,t,r){return e.createElement(t,r)}function sI(e,t){var r;null===(r=t[hs].changeDetectionScheduler)||void 0===r||r.notify(9),Wm(e,t,t[or],2,null,null)}function aI(e,t){const r=e[El],o=t[fi];(yi(o)||t[Pi]!==o[fi][Pi])&&(e[Ln]|=fc.HasTransplantedViews),null===r?e[El]=[t]:r.push(t)}function jm(e,t){const r=e[El],o=r.indexOf(t);r.splice(o,1)}function uf(e,t){if(e.length<=Li)return;const r=Li+t,o=e[r];if(o){const a=o[qs];null!==a&&a!==e&&jm(a,o),t>0&&(e[r-1][Fi]=o[Fi]);const c=wo(e,Li+t);!function iI(e,t){sI(e,t),t[br]=null,t[pi]=null}(o[sn],o);const m=c[Vi];null!==m&&m.detachView(c[sn]),o[fi]=null,o[Fi]=null,o[Ln]&=-129}return o}function $p(e,t){if(!(256&t[Ln])){const r=t[or];r.destroyNode&&Wm(e,t,r,3,null,null),function mA(e){let t=e[Ks];if(!t)return L_(e[sn],e);for(;t;){let r=null;if(yi(t))r=t[Ks];else{const o=t[Li];o&&(r=o)}if(!r){for(;t&&!t[Fi]&&t!==e;)yi(t)&&L_(t[sn],t),t=t[fi];null===t&&(t=e),yi(t)&&L_(t[sn],t),r=t&&t[Fi]}t=r}}(t)}}function L_(e,t){if(256&t[Ln])return;const r=he(null);try{t[Ln]&=-129,t[Ln]|=256,t[si]&&st(t[si]),function U_(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof Rc)){const c=r[o+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const I=a[c[m]],T=c[m+1];Vo(4,I,T);try{T.call(I)}finally{Vo(5,I,T)}}else{Vo(4,a,c);try{c.call(a)}finally{Vo(5,a,c)}}}}}(e,t),function lI(e,t){const r=e.cleanup,o=t[Ws];if(null!==r)for(let c=0;c<r.length-1;c+=2)if("string"==typeof r[c]){const m=r[c+3];m>=0?o[m]():o[-m].unsubscribe(),c+=2}else r[c].call(o[r[c+1]]);null!==o&&(t[Ws]=null);const a=t[_o];if(null!==a){t[_o]=null;for(let c=0;c<a.length;c++)(0,a[c])()}}(e,t),1===t[sn].type&&t[or].destroy();const o=t[qs];if(null!==o&&Ui(t[fi])){o!==t[fi]&&jm(o,t);const a=t[Vi];null!==a&&a.detachView(e)}qh(t)}finally{he(r)}}function Fl(e,t,r){return function B_(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[br];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:c}=e.data[o.directiveStart+a];if(c===Kn.None||c===Kn.Emulated)return null}return Lo(o,r)}}(e,t.parent,r)}function Qc(e,t,r,o,a){e.insertBefore(t,r,o,a)}function $_(e,t,r){e.appendChild(t,r)}function j_(e,t,r,o,a){null!==o?Qc(e,t,r,o,a):$_(e,t,r)}function Hm(e,t){return e.parentNode(t)}function H_(e,t,r){return dI(e,t,r)}let z_,dI=function cI(e,t,r){return 40&e.type?Lo(e,r):null};function jp(e,t,r,o){const a=Fl(e,o,t),c=t[or],I=H_(o.parent||t[pi],o,t);if(null!=a)if(Array.isArray(r))for(let T=0;T<r.length;T++)j_(c,a,r[T],I,!1);else j_(c,a,r,I,!1);void 0!==z_&&z_(c,o,t,r,a)}function Xd(e,t){if(null!==t){const r=t.type;if(3&r)return Lo(t,e);if(4&r)return G_(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return Xd(e,o);{const a=e[t.index];return Ui(a)?G_(-1,a):Vr(a)}}if(128&r)return Xd(e,t.next);if(32&r)return Bm(t,e)()||Vr(e[t.index]);{const o=hI(e,t);return null!==o?Array.isArray(o)?o[0]:Xd(Ys(e[Pi]),o):Xd(e,t.next)}}return null}function hI(e,t){return null!==t?e[Pi][pi].projection[t.projection]:null}function G_(e,t){const r=Li+e+1;if(r<t.length){const o=t[r],a=o[sn].firstChild;if(null!==a)return Xd(o,a)}return t[ps]}function zp(e,t,r,o,a,c,m){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=o[r.index],T=r.type;if(m&&0===t&&(I&&Bo(Vr(I),o),r.flags|=2),32&~r.flags)if(8&T)zp(e,t,r.child,o,a,c,!1),qu(t,e,a,I,c);else if(32&T){const L=Bm(r,o);let W;for(;W=L();)qu(t,e,a,W,c);qu(t,e,a,I,c)}else 16&T?fI(e,t,o,r,a,c):qu(t,e,a,I,c);r=m?r.projectionNext:r.next}}function Wm(e,t,r,o,a,c){zp(r,o,e.firstChild,t,a,c,!1)}function fI(e,t,r,o,a,c){const m=r[Pi],T=m[pi].projection[o.projection];if(Array.isArray(T))for(let L=0;L<T.length;L++)qu(t,e,a,T[L],c);else{let L=T;const W=m[fi];Wh(o)&&(L.flags|=128),zp(e,t,L,W,a,c,!0)}}function W_(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Wp(e,t,r){const{mergedAttrs:o,classes:a,styles:c}=r;null!==o&&ws(e,t,o),null!==a&&W_(e,t,a),null!==c&&function pI(e,t,r){e.setAttribute(t,"style",r)}(e,t,c)}const wr={};function qm(e=1){Qd(vr(),jt(),lo()+e,!1)}function Qd(e,t,r,o){if(!o)if(3&~t[Ln]){const c=e.preOrderHooks;null!==c&&tl(t,c,0,r)}else{const c=e.preOrderCheckHooks;null!==c&&wl(t,c,r)}Bi(r)}function Xu(e,t=Er.Default){const r=jt();return null===r?He(e,t):Ml(Ar(),r,dt(e),t)}function K_(){throw new Error("invalid")}function q_(e,t,r,o,a,c){const m=he(null);try{let I=null;a&Cr.SignalBased&&(I=t[o][se]),null!==I&&void 0!==I.transformFn&&(c=I.transformFn(c)),a&Cr.HasDecoratorInputTransform&&(c=e.inputTransforms[o].call(t,c)),null!==e.setInput?e.setInput(t,I,c,r,o):Io(t,I,o,c)}finally{he(m)}}function Yc(e,t,r,o,a,c,m,I,T,L,W){const ie=t.blueprint.slice();return ie[br]=a,ie[Ln]=204|o,(null!==L||e&&2048&e[Ln])&&(ie[Ln]|=2048),yh(ie),ie[fi]=ie[_l]=e,ie[pr]=r,ie[hs]=m||e&&e[hs],ie[or]=I||e&&e[or],ie[Yn]=T||e&&e[Yn]||null,ie[pi]=c,ie[Ps]=function r_(){return tm++}(),ie[Zi]=W,ie[Na]=L,ie[Pi]=2==t.type?e[Pi]:ie,ie}function Zc(e,t,r,o,a){let c=e.data[t];if(null===c)c=function Kp(e,t,r,o,a){const c=Ah(),m=Ac(),T=e.data[t]=function td(e,t,r,o,a,c){let m=t?t.injectorIndex:-1,I=0;return Yl()&&(I|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,r,t,o,a);return null===e.firstChild&&(e.firstChild=T),null!==c&&(m?null==c.child&&null!==T.parent&&(c.child=T):null===c.next&&(c.next=T,T.prev=c)),T}(e,t,r,o,a),function Hf(){return dr.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=r,c.value=o,c.attrs=a;const m=function Za(){const e=dr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===m?-1:m.injectorIndex}return Jo(c,!0),c}function Yd(e,t,r,o){if(0===r)return-1;const a=t.length;for(let c=0;c<r;c++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function Qu(e,t,r,o,a){const c=lo(),m=2&o;try{Bi(-1),m&&t.length>zn&&Qd(e,t,zn,!1),Vo(m?2:0,a),r(o,a)}finally{Bi(c),Vo(m?3:1,a)}}function ia(e,t,r){if(Oa(t)){const o=he(null);try{const c=t.directiveEnd;for(let m=t.directiveStart;m<c;m++){const I=e.data[m];I.contentQueries&&I.contentQueries(1,r[m],m)}}finally{he(o)}}}function es(e,t,r){yc()&&(function Ym(e,t,r,o){const a=r.directiveStart,c=r.directiveEnd;Xs(r)&&function sy(e,t,r){const o=Lo(t,e),a=Xm(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const I=u(e,Yc(e,a,null,m,o,t,null,e[hs].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=I}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||rl(r,t),Bo(o,t);const m=r.initialInputs;for(let I=a;I<c;I++){const T=e.data[I],L=zi(t,e,I,r);Bo(L,t),null!==m&&l(0,I-a,L,T,0,m),yo(T)&&(Uo(r.index,t)[pr]=zi(t,e,I,r))}}(e,t,r,Lo(r,t)),!(64&~r.flags)&&ty(e,t,r))}function qp(e,t,r=Lo){const o=t.localNames;if(null!==o){let a=t.index+1;for(let c=0;c<o.length;c+=2){const m=o[c+1],I=-1===m?r(t,e):e[m];e[a++]=I}}}function Xm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Jc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Jc(e,t,r,o,a,c,m,I,T,L,W){const ie=zn+o,Ne=ie+a,ze=function cf(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:wr);return r}(ie,Ne),Ue="function"==typeof L?L():L;return ze[sn]={type:e,blueprint:ze,template:r,queries:null,viewQuery:I,declTNode:t,data:ze.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Ue,incompleteFirstPass:!1,ssrId:W}}let Xp=()=>null;function Q_(e,t,r,o,a){for(let m in t){var c;if(!t.hasOwnProperty(m))continue;const I=t[m];if(void 0===I)continue;null!==(c=o)&&void 0!==c||(o={});let T,L=Cr.None;Array.isArray(I)?(T=I[0],L=I[1]):T=I;let W=m;if(null!==a){if(!a.hasOwnProperty(m))continue;W=a[m]}0===e?Y_(o,r,W,T,L):Y_(o,r,W,T)}return o}function Y_(e,t,r,o,a){let c;e.hasOwnProperty(r)?(c=e[r]).push(t,o):c=e[r]=[t,o],void 0!==a&&c.push(a)}function oa(e,t,r,o,a,c,m,I){const T=Lo(t,r);let W,L=t.inputs;!I&&null!=L&&(W=L[o])?(we(e,r,W,o,a),Xs(t)&&function Z_(e,t){const r=Uo(t,e);16&r[Ln]||(r[Ln]|=64)}(r,t.index)):3&t.type&&(o=function vI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=m?m(a,t.value||"",o):a,c.setProperty(T,o,a))}function Qp(e,t,r,o){if(yc()){const a=null===o?null:{"":-1},c=function ry(e,t){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let m=0;m<r.length;m++){const I=r[m];if(Hn(t,I.selectors,!1))if(o||(o=[]),yo(I))if(null!==I.findHostDirectiveDefs){const T=[];a=a||new Map,I.findHostDirectiveDefs(I,T,a),o.unshift(...T,I),Zm(e,t,T.length)}else o.unshift(I),Zm(e,t,0);else{var c;a=a||new Map,null===(c=I.findHostDirectiveDefs)||void 0===c||c.call(I,I,o,a),o.push(I)}}return null===o?null:[o,a]}(e,r);let m,I;null===c?m=I=null:[m,I]=c,null!==m&&df(e,t,r,m,a,I),a&&function iy(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=r[t[a+1]];if(null==c)throw new vt(-301,!1);o.push(t[a],c)}}}(r,o,a)}r.mergedAttrs=Bs(r.mergedAttrs,r.attrs)}function df(e,t,r,o,a,c){for(let ie=0;ie<o.length;ie++)tu(rl(r,t),e,o[ie].type);!function II(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let ie=0;ie<o.length;ie++){const Ne=o[ie];Ne.providersResolver&&Ne.providersResolver(Ne)}let m=!1,I=!1,T=Yd(e,t,o.length,null);for(let ie=0;ie<o.length;ie++){const Ne=o[ie];r.mergedAttrs=Bs(r.mergedAttrs,Ne.hostAttrs),EI(e,r,t,T,Ne),oy(T,Ne,a),null!==Ne.contentQueries&&(r.flags|=4),(null!==Ne.hostBindings||null!==Ne.hostAttrs||0!==Ne.hostVars)&&(r.flags|=64);const ze=Ne.type.prototype;var L,W;!m&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((null!==(L=e.preOrderHooks)&&void 0!==L?L:e.preOrderHooks=[]).push(r.index),m=!0),I||!ze.ngOnChanges&&!ze.ngDoCheck||((null!==(W=e.preOrderCheckHooks)&&void 0!==W?W:e.preOrderCheckHooks=[]).push(r.index),I=!0),T++}!function mI(e,t,r){const a=t.directiveEnd,c=e.data,m=t.attrs,I=[];let T=null,L=null;for(let W=t.directiveStart;W<a;W++){const ie=c[W],Ne=r?r.get(ie):null,Ue=Ne?Ne.outputs:null;T=Q_(0,ie.inputs,W,T,Ne?Ne.inputs:null),L=Q_(1,ie.outputs,W,L,Ue);const Ut=null===T||null===m||x(t)?null:n(T,W,m);I.push(Ut)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=8),T.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=I,t.inputs=T,t.outputs=L}(e,r,c)}function ty(e,t,r){const o=r.directiveStart,a=r.directiveEnd,c=r.index,m=function Gf(){return dr.lFrame.currentDirectiveIndex}();try{Bi(c);for(let I=o;I<a;I++){const T=e.data[I],L=t[I];Th(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&ny(T,L)}}finally{Bi(-1),Th(m)}}function ny(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zm(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function oy(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;yo(t)&&(r[""]=e)}}function EI(e,t,r,o,a){e.data[o]=a;const c=a.factory||(a.factory=vi(a.type)),m=new Rc(c,yo(a),Xu);e.blueprint[o]=m,r[o]=m,function ey(e,t,r,o,a){const c=a.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const I=~t.index;(function yI(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(m)!=I&&m.push(I),m.push(r,o,c)}}(e,t,o,Yd(e,r,a.hostVars,wr),a)}function cl(e,t,r,o,a,c){const m=Lo(e,t);!function Jm(e,t,r,o,a,c,m){if(null==c)e.removeAttribute(t,a,r);else{const I=null==m?nr(c):m(c,o||"",a);e.setAttribute(t,a,I,r)}}(t[or],m,c,e.value,r,o,a)}function l(e,t,r,o,a,c){const m=c[t];if(null!==m)for(let I=0;I<m.length;)q_(o,r,m[I++],m[I++],m[I++],m[I++])}function n(e,t,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===o&&(o=[]);const m=e[c];for(let I=0;I<m.length;I+=3)if(m[I]===t){o.push(c,m[I+1],m[I+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function i(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function s(e,t){const r=e.contentQueries;if(null!==r){const o=he(null);try{for(let a=0;a<r.length;a+=2){const m=r[a+1];if(-1!==m){const I=e.data[m];Dc(r[a]),I.contentQueries(2,t[m],m)}}}finally{he(o)}}}function u(e,t){return e[Ks]?e[fs][Fi]=t:e[Ks]=t,e[fs]=t,t}function p(e,t,r){Dc(0);const o=he(null);try{t(e,r)}finally{he(o)}}function R(e){var t;return null!==(t=e[Ws])&&void 0!==t?t:e[Ws]=[]}function O(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function le(e,t){const r=e[Yn],o=r?r.get(xs,null):null;o&&o.handleError(t)}function we(e,t,r,o,a){for(let c=0;c<r.length;){const m=r[c++],I=r[c++],T=r[c++];q_(e.data[m],t[m],o,I,T,a)}}function Je(e,t,r){const o=Au(t,e);!function V_(e,t,r){e.setValue(t,r)}(e[or],o,r)}function Mt(e,t){const r=Uo(t,e),o=r[sn];!function tn(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[br];null!==a&&null===r[Zi]&&(r[Zi]=gm(a,r[Yn])),pn(o,r,r[pr])}function pn(e,t,r){Id(t);try{var o;const a=e.viewQuery;null!==a&&p(1,a,r);const c=e.template;null!==c&&Qu(e,t,c,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[Vi])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&s(e,t),e.staticViewQueries&&p(2,e.viewQuery,r);const m=e.components;null!==m&&function un(e,t){for(let r=0;r<t.length;r++)Mt(e,t[r])}(t,m)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[Ln]&=-5,Mh()}}function Bn(e,t,r,o){const a=he(null);try{var c,m,I;const T=t.tView,ie=Yc(e,T,r,4096&e[Ln]?4096:16,null,t,null,null,null!==(c=null==o?void 0:o.injector)&&void 0!==c?c:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(I=null==o?void 0:o.dehydratedView)&&void 0!==I?I:null);ie[qs]=e[t.index];const ze=e[Vi];return null!==ze&&(ie[Vi]=ze.createEmbeddedView(T)),pn(T,ie,r),ie}finally{he(a)}}function $n(e,t){return!t||null===t.firstChild||Wh(e)}function sr(e,t,r,o=!0){const a=t[sn];if(function vA(e,t,r,o){const a=Li+o,c=r.length;o>0&&(r[a-1][Fi]=t),o<c-Li?(t[Fi]=r[a],so(r,Li+o,t)):(r.push(t),t[Fi]=null),t[fi]=r;const m=t[qs];null!==m&&r!==m&&aI(m,t);const I=t[Vi];null!==I&&I.insertView(e),va(t),t[Ln]|=128}(a,t,e,r),o){const m=G_(r,e),I=t[or],T=Hm(I,e[ps]);null!==T&&function oI(e,t,r,o,a,c){o[br]=a,o[pi]=t,Wm(e,o,r,1,a,c)}(a,e[pi],I,t,T,m)}const c=t[Zi];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function _r(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const c=t[r.index];null!==c&&o.push(Vr(c)),Ui(c)&&_t(c,o);const m=r.type;if(8&m)_r(e,t,r.child,o);else if(32&m){const I=Bm(r,t);let T;for(;T=I();)o.push(T)}else if(16&m){const I=hI(t,r);if(Array.isArray(I))o.push(...I);else{const T=Ys(t[Pi]);_r(T[sn],T,I,o,!0)}}r=a?r.projectionNext:r.next}return o}function _t(e,t){for(let r=Li;r<e.length;r++){const o=e[r],a=o[sn].firstChild;null!==a&&_r(o[sn],o,a,t)}e[ps]!==e[br]&&t.push(e[ps])}let Qe=[];const Ot={...fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Fa(e.lView)},consumerOnSignalRead(){this.lView[si]=this}},su={...fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Ys(e.lView);for(;t&&!Jd(t[sn]);)t=Ys(t);t&&cd(t)},consumerOnSignalRead(){this.lView[si]=this}};function Jd(e){return 2!==e.type}const AI=100;function Yu(e,t=!0,r=0){const o=e[hs],a=o.rendererFactory;var m;null===(m=a.begin)||void 0===m||m.call(a);try{!function hf(e,t){const r=Zl();try{Cc(!0),nd(e,t);let o=0;for(;hd(e);){if(o===AI)throw new vt(103,!1);o++,nd(e,1)}}finally{Cc(r)}}(e,r)}catch(L){throw t&&le(e,L),L}finally{var I,T;null===(I=a.end)||void 0===I||I.call(a),null===(T=o.inlineEffectRunner)||void 0===T||T.flush()}}function ay(e,t,r,o){var a;const c=t[Ln];if(!(256&~c))return;null===(a=t[hs].inlineEffectRunner)||void 0===a||a.flush(),Id(t);let T=!0,L=null,W=null;Jd(e)?(W=function ht(e){var t;return null!==(t=e[si])&&void 0!==t?t:function Et(e){var t;const r=null!==(t=Qe.pop())&&void 0!==t?t:Object.create(Ot);return r.lView=e,r}(e)}(t),L=Ye(W)):null===function ve(){return f}()?(T=!1,W=function ct(e){var t;const r=null!==(t=e[si])&&void 0!==t?t:Object.create(su);return r.lView=e,r}(t),L=Ye(W)):t[si]&&(st(t[si]),t[si]=null);try{yh(t),function Dh(e){return dr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Qu(e,t,r,2,o);const ie=!(3&~c);if(ie){const Ue=e.preOrderCheckHooks;null!==Ue&&wl(t,Ue,null)}else{const Ue=e.preOrderHooks;null!==Ue&&tl(t,Ue,0,null),nl(t,0)}if(function Zu(e){for(let t=gp(e);null!==t;t=a_(t)){if(!(t[Ln]&fc.HasTransplantedViews))continue;const r=t[El];for(let o=0;o<r.length;o++)cd(r[o])}}(t),ly(t,0),null!==e.contentQueries&&s(e,t),ie){const Ue=e.contentCheckHooks;null!==Ue&&wl(t,Ue)}else{const Ue=e.contentHooks;null!==Ue&&tl(t,Ue,1),nl(t,1)}!function X_(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Bi(~a);else{const c=a,m=r[++o],I=r[++o];_d(m,c),I(2,t[c])}}}finally{Bi(-1)}}(e,t);const Ne=e.components;null!==Ne&&cy(t,Ne,0);const ze=e.viewQuery;if(null!==ze&&p(2,ze,o),ie){const Ue=e.viewCheckHooks;null!==Ue&&wl(t,Ue)}else{const Ue=e.viewHooks;null!==Ue&&tl(t,Ue,2),nl(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Il]){for(const Ue of t[Il])Ue();t[Il]=null}t[Ln]&=-73}catch(ie){throw Fa(t),ie}finally{null!==W&&(Ke(W,L),T&&function Ct(e){e.lView[si]!==e&&(e.lView=null,Qe.push(e))}(W)),Mh()}}function ly(e,t){for(let r=gp(e);null!==r;r=a_(r))for(let o=Li;o<r.length;o++)uy(r[o],t)}function Is(e,t,r){uy(Uo(t,e),r)}function uy(e,t){vc(e)&&nd(e,t)}function nd(e,t){const o=e[sn],a=e[Ln],c=e[si];let m=!!(0===t&&16&a);if(m||(m=!!(64&a&&0===t)),m||(m=!!(1024&a)),m||(m=!(null==c||!c.dirty||!qe(c))),m||(m=!1),c&&(c.dirty=!1),e[Ln]&=-9217,m)ay(o,e,o.template,e[pr]);else if(8192&a){ly(e,1);const I=o.components;null!==I&&cy(e,I,1)}}function cy(e,t,r){for(let o=0;o<t.length;o++)Is(e,t[o],r)}function au(e,t){var r;const o=Zl()?64:1088;for(null===(r=e[hs].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[Ln]|=o;const a=Ys(e);if(ka(e)&&!a)return e;e=a}return null}class ff{get rootNodes(){const t=this._lView,r=t[sn];return _r(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pr]}set context(t){this._lView[pr]=t}get destroyed(){return!(256&~this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[fi];if(Ui(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(uf(t,o),wo(r,o))}this._attachedToViewContainer=!1}$p(this._lView[sn],this._lView)}onDestroy(t){_a(this._lView,t)}markForCheck(){au(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ln]&=-129}reattach(){va(this._lView),this._lView[Ln]|=128}detectChanges(){this._lView[Ln]|=1024,Yu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new vt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=ka(this._lView),r=this._lView[qs];null!==r&&!t&&jm(r,this._lView),sI(this._lView[sn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new vt(902,!1);this._appRef=t;const r=ka(this._lView),o=this._lView[qs];null!==o&&!r&&aI(o,this._lView),va(this._lView)}}let pf=(()=>{class t{}return t.__NG_ELEMENT_ID__=ev,t})();const Zp=pf,Jp=class extends Zp{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=Bn(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new ff(a)}};function ev(){return eh(Ar(),jt())}function eh(e,t){return 4&e.type?new Jp(t,e,xl(e,t)):null}let ch=()=>null;function ic(e,t){return ch(e,t)}class od{}const Vl=new Vn("",{providedIn:"root",factory:()=>!1}),Ry=new Vn(""),mv=new Vn("");class oc{}class My{}class Py{resolveComponentFactory(t){throw function UI(e){const t=Error(`No component factory found for ${Yt(e)}.`);return t.ngComponent=e,t}(t)}}class hu{}hu.NULL=new Py;class sd{}let xy=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function _v(){const e=jt(),r=Uo(Ar().index,e);return(yi(r)?r:e)[or]}(),t})(),oo=(()=>{var e;class t{}return(e=t).\u0275prov=ar({token:e,providedIn:"root",factory:()=>null}),t})();function sc(e){return!!Hi(e)}function fh(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,c=0;if(null!==t)for(let m=0;m<t.length;m++){const I=t[m];"number"==typeof I?c=I:1==c?a=bt(a,I):2==c&&(o=bt(o,I+": "+t[++m]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class Rf extends hu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=fr(t);return new Mf(r,this.ngModule)}}function Av(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const c=Array.isArray(a),m=c?a[0]:a;r.push(t?{propName:m,templateName:o,isSignal:!!((c?a[1]:Cr.None)&Cr.SignalBased)}:{propName:m,templateName:o})}return r}class Mf extends My{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=Av(t.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return Av(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function ba(e){return e.map(js).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,a){const c=he(null);try{var I;let T=(a=a||this.ngModule)instanceof No?a:null===(I=a)||void 0===I?void 0:I.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const L=T?new ms(t,T):t,W=L.get(sd,null);if(null===W)throw new vt(407,!1);const ze={rendererFactory:W,sanitizer:L.get(oo,null),inlineEffectRunner:null,changeDetectionScheduler:L.get(od,null)},Ue=W.createRenderer(null,this.componentDef),Ut=this.componentDef.selectors[0][0]||"div",nn=o?function Ns(e,t,r,o){const c=o.get($o,!1)||r===Kn.ShadowDom,m=e.selectRootElement(t,c);return function gI(e){Xp(e)}(m),m}(Ue,o,this.componentDef.encapsulation,L):Bp(Ue,Ut,function ug(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Ut));let fn=512;this.componentDef.signals?fn|=4096:this.componentDef.onPush||(fn|=16);let Gt=null;null!==nn&&(Gt=gm(nn,L,!0));const ur=Jc(0,null,null,1,0,null,null,null,null,null,null),Ir=Yc(null,ur,null,fn,null,null,ze,Ue,L,null,Gt);Id(Ir);let ji,os,aa=null;try{const fl=this.componentDef;let Uf,tA=null;fl.findHostDirectiveDefs?(Uf=[],tA=new Map,fl.findHostDirectiveDefs(fl,Uf,tA),Uf.push(fl)):Uf=[fl];const Hx=function Pf(e,t){const r=e[sn],o=zn;return e[o]=t,Zc(r,o,2,"#host",null)}(Ir,nn);aa=function ky(e,t,r,o,a,c,m){const I=a[sn];!function Fy(e,t,r,o){for(const a of e)t.mergedAttrs=Bs(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(fh(t,t.mergedAttrs,!0),null!==r&&Wp(o,r,t))}(o,e,t,m);let T=null;null!==t&&(T=gm(t,a[Yn]));const L=c.rendererFactory.createRenderer(t,r);let W=16;r.signals?W=4096:r.onPush&&(W=64);const ie=Yc(a,Xm(r),null,W,a[e.index],e,c,L,null,null,T);return I.firstCreatePass&&Zm(I,e,o.length-1),u(a,ie),a[e.index]=ie}(Hx,nn,fl,Uf,Ir,ze,Ue),os=Tl(ur,zn),nn&&function Dv(e,t,r,o){if(o)ws(e,r,["ng-version","18.2.12"]);else{const{attrs:a,classes:c}=function wa(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let c=e[o];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++o]):8===a&&r.push(c);else{if(!ce(a))break;a=c}o++}return{attrs:t,classes:r}}(t.selectors[0]);a&&ws(e,r,a),c&&c.length>0&&W_(e,r,c.join(" "))}}(Ue,fl,nn,o),void 0!==r&&function Vy(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const c=r[a];o.push(null!=c?Array.from(c):null)}}(os,this.ngContentSelectors,r),ji=function Cv(e,t,r,o,a,c){const m=Ar(),I=a[sn],T=Lo(m,a);df(I,a,m,r,null,o);for(let W=0;W<r.length;W++)Bo(zi(a,I,m.directiveStart+W,m),a);ty(I,a,m),T&&Bo(T,a);const L=zi(a,I,m.directiveStart+m.componentOffset,m);if(e[pr]=a[pr]=L,null!==c)for(const W of c)W(L,t);return ia(I,m,a),L}(aa,fl,Uf,tA,Ir,[cg]),pn(ur,Ir,null)}catch(fl){throw null!==aa&&qh(aa),qh(Ir),fl}finally{Mh()}return new Oy(this.componentType,ji,xl(os,Ir),Ir,os)}finally{he(c)}}}class Oy extends oc{constructor(t,r,o,a,c){super(),this.location=o,this._rootLView=a,this._tNode=c,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new ff(a,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){var c;if(null!==(c=this.previousInputValues)&&void 0!==c||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const m=this._rootLView;we(m[sn],m,a,t,r),this.previousInputValues.set(t,r),au(Uo(this._tNode.index,m),1)}}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function cg(){const e=Ar();bc(jt()[sn],e)}let xf=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ly,t})();function Ly(){return wv(Ar(),jt())}const ad=xf,Tv=class extends ad{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return xl(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){const t=Mu(this._hostTNode,this._hostLView);if(Pc(t)){const r=Su(t,this._hostLView),o=Ua(t);return new io(r[sn].data[o+8],r)}return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=bv(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Li}createEmbeddedView(t,r,o){let a,c;"number"==typeof o?a=o:null!=o&&(a=o.index,c=o.injector);const m=ic(this._lContainer,t.ssrId),I=t.createEmbeddedViewImpl(r||{},c,m);return this.insertImpl(I,a,$n(this._hostTNode,m)),I}createComponent(t,r,o,a,c){var m,I,T;const L=t&&!function on(e){return"function"==typeof e}(t);let W;if(L)W=r;else{const fn=r||{};W=fn.index,o=fn.injector,a=fn.projectableNodes,c=fn.environmentInjector||fn.ngModuleRef}const ie=L?t:new Mf(fr(t)),Ne=o||this.parentInjector;if(!c&&null==ie.ngModule){const Gt=(L?Ne:this.parentInjector).get(No,null);Gt&&(c=Gt)}const ze=fr(null!==(m=ie.componentType)&&void 0!==m?m:{}),Ue=ic(this._lContainer,null!==(I=null==ze?void 0:ze.id)&&void 0!==I?I:null),Ut=null!==(T=null==Ue?void 0:Ue.firstChild)&&void 0!==T?T:null,nn=ie.create(Ne,a,Ut,c);return this.insertImpl(nn.hostView,W,$n(this._hostTNode,Ue)),nn}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Xl(e){return Ui(e[fi])}(a)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const T=a[fi],L=new Tv(T,T[pi],T[fi]);L.detach(L.indexOf(t))}}const c=this._adjustIndex(r),m=this._lContainer;return sr(m,a,c,o),t.attachToViewContainerRef(),so(dg(m),c,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=bv(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=uf(this._lContainer,r);o&&(wo(dg(this._lContainer),r),$p(o[sn],o))}detach(t){const r=this._adjustIndex(t,-1),o=uf(this._lContainer,r);return o&&null!=wo(dg(this._lContainer),r)?new ff(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function bv(e){return e[8]}function dg(e){return e[8]||(e[8]=[])}function wv(e,t){let r;const o=t[e.index];return Ui(o)?r=o:(r=i(o,t,null,e),t[e.index]=r,u(t,r)),sa(r,t,e,o),new Tv(r,e,t)}let sa=function ld(e,t,r,o){if(e[ps])return;let a;a=8&r.type?Vr(o):function hg(e,t){const r=e[or],o=r.createComment(""),a=Lo(t,e);return Qc(r,Hm(r,a),o,function uI(e,t){return e.nextSibling(t)}(r,a),!1),o}(t,r),e[ps]=a},fg=()=>!1;class _e{constructor(t){this.queryList=t,this.matches=null}clone(){return new _e(this.queryList)}setDirty(){this.queryList.setDirty()}}class wt{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let c=0;c<o;c++){const m=r.getByIndex(c);a.push(this.queries[m.indexInDeclarationView].clone())}return new wt(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==$I(t,r).matches&&this.queries[r].setDirty()}}class Ht{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function Bb(e){return e.split(",").map(t=>t.trim())}(t):t}}class wn{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,c=this.getByIndex(o).embeddedTView(t,a);c&&(c.indexInDeclarationView=o,null!==r?r.push(c):r=[c])}return null!==r?new wn(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ii{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Ii(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const c=o[a];this.matchTNodeWithReadOption(t,r,ns(r,c)),this.matchTNodeWithReadOption(t,r,Sd(r,t,c,!1,!1))}else o===pf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Sd(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===Fu||a===xf||a===pf&&4&r.type)this.addMatch(r.index,-2);else{const c=Sd(r,t,a,!1,!1);null!==c&&this.addMatch(r.index,c)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function ns(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function As(e,t,r,o){return-1===r?function ci(e,t){return 11&e.type?xl(e,t):4&e.type?eh(e,t):null}(t,e):-2===r?function Cs(e,t,r){return r===Fu?xl(t,e):r===pf?eh(t,e):r===xf?wv(t,e):void 0}(e,t,o):zi(e,e[sn],r,t)}function ud(e,t,r,o){const a=t[Vi].queries[o];if(null===a.matches){const c=e.data,m=r.matches,I=[];for(let T=0;null!==m&&T<m.length;T+=2){const L=m[T];I.push(L<0?null:As(t,c[L],m[T+1],r.metadata.read))}a.matches=I}return a.matches}function Ea(e,t,r,o){const a=e.queries.getByIndex(r),c=a.matches;if(null!==c){const m=ud(e,t,a,r);for(let I=0;I<c.length;I+=2){const T=c[I];if(T>0)o.push(m[I/2]);else{const L=c[I+1],W=t[-T];for(let ie=Li;ie<W.length;ie++){const Ne=W[ie];Ne[qs]===Ne[fi]&&Ea(Ne[sn],Ne,L,o)}if(null!==W[El]){const ie=W[El];for(let Ne=0;Ne<ie.length;Ne++){const ze=ie[Ne];Ea(ze[sn],ze,L,o)}}}}}return o}function pg(e,t,r){var o;const a=new sp(!(4&~r));return function Qm(e,t,r,o){const a=R(t);a.push(r),e.firstCreatePass&&O(e).push(o,a.length-1)}(e,t,a,a.destroy),(null!==(o=t[Vi])&&void 0!==o?o:t[Vi]=new wt).queries.push(new _e(a))-1}function AA(e,t,r){null===e.queries&&(e.queries=new wn),e.queries.track(new Ii(t,r))}function $I(e,t){return e.queries.getByIndex(t)}function CA(e,t){const r=e[sn],o=$I(r,t);return o.crossesNgTemplate?Ea(r,e,t,[]):ud(r,e,o,t)}const DA=new Set;function Aa(e){var t,r;DA.has(e)||(DA.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function bA(e,t){Aa("NgSignals");const r=function Ie(e){const t=Object.create(et);t.value=e;const r=()=>(ue(t),t.value);return r[se]=t,r}(e),o=r[se];return null!=t&&t.equal&&(o.equal=t.equal),r.set=a=>Xe(o,a),r.update=a=>function je(e,t){We()||Pt(),Xe(e,t(e.value))}(o,a),r.asReadonly=wA.bind(r),r}function wA(){const e=this[se];if(void 0===e.readonlyFn){const t=()=>this();t[se]=e,e.readonlyFn=t}return e.readonlyFn}function SA(e){return function TA(e){return"function"==typeof e&&void 0!==e[se]}(e)&&"function"==typeof e.set}function HI(e){let t=function UA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(yo(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new vt(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const m=e;m.inputs=By(e.inputs),m.inputTransforms=By(e.inputTransforms),m.declaredInputs=By(e.declaredInputs),m.outputs=By(e.outputs);const I=a.hostBindings;I&&tw(e,I);const T=a.viewQuery,L=a.contentQueries;if(T&&Jb(e,T),L&&ew(e,L),Yb(e,a),Jn(e.outputs,a.outputs),yo(a)&&a.data.animation){const W=e.data;W.animation=(W.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let m=0;m<c.length;m++){const I=c[m];I&&I.ngInherit&&I(e),I===HI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function Zb(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Bs(a.hostAttrs,r=Bs(r,a.hostAttrs))}}(o)}function Yb(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=t.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const c=Array.isArray(a)?a[0]:a;if(!t.inputTransforms.hasOwnProperty(c))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[c]=t.inputTransforms[c]}}}function By(e){return e===Mr?{}:e===lr?[]:e}function Jb(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function ew(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,c)=>{t(o,a,c),r(o,a,c)}:t}function tw(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function zA(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class Nf{}class GA{}function aw(e,t){return new GI(e,null!=t?t:null,[])}class GI extends Nf{constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rf(this);const c=Hi(t);this._bootstrapComponents=Ia(c.bootstrap),this._r3Injector=al(t,r,[{provide:Nf,useValue:this},{provide:hu,useValue:this.componentFactoryResolver},...o],Yt(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class WI extends GA{constructor(t){super(),this.moduleType=t}create(t){return new GI(this.moduleType,t,[])}}class WA extends Nf{constructor(t){super(),this.componentFactoryResolver=new Rf(this),this.instance=null;const r=new vo([...t.providers,{provide:Nf,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],t.parent||zs(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function KI(e,t,r=null){return new WA({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function $y(e){return!!qI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function qI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Eo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Of(e,t,r,o){const a=Eo(e,t,r);return Eo(e,t+1,o)||a}function Pv(e,t,r,o,a,c,m,I,T,L){const W=r+zn,ie=t.firstCreatePass?function fw(e,t,r,o,a,c,m,I,T){const L=t.consts,W=Zc(t,e,4,m||null,I||null);Qp(t,r,W,gs(L,T)),bc(t,W);const ie=W.tView=Jc(2,W,o,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,L,null);return null!==t.queries&&(t.queries.template(t,W),ie.queries=t.queries.embeddedTView(W)),W}(W,t,e,o,a,c,m,I,T):t.data[W];Jo(ie,!1);const Ne=KA(t,e,ie,r);el()&&jp(t,e,Ne,ie),Bo(Ne,e);const ze=i(Ne,e,Ne,ie);return e[W]=ze,u(e,ze),function Sv(e,t,r){return fg(e,t,r)}(ze,ie,e),bi(ie)&&es(t,e,ie),null!=T&&qp(e,ie,L),ie}function XI(e,t,r,o,a,c,m,I){const T=jt(),L=vr();return Pv(T,L,e,t,r,o,a,gs(L.consts,c),m,I),XI}let KA=function qA(e,t,r,o){return ea(!0),t[or].createComment("")};var _g=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_g||{});let eC=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=ar({token:e,providedIn:"root",factory:()=>new e}),t})();class Wy{constructor(){this.ngZone=mt(A),this.scheduler=mt(od),this.errorHandler=mt(xs,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of Wy.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(Me=Wy).PHASES=[_g.EarlyRead,_g.Write,_g.MixedReadWrite,_g.Read],Me.\u0275prov=ar({token:Me,providedIn:"root",factory:()=>new Me});class vw{constructor(t,r,o,a){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==a?void 0:a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var t;this.impl.unregister(this),null===(t=this.unregisterOnDestroy)||void 0===t||t.call(this)}}function Ky(e,t){var r;(null==t||!t.injector)&&function b(e){if(!jl())throw new vt(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:mt(ho);return function fo(e){return"browser"===(null!=e?e:mt(ho)).get(Ep)}(o)?(Aa("NgAfterNextRender"),function tC(e,t,r,o){var a,c;const m=t.get(eC);null!==(a=m.impl)&&void 0!==a||(m.impl=t.get(Wy));const I=null!==(c=null==r?void 0:r.phase)&&void 0!==c?c:_g.MixedReadWrite,T=!0!==(null==r?void 0:r.manualCleanup)?t.get(Vc):null,L=new vw(m.impl,function yw(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,I),o,T);return m.impl.register(L),L}(e,o,t,!0)):nC}const nC={destroy(){}};function sE(e,t,r,o){const a=jt();return Eo(a,Zs(),t)&&(vr(),cl(wi(),a,e,t,r,o)),sE}function bg(e,t,r,o,a,c){const I=Of(e,function La(){return dr.lFrame.bindingIndex}(),r,a);return Js(2),I?t+nr(r)+o+nr(a)+c:wr}function Qy(e,t){return e<<17|t<<2}function mh(e){return e>>17&32767}function aE(e){return 2|e}function Ff(e){return(131068&e)>>2}function lE(e,t){return-131069&e|t<<2}function uE(e){return 1|e}function SC(e,t,r,o){const a=e[r+1],c=null===t;let m=o?mh(a):Ff(a),I=!1;for(;0!==m&&(!1===I||c);){const L=e[m+1];tS(e[m],t)&&(I=!0,e[m+1]=o?uE(L):aE(L)),m=o?mh(L):Ff(L)}I&&(e[r+1]=o?aE(a):uE(a))}function tS(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ko(e,t)>=0}function cE(e,t,r){const o=jt();return Eo(o,Zs(),t)&&oa(vr(),wi(),o,e,t,o[or],r,!1),cE}function dE(e,t,r,o,a){const m=a?"class":"style";we(e,r,t.inputs[m],m,o)}function hE(e,t){return function pu(e,t,r,o){const a=jt(),c=vr(),m=Js(2);c.firstUpdatePass&&function VC(e,t,r,o){const a=e.data;if(null===a[r+1]){const c=a[lo()],m=function FC(e,t){return t>=e.expandoStartIndex}(e,r);(function $C(e,t){return!!(e.flags&(t?8:16))})(c,o)&&null===t&&!m&&(t=!1),t=function cS(e,t,r,o){const a=function yd(e){const t=dr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=kv(r=fE(null,e,t,r,o),t.attrs,o),c=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==a)if(r=fE(a,e,t,r,o),null===c){let T=function dS(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Ff(o))return e[mh(o)]}(e,t,o);void 0!==T&&Array.isArray(T)&&(T=fE(null,e,t,T[1],o),T=kv(T,t.attrs,o),function hS(e,t,r,o){e[mh(r?t.classBindings:t.styleBindings)]=o}(e,t,o,T))}else c=function fS(e,t,r){let o;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)o=kv(o,e[c].hostAttrs,r);return kv(o,t.attrs,r)}(e,t,o)}return void 0!==c&&(o?t.residualClasses=c:t.residualStyles=c),r}(a,c,t,o),function Jw(e,t,r,o,a,c){let m=c?t.classBindings:t.styleBindings,I=mh(m),T=Ff(m);e[o]=r;let W,L=!1;if(Array.isArray(r)?(W=r[1],(null===W||Ko(r,W)>0)&&(L=!0)):W=r,a)if(0!==T){const Ne=mh(e[I+1]);e[o+1]=Qy(Ne,I),0!==Ne&&(e[Ne+1]=lE(e[Ne+1],o)),e[I+1]=function Yw(e,t){return 131071&e|t<<17}(e[I+1],o)}else e[o+1]=Qy(I,0),0!==I&&(e[I+1]=lE(e[I+1],o)),I=o;else e[o+1]=Qy(T,0),0===I?I=o:e[T+1]=lE(e[T+1],o),T=o;L&&(e[o+1]=aE(e[o+1])),SC(e,W,o,!0),SC(e,W,o,!1),function eS(e,t,r,o,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&Ko(c,t)>=0&&(r[o+1]=uE(r[o+1]))}(t,W,e,o,c),m=Qy(I,T),c?t.classBindings=m:t.styleBindings=m}(a,c,t,r,m,o)}}(c,e,m,o),t!==wr&&Eo(a,m,t)&&function UC(e,t,r,o,a,c,m,I){if(!(3&t.type))return;const T=e.data,L=T[I+1],W=function Zw(e){return!(1&~e)}(L)?BC(T,t,r,a,Ff(L),m):void 0;Yy(W)||(Yy(c)||function Qw(e){return!(2&~e)}(L)&&(c=BC(T,null,r,a,I,m)),function Gp(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let c=-1===o.indexOf("-")?void 0:Lp.DashCase;null==a?e.removeStyle(r,o,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=Lp.Important),e.setStyle(r,o,a,c))}}(o,m,Au(lo(),r),a,c))}(c,c.data[lo()],a,a[or],e,a[m+1]=function vS(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Yt(Hu(e)))),e}(t,r),o,m)}(e,t,null,!0),hE}function fE(e,t,r,o,a){let c=null;const m=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<m&&(c=t[I],o=kv(o,c.hostAttrs,a),c!==e);)I++;return null!==e&&(r.directiveStylingLast=I),o}function kv(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?a=m:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ci(e,m,!!r||t[++c]))}return void 0===e?null:e}function BC(e,t,r,o,a,c){const m=null===t;let I;for(;a>0;){const T=e[a],L=Array.isArray(T),W=L?T[1]:T,ie=null===W;let Ne=r[a+1];Ne===wr&&(Ne=ie?lr:void 0);let ze=ie?ls(Ne,o):W===o?Ne:void 0;if(L&&!Yy(ze)&&(ze=ls(T,o)),Yy(ze)&&(I=ze,m))return I;const Ue=e[a+1];a=m?mh(Ue):Ff(Ue)}if(null!==t){let T=c?t.residualClasses:t.residualStyles;null!=T&&(I=ls(T,o))}return I}function Yy(e){return void 0!==e}function Jy(e,t,r,o){const a=jt(),c=vr(),m=zn+e,I=a[or],T=c.firstCreatePass?function BS(e,t,r,o,a,c){const m=t.consts,T=Zc(t,e,2,o,gs(m,a));return Qp(t,r,T,gs(m,c)),null!==T.attrs&&fh(T,T.attrs,!1),null!==T.mergedAttrs&&fh(T,T.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,T),T}(m,c,a,t,r,o):c.data[m],L=GC(c,a,T,I,t,e);a[m]=L;const W=bi(T);return Jo(T,!0),Wp(I,L,T),!function mg(e){return!(32&~e.flags)}(T)&&el()&&jp(c,a,L,T),0===function Ih(){return dr.lFrame.elementDepthCount}()&&Bo(L,a),function Eh(){dr.lFrame.elementDepthCount++}(),W&&(es(c,a,T),ia(c,T,a)),null!==o&&qp(a,T),Jy}function e0(){let e=Ar();Ac()?Va():(e=e.parent,Jo(e,!1));const t=e;(function Ic(e){return dr.skipHydrationRootTNode===e})(t)&&function Du(){dr.skipHydrationRootTNode=null}(),function pd(){dr.lFrame.elementDepthCount--}();const r=vr();return r.firstCreatePass&&(bc(r,e),Oa(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Gg(e){return!!(8&e.flags)}(t)&&dE(r,t,jt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Wg(e){return!!(16&e.flags)}(t)&&dE(r,t,jt(),t.stylesWithoutHost,!1),e0}function vE(e,t,r,o){return Jy(e,t,r,o),e0(),vE}let GC=(e,t,r,o,a,c)=>(ea(!0),Bp(o,a,function Kf(){return dr.lFrame.currentNamespace}()));function t0(e,t,r){const o=jt(),a=vr(),c=e+zn,m=a.firstCreatePass?function HS(e,t,r,o,a){const c=t.consts,m=gs(c,o),I=Zc(t,e,8,"ng-container",m);return null!==m&&fh(I,m,!0),Qp(t,r,I,gs(c,a)),null!==t.queries&&t.queries.elementStart(t,I),I}(c,a,o,t,r):a.data[c];Jo(m,!0);const I=WC(a,o,m,e);return o[c]=I,el()&&jp(a,o,I,m),Bo(I,o),bi(m)&&(es(a,o,m),ia(a,m,o)),null!=r&&qp(o,m),t0}function n0(){let e=Ar();const t=vr();return Ac()?Va():(e=e.parent,Jo(e,!1)),t.firstCreatePass&&(bc(t,e),Oa(e)&&t.queries.elementEnd(e)),n0}function _E(e,t,r){return t0(e,t,r),n0(),_E}let WC=(e,t,r,o)=>(ea(!0),$m(t[or],""));function KC(){return jt()}const Vf=void 0;var KS=["en",[["a","p"],["AM","PM"],Vf],[["AM","PM"],Vf,Vf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vf,"{1} 'at' {0}",Vf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WS(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Og={};function yE(e){const t=function qS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=YC(t);if(r)return r;const o=t.split("-")[0];if(r=YC(o),r)return r;if("en"===o)return KS;throw new vt(701,!1)}function QC(e){return yE(e)[kg.PluralCase]}function YC(e){return e in Og||(Og[e]=cn.ng&&cn.ng.common&&cn.ng.common.locales&&cn.ng.common.locales[e]),Og[e]}var kg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(kg||{});const r0="en-US";let ZC=r0,mD=(e,t,r)=>{};function AE(e,t,r,o){const a=jt(),c=vr(),m=Ar();return CE(c,a,a[or],m,e,t,o),AE}function CE(e,t,r,o,a,c,m){const I=bi(o),L=e.firstCreatePass&&O(e),W=t[pr],ie=R(t);let Ne=!0;if(3&o.type||m){const Ut=Lo(o,t),nn=m?m(Ut):Ut,fn=ie.length,Gt=m?Ir=>m(Vr(Ir[o.index])):o.index;let ur=null;if(!m&&I&&(ur=function FR(e,t,r,o){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const m=a[c];if(m===r&&a[c+1]===o){const I=t[Ws],T=a[c+2];return I.length>T?I[T]:null}"string"==typeof m&&(c+=2)}return null}(e,t,a,o.index)),null!==ur)(ur.__ngLastListenerFn__||ur).__ngNextListenerFn__=c,ur.__ngLastListenerFn__=c,Ne=!1;else{c=ID(o,t,W,c),mD(Ut,a,c);const Ir=r.listen(nn,a,c);ie.push(c,Ir),L&&L.push(a,Gt,fn,fn+1)}}else c=ID(o,t,W,c);const ze=o.outputs;let Ue;if(Ne&&null!==ze&&(Ue=ze[a])){const Ut=Ue.length;if(Ut)for(let nn=0;nn<Ut;nn+=2){const ji=t[Ue[nn]][Ue[nn+1]].subscribe(c),os=ie.length;ie.push(c,ji),L&&L.push(a,o.index,os,-(os+1))}}}function yD(e,t,r,o){const a=he(null);try{return Vo(6,t,r),!1!==r(o)}catch(c){return le(e,c),!1}finally{Vo(7,t,r),he(a)}}function ID(e,t,r,o){return function a(c){if(c===Function)return o;au(e.componentOffset>-1?Uo(e.index,t):t,5);let I=yD(t,r,o,c),T=a.__ngNextListenerFn__;for(;T;)I=yD(t,r,T,c)&&I,T=T.__ngNextListenerFn__;return I}}function ED(e=1){return function $g(e){return(dr.lFrame.contextLView=function dd(e,t){for(;e>0;)t=t[_l],e--;return t}(e,dr.lFrame.contextLView))[pr]}(e)}function VR(e,t){let r=null;const o=function Di(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===o?Hn(e,c,!0):ca(o,c))return a}else r=a}return r}function AD(e){const t=jt()[Pi][pi];if(!t.projection){const o=t.projection=function as(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),a=o.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const m=e?VR(c,e):0;null!==m&&(a[m]?a[m].projectionNext=c:o[m]=c,a[m]=c)}c=c.next}}}function CD(e,t=0,r,o,a,c){const m=jt(),I=vr(),T=o?e+1:null;null!==T&&Pv(m,I,T,o,a,c,null,r);const L=Zc(I,zn+e,16,null,r||null);null===L.projection&&(L.projection=t),Va();const ie=!m[Zi]||Yl();null===m[Pi][pi].projection[L.projection]&&null!==T?function LR(e,t,r){const o=zn+r,a=t.data[o],c=e[o],m=ic(c,a.tView.ssrId);sr(c,Bn(e,a,void 0,{dehydratedView:m}),0,$n(a,m))}(m,I,T):ie&&32&~L.flags&&function _A(e,t,r){fI(t[or],0,t,r,Fl(e,r,t),H_(r.parent||t[pi],r,t))}(I,m,L)}function ND(e,t,r,o){!function EA(e,t,r,o){const a=vr();if(a.firstCreatePass){const c=Ar();AA(a,new Ht(t,r,o),c.index),function $b(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return pg(a,jt(),r)}(e,t,r,o)}function OD(e,t,r){!function IA(e,t,r){const o=vr();return o.firstCreatePass&&(AA(o,new Ht(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),pg(o,jt(),t)}(e,t,r)}function kD(e){const t=jt(),r=vr(),o=bh();Dc(o+1);const a=$I(r,o);if(e.dirty&&function mc(e){return!(4&~e[Ln])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const c=CA(t,o);e.reset(c,Jv),e.notifyOnChanges()}return!0}return!1}function FD(){return function ph(e,t){return e[Vi].queries[t].queryList}(jt(),bh())}function VD(e){return Ya(function bl(){return dr.lFrame.contextLView}(),zn+e)}function KD(e,t=""){const r=jt(),o=vr(),a=e+zn,c=o.firstCreatePass?Zc(o,a,1,t,null):o.data[a],m=qD(o,r,c,t,e);r[a]=m,el()&&jp(o,r,m,c),Jo(c,!1)}let qD=(e,t,r,o,a)=>(ea(!0),function F_(e,t){return e.createText(t)}(t[or],o));function bE(e){return l0("",e,""),bE}function l0(e,t,r){const o=jt(),a=function Tg(e,t,r,o){return Eo(e,Zs(),r)?t+nr(r)+o:wr}(o,e,t,r);return a!==wr&&Je(o,lo(),a),l0}function wE(e,t,r,o,a){const c=jt(),m=bg(c,e,t,r,o,a);return m!==wr&&Je(c,lo(),m),wE}function SE(e,t,r){SA(t)&&(t=t());const o=jt();return Eo(o,Zs(),t)&&oa(vr(),wi(),o,e,t,o[or],r,!1),SE}function nT(e,t){const r=SA(e);return r&&e.set(t),r}function RE(e,t){const r=jt(),o=vr(),a=Ar();return CE(o,r,r[or],a,e,t),RE}function ME(e,t,r,o,a){if(e=dt(e),Array.isArray(e))for(let c=0;c<e.length;c++)ME(e[c],t,r,o,a);else{const c=vr(),m=jt(),I=Ar();let T=xo(e)?e:dt(e.provide);const L=vl(e),W=1048575&I.providerIndexes,ie=I.directiveStart,Ne=I.providerIndexes>>20;if(xo(e)||!e.multi){const ze=new Rc(L,a,Xu),Ue=xE(T,t,a?W:W+Ne,ie);-1===Ue?(tu(rl(I,m),c,T),PE(c,e,t.length),t.push(T),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(ze),m.push(ze)):(r[Ue]=ze,m[Ue]=ze)}else{const ze=xE(T,t,W+Ne,ie),Ue=xE(T,t,W,W+Ne),nn=Ue>=0&&r[Ue];if(a&&!nn||!a&&!(ze>=0&&r[ze])){tu(rl(I,m),c,T);const fn=function iM(e,t,r,o,a){const c=new Rc(e,r,Xu);return c.multi=[],c.index=t,c.componentProviders=0,oT(c,a,o&&!r),c}(a?rM:nM,r.length,a,o,L);!a&&nn&&(r[Ue].providerFactory=fn),PE(c,e,t.length,0),t.push(T),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(fn),m.push(fn)}else PE(c,e,ze>-1?ze:Ue,oT(r[a?Ue:ze],L,!a&&o));!a&&o&&nn&&r[Ue].componentProviders++}}}function PE(e,t,r,o){const a=xo(t),c=function vu(e){return!!e.useClass}(t);if(a||c){const T=(c?dt(t.useClass):t).prototype.ngOnDestroy;if(T){const L=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const W=L.indexOf(r);-1===W?L.push(r,[o,T]):L[W+1].push(o,T)}else L.push(r,T)}}}function oT(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function xE(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function nM(e,t,r,o){return NE(this.multi,[])}function rM(e,t,r,o){const a=this.multi;let c;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=zi(r,r[sn],this.providerFactory.index,o);c=I.slice(0,m),NE(a,c);for(let T=m;T<I.length;T++)c.push(I[T])}else c=[],NE(a,c);return c}function NE(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function sT(e,t=[]){return r=>{r.providersResolver=(o,a)=>function tM(e,t,r){const o=vr();if(o.firstCreatePass){const a=yo(e);ME(r,o.data,o.blueprint,a,!0),ME(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let oM=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=mu(0,o.type),c=a.length>0?KI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=ar({token:e,providedIn:"environment",factory:()=>new e(He(No))}),t})();function aT(e){Aa("NgStandalone"),e.getStandaloneInjector=t=>t.get(oM).getOrCreateStandaloneInjector(e)}function dT(e,t,r,o,a,c,m){const I=t+r;return Of(e,I,a,c)?function lc(e,t,r){return e[t]=r}(e,I+2,m?o.call(m,a,c):o(a,c)):function $v(e,t){const r=e[t];return r===wr?void 0:r}(e,I+2)}function gT(e,t){const r=vr();let o;const a=e+zn;var c;r.firstCreatePass?(o=function yM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(null!==(c=r.destroyHooks)&&void 0!==c?c:r.destroyHooks=[]).push(a,o.onDestroy)):o=r.data[a];const m=o.factory||(o.factory=vi(o.type)),T=hi(Xu);try{const L=Ru(!1),W=m();return Ru(L),function TE(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,jt(),a,W),W}finally{hi(T)}}function mT(e,t,r,o){const a=e+zn,c=jt(),m=Ya(c,a);return function jv(e,t){return e[sn].data[t].pure}(c,a)?dT(c,function Ji(){const e=dr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,m.transform,r,o,m):m.transform(r,o)}function vT(e,t){return eh(e,t)}class NT{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const GM=new NT("18.2.12");let OT=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const LT=new Vn(""),UT=new Vn("");let BE,vP=(()=>{var e;class t{constructor(o,a,c){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,BE||(function _P(e){BE=e}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{A.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),o()},a)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(He(A),He(BT),He(UT))},e.\u0275prov=ar({token:e,factory:e.\u0275fac}),t})(),BT=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var c,m;return null!==(c=null===(m=BE)||void 0===m?void 0:m.findTestabilityInTree(this,o,a))&&void 0!==c?c:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function $E(e){return!!e&&"function"==typeof e.then}function $T(e){return!!e&&"function"==typeof e.subscribe}const jT=new Vn("");let HT=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=null!==(o=mt(jT,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const m=c();if($E(m))o.push(m);else if($T(m)){const I=new Promise((T,L)=>{m.subscribe({complete:T,error:L})});o.push(I)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const f0=new Vn("");function GT(e,t){return Array.isArray(t)?t.reduce(GT,e):{...e,...t}}let dc=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mt(xd),this.afterRenderManager=mt(eC),this.zonelessEnabled=mt(Vl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Sn.B,this.afterTick=new Sn.B,this.componentTypes=[],this.components=[],this.isStable=mt(ul).hasPendingTasks.pipe((0,qt.T)(o=>!o)),this._injector=mt(No)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:c=>{c&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof My;if(!this._injector.get(HT).done)throw!c&&go(o),new vt(405,!1);let I;I=c?o:this._injector.get(hu).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const T=function yP(e){return e.isBoundToModule}(I)?void 0:this._injector.get(Nf),W=I.create(ho.NULL,[],a||I.selector,T),ie=W.location.nativeElement,Ne=W.injector.get(LT,null);return null==Ne||Ne.registerApplication(ie),W.onDestroy(()=>{this.detachView(W.hostView),p0(this.components,W),null==Ne||Ne.unregisterApplication(ie)}),this._loadComponent(W),W}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new vt(101,!1);const o=he(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,he(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(sd,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const m=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(m);for(let{_lView:I,notifyErrorHandler:T}of this._views)AP(I,T,m,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,c;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(c=o.end)||void 0===c||c.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>hd(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;p0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(f0,[]);[...this._bootstrapListeners,...a].forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>p0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new vt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function p0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function AP(e,t,r,o){(r||hd(e))&&Yu(e,t,r&&!o?0:1)}class CP{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let DP=(()=>{var e;class t{compileModuleSync(o){return new WI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),m=Ia(Hi(o).declarations).reduce((I,T)=>{const L=fr(T);return L&&I.push(new Mf(L)),I},[]);return new CP(a,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),wP=(()=>{var e;class t{constructor(){this.zone=mt(A),this.changeDetectionScheduler=mt(od),this.applicationRef=mt(dc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jE({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new A({...HE(),scheduleInRootZone:r})),[{provide:A,useFactory:e},{provide:So,multi:!0,useFactory:()=>{const a=mt(wP,{optional:!0});return()=>a.initialize()}},{provide:So,multi:!0,useFactory:()=>{const a=mt(RP);return()=>{a.initialize()}}},!0===t?{provide:Ry,useValue:!0}:[],{provide:mv,useValue:null!=r?r:xu}]}function HE(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let RP=(()=>{var e;class t{constructor(){this.subscription=new Nt.yU,this.initialized=!1,this.zone=mt(A),this.pendingTasks=mt(ul)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{A.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;A.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Wv=(()=>{var e;class t{constructor(){var o,a,c;this.appRef=mt(dc),this.taskService=mt(ul),this.ngZone=mt(A),this.zonelessEnabled=mt(Vl),this.disableScheduling=null!==(o=mt(Ry,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Nt.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(h):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(c=mt(mv,{optional:!0}))&&void 0!==c&&c,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Pn||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?Md:rp;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(h+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Md(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const GE=new Vn("",{providedIn:"root",factory:()=>mt(GE,Er.Optional|Er.SkipSelf)||function MP(){return typeof $localize<"u"&&$localize.locale||r0}()}),PP=new Vn("",{providedIn:"root",factory:()=>"USD"}),g0=new Vn("");function m0(e){return!e.moduleRef}let ZT=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=null==a?void 0:a.scheduleInRootZone,T=[jE({ngZoneFactory:()=>function Pd(e="zone.js",t){return"noop"===e?new Pn:"zone.js"===e?new A(t):e}(null==a?void 0:a.ngZone,{...HE({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:od,useExisting:Wv}],L=function lw(e,t,r){return new GI(e,t,r,!1)}(o.moduleType,this.injector,T);return function YT(e){const t=m0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(A);return r.run(()=>{m0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(xs,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:c=>{o.handleError(c)}})}),m0(e)){const c=()=>t.destroy(),m=e.platformInjector.get(g0);m.add(c),t.onDestroy(()=>{a.unsubscribe(),m.delete(c)})}else{const c=()=>e.moduleRef.destroy(),m=e.platformInjector.get(g0);m.add(c),e.moduleRef.onDestroy(()=>{p0(e.allPlatformModules,e.moduleRef),a.unsubscribe(),m.delete(c)})}return function EP(e,t,r){try{const o=r();return $E(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const c=t.get(HT);return c.runInitializers(),c.donePromise.then(()=>{if(function ZS(e){"string"==typeof e&&(ZC=e.toLowerCase().replace(/_/g,"-"))}(t.get(GE,r0)||r0),m0(e)){const I=t.get(dc);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function FP(e,t){const r=e.injector.get(dc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new vt(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:L,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,a=[]){const c=GT({},a);return function bP(e,t,r){const o=new WI(r);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,c))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new vt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(g0,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(He(ho))},e.\u0275prov=ar({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),vh=null;const JT=new Vn("");function eb(e,t,r=[]){const o=`Platform: ${t}`,a=new Vn(o);return(c=[])=>{let m=WE();if(!m||m.injector.get(JT,!1)){const I=[...r,...c,{provide:a,useValue:!0}];e?e(I):function VP(e){if(vh&&!vh.get(JT,!1))throw new vt(400,!1);(function zT(){!function De(e){Tn=e}(()=>{throw new vt(600,!1)})})(),vh=e;const t=e.get(ZT);(function nb(e){const t=e.get(Ip,null);null==t||t.forEach(r=>r())})(e)}(function tb(e=[],t){return ho.create({name:t,providers:[{provide:qa,useValue:"platform"},{provide:g0,useValue:new Set([()=>vh=null])},...e]})}(I,o))}return function LP(){const t=WE();if(!t)throw new vt(401,!1);return t}()}}function WE(){var e,t;return null!==(e=null===(t=vh)||void 0===t?void 0:t.get(ZT))&&void 0!==e?e:null}function BP(){return!1}let ib=(()=>{class t{}return t.__NG_ELEMENT_ID__=$P,t})();function $P(e){return function jP(e,t,r){if(Xs(e)&&!r){const o=Uo(e.index,t);return new ff(o,o)}return 175&e.type?new ff(t[Pi],t):null}(Ar(),jt(),!(16&~e))}class lb{constructor(){}supports(t){return $y(t)}create(t){return new KP(t)}}const WP=(e,t)=>t;class KP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||WP}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,c=null;for(;r||o;){const m=!o||r&&r.currentIndex<cb(o,a,c)?r:o,I=cb(m,a,c),T=m.currentIndex;if(m===o)a--,o=o._nextRemoved;else if(r=r._next,null==m.previousIndex)a++;else{c||(c=[]);const L=I-a,W=T-a;if(L!=W){for(let Ne=0;Ne<L;Ne++){const ze=Ne<c.length?c[Ne]:c[Ne]=0,Ue=ze+Ne;W<=Ue&&Ue<L&&(c[Ne]=ze+1)}c[m.previousIndex]=W-L}}I!==T&&t(m,I,T)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!$y(t))throw new vt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,m,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)c=t[I],m=this._trackByFn(I,c),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,c,m,I)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,m,I),o=!0),r=r._next}else a=0,function dw(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,I=>{m=this._trackByFn(a,I),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,I,m,a)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,m,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,c,a)):t=this._addAfter(new qP(r,o),c,a),t}_verifyReinsertion(t,r,o,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new ub),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ub),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class qP{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class ub{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new XP,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cb(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class db{constructor(){}supports(t){return t instanceof Map||qI(t)}create(){return new QP}}class QP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||qI(t)))throw new vt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const c=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,c)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const c=a._prev,m=a._next;return c&&(c._next=m),m&&(m._prev=c),a._next=null,a._prev=null,a}const o=new YP(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class YP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hb(){return new YE([new lb])}let YE=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||hb()),deps:[[t,new Hr,new Qr]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new vt(901,!1)}}return(e=t).\u0275prov=ar({token:e,providedIn:"root",factory:hb}),t})();function fb(){return new ZE([new db])}let ZE=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||fb()),deps:[[t,new Hr,new Qr]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new vt(901,!1)}}return(e=t).\u0275prov=ar({token:e,providedIn:"root",factory:fb}),t})();const ex=eb(null,"core",[]);let tx=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(He(dc))},e.\u0275mod=da({type:e}),e.\u0275inj=G({}),t})();function xx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Ox(e,t){Aa("NgSignals");const r=function $e(e){const t=Object.create(an);t.computation=e;const r=()=>{if(Fe(t),ue(t),t.value===$t)throw t.error;return t.value};return r[se]=t,r}(e);return null!=t&&t.equal&&(r[se].equal=t.equal),r}function kx(e){const t=he(null);try{return e()}finally{he(t)}}function $x(e,t){const r=fr(e),o=t.elementInjector||zs();return new Mf(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function jx(e){const t=fr(e);if(!t)return null;const r=new Mf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(dn,pt,k)=>{"use strict";k.d(pt,{DS:()=>Xe,X8:()=>je,$z:()=>Ee,UB:()=>Z,yy:()=>Pt,ZP:()=>De,AU:()=>Ie,CP:()=>Tn,gF:()=>Ce});var d=k(9842),Y=(k(7955),k(177)),J=k(4438),se=k(1825),he=k(9253),ve=k(1413),Oe=k(7673),Be=k(1985),fe=k(8455),ue=k(6365),Se=k(8750),Fe=k(983),Ve=k(3794),it=k(941),Ye=k(5558),Ke=k(6354),qe=k(6129);class st extends ve.B{constructor(et=1/0,rt=1/0,Tt=qe.U){super(),this._bufferSize=et,this._windowTime=rt,this._timestampProvider=Tt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=rt===1/0,this._bufferSize=Math.max(1,et),this._windowTime=Math.max(1,rt)}next(et){const{isStopped:rt,_buffer:Tt,_infiniteTimeWindow:yn,_timestampProvider:at,_windowTime:rn}=this;rt||(Tt.push(et),!yn&&Tt.push(at.now()+rn)),this._trimBuffer(),super.next(et)}_subscribe(et){this._throwIfClosed(),this._trimBuffer();const rt=this._innerSubscribe(et),{_infiniteTimeWindow:Tt,_buffer:yn}=this,at=yn.slice();for(let rn=0;rn<at.length&&!et.closed;rn+=Tt?1:2)et.next(at[rn]);return this._checkFinalizedStatuses(et),rt}_trimBuffer(){const{_bufferSize:et,_timestampProvider:rt,_buffer:Tt,_infiniteTimeWindow:yn}=this,at=(yn?1:2)*et;if(et<1/0&&at<Tt.length&&Tt.splice(0,Tt.length-at),!yn){const rn=rt.now();let hn=0;for(let Sn=1;Sn<Tt.length&&Tt[Sn]<=rn;Sn+=2)hn=Sn;hn&&Tt.splice(0,hn+1)}}}var pe=k(7707),me=k(9974);function tt(Re,et,...rt){if(!0===et)return void Re();if(!1===et)return;const Tt=new pe.Ms({next:()=>{Tt.unsubscribe(),Re()}});return(0,Se.Tg)(et(...rt)).subscribe(Tt)}function nt(Re,et,rt){let Tt,yn=!1;return Re&&"object"==typeof Re?({bufferSize:Tt=1/0,windowTime:et=1/0,refCount:yn=!1,scheduler:rt}=Re):Tt=null!=Re?Re:1/0,function be(Re={}){const{connector:et=()=>new ve.B,resetOnError:rt=!0,resetOnComplete:Tt=!0,resetOnRefCountZero:yn=!0}=Re;return at=>{let rn,hn,Sn,Nt=0,qt=!1,xn=!1;const zt=()=>{null==hn||hn.unsubscribe(),hn=void 0},Me=()=>{zt(),rn=Sn=void 0,qt=xn=!1},Le=()=>{const Rt=rn;Me(),null==Rt||Rt.unsubscribe()};return(0,me.N)((Rt,vt)=>{Nt++,!xn&&!qt&&zt();const On=Sn=null!=Sn?Sn:et();vt.add(()=>{Nt--,0===Nt&&!xn&&!qt&&(hn=tt(Le,yn))}),On.subscribe(vt),!rn&&Nt>0&&(rn=new pe.Ms({next:jn=>On.next(jn),error:jn=>{xn=!0,zt(),hn=tt(Me,rt,jn),On.error(jn)},complete:()=>{qt=!0,zt(),hn=tt(Me,Tt),On.complete()}}),(0,Se.Tg)(Rt).subscribe(rn))})(at)}}({connector:()=>new st(Tt,et,rt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:yn})}var Dt=k(1594),$e=k(8071);function xe(Re,et){return(0,$e.T)(et)?(0,Ye.n)(()=>Re,et):(0,Ye.n)(()=>Re)}var kt=k(6745),$t=k(5964),an=k(7935);const Tn=new J.nKC("angularfire2.auth.use-emulator"),Pt=new J.nKC("angularfire2.auth.settings"),De=new J.nKC("angularfire2.auth.tenant-id"),Ee=new J.nKC("angularfire2.auth.langugage-code"),Ie=new J.nKC("angularfire2.auth.use-device-language"),Z=new J.nKC("angularfire.auth.persistence"),Ce=(Re,et,rt,Tt,yn,at,rn,hn)=>(0,he.BM)(`${Re.name}.auth`,"AngularFireAuth",Re.name,()=>{const Sn=et.runOutsideAngular(()=>Re.auth());if(rt&&Sn.useEmulator(...rt),Tt&&(Sn.tenantId=Tt),Sn.languageCode=yn,at&&Sn.useDeviceLanguage(),rn)for(const[Nt,qt]of Object.entries(rn))Sn.settings[Nt]=qt;return hn&&Sn.setPersistence(hn),Sn},[rt,Tt,yn,at,rn,hn]);let Xe=(()=>{var Re;class et{constructor(Tt,yn,at,rn,hn,Sn,Nt,qt,xn,zt,Me,Le){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const Rt=new ve.B,vt=(0,Oe.of)(void 0).pipe((0,it.Q)(hn.outsideAngular),(0,Ye.n)(()=>rn.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,7955)))),(0,Ke.T)(()=>(0,he.iB)(Tt,rn,yn)),(0,Ke.T)(On=>Ce(On,rn,Sn,qt,xn,zt,Nt,Me)),nt({bufferSize:1,refCount:!1}));if((0,Y.Vy)(at))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Oe.of)(null);else{vt.pipe((0,Dt.$)()).subscribe();const On=vt.pipe((0,Ye.n)(gn=>gn.getRedirectResult().then(Zn=>Zn,()=>null)),se.U0,nt({bufferSize:1,refCount:!1})),jn=vt.pipe((0,Ye.n)(gn=>new Be.c(Zn=>({unsubscribe:rn.runOutsideAngular(()=>gn.onAuthStateChanged(Xn=>Zn.next(Xn),Xn=>Zn.error(Xn),()=>Zn.complete()))})))),Cn=vt.pipe((0,Ye.n)(gn=>new Be.c(Zn=>({unsubscribe:rn.runOutsideAngular(()=>gn.onIdTokenChanged(Xn=>Zn.next(Xn),Xn=>Zn.error(Xn),()=>Zn.complete()))}))));this.authState=On.pipe(xe(jn),(0,kt._)(hn.outsideAngular),(0,it.Q)(hn.insideAngular)),this.user=On.pipe(xe(Cn),(0,kt._)(hn.outsideAngular),(0,it.Q)(hn.insideAngular)),this.idToken=this.user.pipe((0,Ye.n)(gn=>gn?(0,fe.H)(gn.getIdToken()):(0,Oe.of)(null))),this.idTokenResult=this.user.pipe((0,Ye.n)(gn=>gn?(0,fe.H)(gn.getIdTokenResult()):(0,Oe.of)(null))),this.credential=function We(...Re){const et=(0,Ve.lI)(Re),rt=(0,Ve.R0)(Re,1/0),Tt=Re;return Tt.length?1===Tt.length?(0,Se.Tg)(Tt[0]):(0,ue.U)(rt)((0,fe.H)(Tt,et)):Fe.w}(On,Rt,this.authState.pipe((0,$t.p)(gn=>!gn))).pipe((0,Ke.T)(gn=>null!=gn&&gn.user?gn:null),(0,kt._)(hn.outsideAngular),(0,it.Q)(hn.insideAngular))}return(0,he.Gt)(this,vt,rn,{spy:{apply:(On,jn,Cn)=>{(On.startsWith("signIn")||On.startsWith("createUser"))&&Cn.then(gn=>Rt.next(gn))}}})}}return Re=et,(0,d.A)(et,"\u0275fac",function(Tt){return new(Tt||Re)(J.KVO(he.rx),J.KVO(he.uP,8),J.KVO(J.Agw),J.KVO(J.SKi),J.KVO(se.u0),J.KVO(Tn,8),J.KVO(Pt,8),J.KVO(De,8),J.KVO(Ee,8),J.KVO(Ie,8),J.KVO(Z,8),J.KVO(se.Jv,8))}),(0,d.A)(et,"\u0275prov",J.jDH({token:Re,factory:Re.\u0275fac,providedIn:"any"})),et})(),je=(()=>{var Re;class et{constructor(){an.A.registerVersion("angularfire",se.xv.full,"auth-compat")}}return Re=et,(0,d.A)(et,"\u0275fac",function(Tt){return new(Tt||Re)}),(0,d.A)(et,"\u0275mod",J.$C({type:Re})),(0,d.A)(et,"\u0275inj",J.G2t({providers:[Xe]})),et})()},8079:(dn,pt,k)=>{"use strict";k.d(pt,{Qe:()=>cl,cM:()=>Jm});var d=k(9842),f=k(177),Y=k(4438),J=k(1825),se=k(9253),he=k(1182),ve=k(3236),Oe=k(1985),Be=k(8455),fe=k(7673),ue=k(9172),Se=k(9974),Fe=k(4360);function Ve(){return(0,Se.N)((l,n)=>{let i,s=!1;l.subscribe((0,Fe._)(n,u=>{const p=i;i=u,s&&n.next([p,u]),s=!0}))})}var xe,kt,We=k(6354),it=k(2816),Ye=k(3294),Ke=k(5964),st=(k(7955),k(3345)),pe=k(467),me=k(7852),be=k(1362),tt=k(8041),nt=k(1076),Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(_t,Qe,ht){ht||(ht=0);var Et=Array(16);if("string"==typeof Qe)for(var Ct=0;16>Ct;++Ct)Et[Ct]=Qe.charCodeAt(ht++)|Qe.charCodeAt(ht++)<<8|Qe.charCodeAt(ht++)<<16|Qe.charCodeAt(ht++)<<24;else for(Ct=0;16>Ct;++Ct)Et[Ct]=Qe[ht++]|Qe[ht++]<<8|Qe[ht++]<<16|Qe[ht++]<<24;var Ot=_t.g[3],ct=(Qe=_t.g[0])+(Ot^(ht=_t.g[1])&((Ct=_t.g[2])^Ot))+Et[0]+3614090360&4294967295;ct=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=(ht=(Ct=(Ot=(Qe=ht+(ct<<7&4294967295|ct>>>25))+((ct=Ot+(Ct^Qe&(ht^Ct))+Et[1]+3905402710&4294967295)<<12&4294967295|ct>>>20))+((ct=Ct+(ht^Ot&(Qe^ht))+Et[2]+606105819&4294967295)<<17&4294967295|ct>>>15))+((ct=ht+(Qe^Ct&(Ot^Qe))+Et[3]+3250441966&4294967295)<<22&4294967295|ct>>>10))+((ct=Qe+(Ot^ht&(Ct^Ot))+Et[4]+4118548399&4294967295)<<7&4294967295|ct>>>25))+((ct=Ot+(Ct^Qe&(ht^Ct))+Et[5]+1200080426&4294967295)<<12&4294967295|ct>>>20))+((ct=Ct+(ht^Ot&(Qe^ht))+Et[6]+2821735955&4294967295)<<17&4294967295|ct>>>15))+((ct=ht+(Qe^Ct&(Ot^Qe))+Et[7]+4249261313&4294967295)<<22&4294967295|ct>>>10))+((ct=Qe+(Ot^ht&(Ct^Ot))+Et[8]+1770035416&4294967295)<<7&4294967295|ct>>>25))+((ct=Ot+(Ct^Qe&(ht^Ct))+Et[9]+2336552879&4294967295)<<12&4294967295|ct>>>20))+((ct=Ct+(ht^Ot&(Qe^ht))+Et[10]+4294925233&4294967295)<<17&4294967295|ct>>>15))+((ct=ht+(Qe^Ct&(Ot^Qe))+Et[11]+2304563134&4294967295)<<22&4294967295|ct>>>10))+((ct=Qe+(Ot^ht&(Ct^Ot))+Et[12]+1804603682&4294967295)<<7&4294967295|ct>>>25))+((ct=Ot+(Ct^Qe&(ht^Ct))+Et[13]+4254626195&4294967295)<<12&4294967295|ct>>>20))+((ct=Ct+(ht^Ot&(Qe^ht))+Et[14]+2792965006&4294967295)<<17&4294967295|ct>>>15))+((ct=ht+(Qe^Ct&(Ot^Qe))+Et[15]+1236535329&4294967295)<<22&4294967295|ct>>>10))+((ct=Qe+(Ct^Ot&(ht^Ct))+Et[1]+4129170786&4294967295)<<5&4294967295|ct>>>27))+((ct=Ot+(ht^Ct&(Qe^ht))+Et[6]+3225465664&4294967295)<<9&4294967295|ct>>>23))+((ct=Ct+(Qe^ht&(Ot^Qe))+Et[11]+643717713&4294967295)<<14&4294967295|ct>>>18))+((ct=ht+(Ot^Qe&(Ct^Ot))+Et[0]+3921069994&4294967295)<<20&4294967295|ct>>>12))+((ct=Qe+(Ct^Ot&(ht^Ct))+Et[5]+3593408605&4294967295)<<5&4294967295|ct>>>27))+((ct=Ot+(ht^Ct&(Qe^ht))+Et[10]+38016083&4294967295)<<9&4294967295|ct>>>23))+((ct=Ct+(Qe^ht&(Ot^Qe))+Et[15]+3634488961&4294967295)<<14&4294967295|ct>>>18))+((ct=ht+(Ot^Qe&(Ct^Ot))+Et[4]+3889429448&4294967295)<<20&4294967295|ct>>>12))+((ct=Qe+(Ct^Ot&(ht^Ct))+Et[9]+568446438&4294967295)<<5&4294967295|ct>>>27))+((ct=Ot+(ht^Ct&(Qe^ht))+Et[14]+3275163606&4294967295)<<9&4294967295|ct>>>23))+((ct=Ct+(Qe^ht&(Ot^Qe))+Et[3]+4107603335&4294967295)<<14&4294967295|ct>>>18))+((ct=ht+(Ot^Qe&(Ct^Ot))+Et[8]+1163531501&4294967295)<<20&4294967295|ct>>>12))+((ct=Qe+(Ct^Ot&(ht^Ct))+Et[13]+2850285829&4294967295)<<5&4294967295|ct>>>27))+((ct=Ot+(ht^Ct&(Qe^ht))+Et[2]+4243563512&4294967295)<<9&4294967295|ct>>>23))+((ct=Ct+(Qe^ht&(Ot^Qe))+Et[7]+1735328473&4294967295)<<14&4294967295|ct>>>18))+((ct=ht+(Ot^Qe&(Ct^Ot))+Et[12]+2368359562&4294967295)<<20&4294967295|ct>>>12))+((ct=Qe+(ht^Ct^Ot)+Et[5]+4294588738&4294967295)<<4&4294967295|ct>>>28))+((ct=Ot+(Qe^ht^Ct)+Et[8]+2272392833&4294967295)<<11&4294967295|ct>>>21))+((ct=Ct+(Ot^Qe^ht)+Et[11]+1839030562&4294967295)<<16&4294967295|ct>>>16))+((ct=ht+(Ct^Ot^Qe)+Et[14]+4259657740&4294967295)<<23&4294967295|ct>>>9))+((ct=Qe+(ht^Ct^Ot)+Et[1]+2763975236&4294967295)<<4&4294967295|ct>>>28))+((ct=Ot+(Qe^ht^Ct)+Et[4]+1272893353&4294967295)<<11&4294967295|ct>>>21))+((ct=Ct+(Ot^Qe^ht)+Et[7]+4139469664&4294967295)<<16&4294967295|ct>>>16))+((ct=ht+(Ct^Ot^Qe)+Et[10]+3200236656&4294967295)<<23&4294967295|ct>>>9))+((ct=Qe+(ht^Ct^Ot)+Et[13]+681279174&4294967295)<<4&4294967295|ct>>>28))+((ct=Ot+(Qe^ht^Ct)+Et[0]+3936430074&4294967295)<<11&4294967295|ct>>>21))+((ct=Ct+(Ot^Qe^ht)+Et[3]+3572445317&4294967295)<<16&4294967295|ct>>>16))+((ct=ht+(Ct^Ot^Qe)+Et[6]+76029189&4294967295)<<23&4294967295|ct>>>9))+((ct=Qe+(ht^Ct^Ot)+Et[9]+3654602809&4294967295)<<4&4294967295|ct>>>28))+((ct=Ot+(Qe^ht^Ct)+Et[12]+3873151461&4294967295)<<11&4294967295|ct>>>21))+((ct=Ct+(Ot^Qe^ht)+Et[15]+530742520&4294967295)<<16&4294967295|ct>>>16))+((ct=ht+(Ct^Ot^Qe)+Et[2]+3299628645&4294967295)<<23&4294967295|ct>>>9))+((ct=Qe+(Ct^(ht|~Ot))+Et[0]+4096336452&4294967295)<<6&4294967295|ct>>>26))+((ct=Ot+(ht^(Qe|~Ct))+Et[7]+1126891415&4294967295)<<10&4294967295|ct>>>22))+((ct=Ct+(Qe^(Ot|~ht))+Et[14]+2878612391&4294967295)<<15&4294967295|ct>>>17))+((ct=ht+(Ot^(Ct|~Qe))+Et[5]+4237533241&4294967295)<<21&4294967295|ct>>>11))+((ct=Qe+(Ct^(ht|~Ot))+Et[12]+1700485571&4294967295)<<6&4294967295|ct>>>26))+((ct=Ot+(ht^(Qe|~Ct))+Et[3]+2399980690&4294967295)<<10&4294967295|ct>>>22))+((ct=Ct+(Qe^(Ot|~ht))+Et[10]+4293915773&4294967295)<<15&4294967295|ct>>>17))+((ct=ht+(Ot^(Ct|~Qe))+Et[1]+2240044497&4294967295)<<21&4294967295|ct>>>11))+((ct=Qe+(Ct^(ht|~Ot))+Et[8]+1873313359&4294967295)<<6&4294967295|ct>>>26))+((ct=Ot+(ht^(Qe|~Ct))+Et[15]+4264355552&4294967295)<<10&4294967295|ct>>>22))+((ct=Ct+(Qe^(Ot|~ht))+Et[6]+2734768916&4294967295)<<15&4294967295|ct>>>17))+((ct=ht+(Ot^(Ct|~Qe))+Et[13]+1309151649&4294967295)<<21&4294967295|ct>>>11))+((Ot=(Qe=ht+((ct=Qe+(Ct^(ht|~Ot))+Et[4]+4149444226&4294967295)<<6&4294967295|ct>>>26))+((ct=Ot+(ht^(Qe|~Ct))+Et[11]+3174756917&4294967295)<<10&4294967295|ct>>>22))^((Ct=Ot+((ct=Ct+(Qe^(Ot|~ht))+Et[2]+718787259&4294967295)<<15&4294967295|ct>>>17))|~Qe))+Et[9]+3951481745&4294967295,_t.g[0]=_t.g[0]+Qe&4294967295,_t.g[1]=_t.g[1]+(Ct+(ct<<21&4294967295|ct>>>11))&4294967295,_t.g[2]=_t.g[2]+Ct&4294967295,_t.g[3]=_t.g[3]+Ot&4294967295}function _(_t,Qe){this.h=Qe;for(var ht=[],Et=!0,Ct=_t.length-1;0<=Ct;Ct--){var Ot=0|_t[Ct];Et&&Ot==Qe||(ht[Ct]=Ot,Et=!1)}this.g=ht}(function n(_t,Qe){function ht(){}ht.prototype=Qe.prototype,_t.D=Qe.prototype,_t.prototype=new ht,_t.prototype.constructor=_t,_t.C=function(Et,Ct,Ot){for(var ct=Array(arguments.length-2),su=2;su<arguments.length;su++)ct[su-2]=arguments[su];return Qe.prototype[Ct].apply(Et,ct)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(_t,Qe){void 0===Qe&&(Qe=_t.length);for(var ht=Qe-this.blockSize,Et=this.B,Ct=this.h,Ot=0;Ot<Qe;){if(0==Ct)for(;Ot<=ht;)u(this,_t,Ot),Ot+=this.blockSize;if("string"==typeof _t){for(;Ot<Qe;)if(Et[Ct++]=_t.charCodeAt(Ot++),Ct==this.blockSize){u(this,Et),Ct=0;break}}else for(;Ot<Qe;)if(Et[Ct++]=_t[Ot++],Ct==this.blockSize){u(this,Et),Ct=0;break}}this.h=Ct,this.o+=Qe},s.prototype.v=function(){var _t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_t[0]=128;for(var Qe=1;Qe<_t.length-8;++Qe)_t[Qe]=0;var ht=8*this.o;for(Qe=_t.length-8;Qe<_t.length;++Qe)_t[Qe]=255&ht,ht/=256;for(this.u(_t),_t=Array(16),Qe=ht=0;4>Qe;++Qe)for(var Et=0;32>Et;Et+=8)_t[ht++]=this.g[Qe]>>>Et&255;return _t};var R={};function O(_t){return-128<=_t&&128>_t?function p(_t,Qe){var ht=R;return Object.prototype.hasOwnProperty.call(ht,_t)?ht[_t]:ht[_t]=Qe(_t)}(_t,function(Qe){return new _([0|Qe],0>Qe?-1:0)}):new _([0|_t],0>_t?-1:0)}function K(_t){if(isNaN(_t)||!isFinite(_t))return we;if(0>_t)return un(K(-_t));for(var Qe=[],ht=1,Et=0;_t>=ht;Et++)Qe[Et]=_t/ht|0,ht*=4294967296;return new _(Qe,0)}var we=O(0),Je=O(1),Mt=O(16777216);function tn(_t){if(0!=_t.h)return!1;for(var Qe=0;Qe<_t.g.length;Qe++)if(0!=_t.g[Qe])return!1;return!0}function pn(_t){return-1==_t.h}function un(_t){for(var Qe=_t.g.length,ht=[],Et=0;Et<Qe;Et++)ht[Et]=~_t.g[Et];return new _(ht,~_t.h).add(Je)}function Bn(_t,Qe){return _t.add(un(Qe))}function er(_t,Qe){for(;(65535&_t[Qe])!=_t[Qe];)_t[Qe+1]+=_t[Qe]>>>16,_t[Qe]&=65535,Qe++}function $n(_t,Qe){this.g=_t,this.h=Qe}function sr(_t,Qe){if(tn(Qe))throw Error("division by zero");if(tn(_t))return new $n(we,we);if(pn(_t))return Qe=sr(un(_t),Qe),new $n(un(Qe.g),un(Qe.h));if(pn(Qe))return Qe=sr(_t,un(Qe)),new $n(un(Qe.g),Qe.h);if(30<_t.g.length){if(pn(_t)||pn(Qe))throw Error("slowDivide_ only works with positive integers.");for(var ht=Je,Et=Qe;0>=Et.l(_t);)ht=Jr(ht),Et=Jr(Et);var Ct=_r(ht,1),Ot=_r(Et,1);for(Et=_r(Et,2),ht=_r(ht,2);!tn(Et);){var ct=Ot.add(Et);0>=ct.l(_t)&&(Ct=Ct.add(ht),Ot=ct),Et=_r(Et,1),ht=_r(ht,1)}return Qe=Bn(_t,Ct.j(Qe)),new $n(Ct,Qe)}for(Ct=we;0<=_t.l(Qe);){for(ht=Math.max(1,Math.floor(_t.m()/Qe.m())),Et=48>=(Et=Math.ceil(Math.log(ht)/Math.LN2))?1:Math.pow(2,Et-48),ct=(Ot=K(ht)).j(Qe);pn(ct)||0<ct.l(_t);)ct=(Ot=K(ht-=Et)).j(Qe);tn(Ot)&&(Ot=Je),Ct=Ct.add(Ot),_t=Bn(_t,ct)}return new $n(Ct,_t)}function Jr(_t){for(var Qe=_t.g.length+1,ht=[],Et=0;Et<Qe;Et++)ht[Et]=_t.i(Et)<<1|_t.i(Et-1)>>>31;return new _(ht,_t.h)}function _r(_t,Qe){var ht=Qe>>5;Qe%=32;for(var Et=_t.g.length-ht,Ct=[],Ot=0;Ot<Et;Ot++)Ct[Ot]=0<Qe?_t.i(Ot+ht)>>>Qe|_t.i(Ot+ht+1)<<32-Qe:_t.i(Ot+ht);return new _(Ct,_t.h)}(l=_.prototype).m=function(){if(pn(this))return-un(this).m();for(var _t=0,Qe=1,ht=0;ht<this.g.length;ht++){var Et=this.i(ht);_t+=(0<=Et?Et:4294967296+Et)*Qe,Qe*=4294967296}return _t},l.toString=function(_t){if(2>(_t=_t||10)||36<_t)throw Error("radix out of range: "+_t);if(tn(this))return"0";if(pn(this))return"-"+un(this).toString(_t);for(var Qe=K(Math.pow(_t,6)),ht=this,Et="";;){var Ct=sr(ht,Qe).g,Ot=((0<(ht=Bn(ht,Ct.j(Qe))).g.length?ht.g[0]:ht.h)>>>0).toString(_t);if(tn(ht=Ct))return Ot+Et;for(;6>Ot.length;)Ot="0"+Ot;Et=Ot+Et}},l.i=function(_t){return 0>_t?0:_t<this.g.length?this.g[_t]:this.h},l.l=function(_t){return pn(_t=Bn(this,_t))?-1:tn(_t)?0:1},l.abs=function(){return pn(this)?un(this):this},l.add=function(_t){for(var Qe=Math.max(this.g.length,_t.g.length),ht=[],Et=0,Ct=0;Ct<=Qe;Ct++){var Ot=Et+(65535&this.i(Ct))+(65535&_t.i(Ct)),ct=(Ot>>>16)+(this.i(Ct)>>>16)+(_t.i(Ct)>>>16);Et=ct>>>16,ht[Ct]=(ct&=65535)<<16|(Ot&=65535)}return new _(ht,-2147483648&ht[ht.length-1]?-1:0)},l.j=function(_t){if(tn(this)||tn(_t))return we;if(pn(this))return pn(_t)?un(this).j(un(_t)):un(un(this).j(_t));if(pn(_t))return un(this.j(un(_t)));if(0>this.l(Mt)&&0>_t.l(Mt))return K(this.m()*_t.m());for(var Qe=this.g.length+_t.g.length,ht=[],Et=0;Et<2*Qe;Et++)ht[Et]=0;for(Et=0;Et<this.g.length;Et++)for(var Ct=0;Ct<_t.g.length;Ct++){var Ot=this.i(Et)>>>16,ct=65535&this.i(Et),su=_t.i(Ct)>>>16,Jd=65535&_t.i(Ct);ht[2*Et+2*Ct]+=ct*Jd,er(ht,2*Et+2*Ct),ht[2*Et+2*Ct+1]+=Ot*Jd,er(ht,2*Et+2*Ct+1),ht[2*Et+2*Ct+1]+=ct*su,er(ht,2*Et+2*Ct+1),ht[2*Et+2*Ct+2]+=Ot*su,er(ht,2*Et+2*Ct+2)}for(Et=0;Et<Qe;Et++)ht[Et]=ht[2*Et+1]<<16|ht[2*Et];for(Et=Qe;Et<2*Qe;Et++)ht[Et]=0;return new _(ht,0)},l.A=function(_t){return sr(this,_t).h},l.and=function(_t){for(var Qe=Math.max(this.g.length,_t.g.length),ht=[],Et=0;Et<Qe;Et++)ht[Et]=this.i(Et)&_t.i(Et);return new _(ht,this.h&_t.h)},l.or=function(_t){for(var Qe=Math.max(this.g.length,_t.g.length),ht=[],Et=0;Et<Qe;Et++)ht[Et]=this.i(Et)|_t.i(Et);return new _(ht,this.h|_t.h)},l.xor=function(_t){for(var Qe=Math.max(this.g.length,_t.g.length),ht=[],Et=0;Et<Qe;Et++)ht[Et]=this.i(Et)^_t.i(Et);return new _(ht,this.h^_t.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kt=$e.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=K,_.fromString=function le(_t,Qe){if(0==_t.length)throw Error("number format error: empty string");if(2>(Qe=Qe||10)||36<Qe)throw Error("radix out of range: "+Qe);if("-"==_t.charAt(0))return un(le(_t.substring(1),Qe));if(0<=_t.indexOf("-"))throw Error('number format error: interior "-" character');for(var ht=K(Math.pow(Qe,8)),Et=we,Ct=0;Ct<_t.length;Ct+=8){var Ot=Math.min(8,_t.length-Ct),ct=parseInt(_t.substring(Ct,Ct+Ot),Qe);8>Ot?(Ot=K(Math.pow(Qe,Ot)),Et=Et.j(Ot).add(K(ct))):Et=(Et=Et.j(ht)).add(K(ct))}return Et},xe=$e.Integer=_}).apply(typeof Dt<"u"?Dt:typeof self<"u"?self:typeof window<"u"?window:{});var Qt,Pt,De,Ee,Ie,Z,Ce,Xe,$t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},an={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,V,q){return v==Array.prototype||v==Object.prototype||(v[V]=q.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof $t&&$t];for(var V=0;V<v.length;++V){var q=v[V];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function u(v,V){if(V)e:{var q=s;v=v.split(".");for(var _e=0;_e<v.length-1;_e++){var wt=v[_e];if(!(wt in q))break e;q=q[wt]}(V=V(_e=q[v=v[v.length-1]]))!=_e&&null!=V&&n(q,v,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(v){return v||function(){return function p(v,V){v instanceof String&&(v+="");var q=0,_e=!1,wt={next:function(){if(!_e&&q<v.length){var Ht=q++;return{value:V(Ht,v[Ht]),done:!1}}return _e=!0,{done:!0,value:void 0}}};return wt[Symbol.iterator]=function(){return wt},wt}(this,function(V,q){return q})}});var _=_||{},R=this||self;function O(v){var V=typeof v;return"array"==(V="object"!=V?V:v?Array.isArray(v)?"array":V:"null")||"object"==V&&"number"==typeof v.length}function K(v){var V=typeof v;return"object"==V&&null!=v||"function"==V}function le(v,V,q){return v.call.apply(v.bind,arguments)}function we(v,V,q){if(!v)throw Error();if(2<arguments.length){var _e=Array.prototype.slice.call(arguments,2);return function(){var wt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(wt,_e),v.apply(V,wt)}}return function(){return v.apply(V,arguments)}}function Je(v,V,q){return(Je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:we).apply(null,arguments)}function Mt(v,V){var q=Array.prototype.slice.call(arguments,1);return function(){var _e=q.slice();return _e.push.apply(_e,arguments),v.apply(this,_e)}}function tn(v,V){function q(){}q.prototype=V.prototype,v.aa=V.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(_e,wt,Ht){for(var wn=Array(arguments.length-2),Ii=2;Ii<arguments.length;Ii++)wn[Ii-2]=arguments[Ii];return V.prototype[wt].apply(_e,wn)}}function pn(v){const V=v.length;if(0<V){const q=Array(V);for(let _e=0;_e<V;_e++)q[_e]=v[_e];return q}return[]}function un(v,V){for(let q=1;q<arguments.length;q++){const _e=arguments[q];if(O(_e)){const wt=v.length||0,Ht=_e.length||0;v.length=wt+Ht;for(let wn=0;wn<Ht;wn++)v[wt+wn]=_e[wn]}else v.push(_e)}}function er(v){return/^[\s\xa0]*$/.test(v)}function $n(){var v=R.navigator;return v&&(v=v.userAgent)?v:""}function sr(v){return sr[" "](v),v}sr[" "]=function(){};var Jr=!(-1==$n().indexOf("Gecko")||-1!=$n().toLowerCase().indexOf("webkit")&&-1==$n().indexOf("Edge")||-1!=$n().indexOf("Trident")||-1!=$n().indexOf("MSIE")||-1!=$n().indexOf("Edge"));function _r(v,V,q){for(const _e in v)V.call(q,v[_e],_e,v)}function Qe(v){const V={};for(const q in v)V[q]=v[q];return V}const ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Et(v,V){let q,_e;for(let wt=1;wt<arguments.length;wt++){for(q in _e=arguments[wt],_e)v[q]=_e[q];for(let Ht=0;Ht<ht.length;Ht++)q=ht[Ht],Object.prototype.hasOwnProperty.call(_e,q)&&(v[q]=_e[q])}}function Ct(v){var V=1;v=v.split(":");const q=[];for(;0<V&&v.length;)q.push(v.shift()),V--;return v.length&&q.push(v.join(":")),q}function Ot(v){R.setTimeout(()=>{throw v},0)}function ct(){var v=Yp;let V=null;return v.g&&(V=v.g,v.g=v.g.next,v.g||(v.h=null),V.next=null),V}var Jd=new class Bn{constructor(V,q){this.i=V,this.j=q,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new AI,v=>v.reset());class AI{constructor(){this.next=this.g=this.h=null}set(V,q){this.h=V,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Yu,hf=!1,Yp=new class su{constructor(){this.h=this.g=null}add(V,q){const _e=Jd.get();_e.set(V,q),this.h?this.h.next=_e:this.g=_e,this.h=_e}},ay=()=>{const v=R.Promise.resolve(void 0);Yu=()=>{v.then(ly)}};var ly=()=>{for(var v;v=ct();){try{v.h.call(v.g)}catch(q){Ot(q)}var V=Jd;V.j(v),100>V.h&&(V.h++,v.next=V.g,V.g=v)}hf=!1};function Zu(){this.s=this.s,this.C=this.C}function Is(v,V){this.type=v,this.g=this.target=V,this.defaultPrevented=!1}Zu.prototype.s=!1,Zu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Is.prototype.h=function(){this.defaultPrevented=!0};var uy=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var v=!1,V=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};R.addEventListener("test",q,V),R.removeEventListener("test",q,V)}catch{}return v}();function nd(v,V){if(Is.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,_e=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=V,V=v.relatedTarget){if(Jr){e:{try{sr(V.nodeName);var wt=!0;break e}catch{}wt=!1}wt||(V=null)}}else"mouseover"==q?V=v.fromElement:"mouseout"==q&&(V=v.toElement);this.relatedTarget=V,_e?(this.clientX=void 0!==_e.clientX?_e.clientX:_e.pageX,this.clientY=void 0!==_e.clientY?_e.clientY:_e.pageY,this.screenX=_e.screenX||0,this.screenY=_e.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:cy[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&nd.aa.h.call(this)}}tn(nd,Is);var cy={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var au="closure_listenable_"+(1e6*Math.random()|0),ff=0;function pf(v,V,q,_e,wt){this.listener=v,this.proxy=null,this.src=V,this.type=q,this.capture=!!_e,this.ha=wt,this.key=++ff,this.da=this.fa=!1}function Zp(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Jp(v){this.src=v,this.g={},this.h=0}function ev(v,V){var q=V.type;if(q in v.g){var Ht,_e=v.g[q],wt=Array.prototype.indexOf.call(_e,V,void 0);(Ht=0<=wt)&&Array.prototype.splice.call(_e,wt,1),Ht&&(Zp(V),0==v.g[q].length&&(delete v.g[q],v.h--))}}function eh(v,V,q,_e){for(var wt=0;wt<v.length;++wt){var Ht=v[wt];if(!Ht.da&&Ht.listener==V&&Ht.capture==!!q&&Ht.ha==_e)return wt}return-1}Jp.prototype.add=function(v,V,q,_e,wt){var Ht=v.toString();(v=this.g[Ht])||(v=this.g[Ht]=[],this.h++);var wn=eh(v,V,_e,wt);return-1<wn?(V=v[wn],q||(V.fa=!1)):((V=new pf(V,this.src,Ht,!!_e,wt)).fa=q,v.push(V)),V};var gf="closure_lm_"+(1e6*Math.random()|0),tv={};function CI(v,V,q,_e,wt){if(_e&&_e.once)return dy(v,V,q,_e,wt);if(Array.isArray(V)){for(var Ht=0;Ht<V.length;Ht++)CI(v,V[Ht],q,_e,wt);return null}return q=mf(q),v&&v[au]?v.K(V,q,K(_e)?!!_e.capture:!!_e,wt):DI(v,V,q,!1,_e,wt)}function DI(v,V,q,_e,wt,Ht){if(!V)throw Error("Invalid event type");var wn=K(wt)?!!wt.capture:!!wt,Ii=rv(v);if(Ii||(v[gf]=Ii=new Jp(v)),(q=Ii.add(V,q,_e,wn,Ht)).proxy)return q;if(_e=function TI(){const V=SI;return function v(q){return V.call(v.src,v.listener,q)}}(),q.proxy=_e,_e.src=v,_e.listener=q,v.addEventListener)uy||(wt=wn),void 0===wt&&(wt=!1),v.addEventListener(V.toString(),_e,wt);else if(v.attachEvent)v.attachEvent(wI(V.toString()),_e);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(_e)}return q}function dy(v,V,q,_e,wt){if(Array.isArray(V)){for(var Ht=0;Ht<V.length;Ht++)dy(v,V[Ht],q,_e,wt);return null}return q=mf(q),v&&v[au]?v.L(V,q,K(_e)?!!_e.capture:!!_e,wt):DI(v,V,q,!0,_e,wt)}function bI(v,V,q,_e,wt){if(Array.isArray(V))for(var Ht=0;Ht<V.length;Ht++)bI(v,V[Ht],q,_e,wt);else _e=K(_e)?!!_e.capture:!!_e,q=mf(q),v&&v[au]?(v=v.i,(V=String(V).toString())in v.g&&-1<(q=eh(Ht=v.g[V],q,_e,wt))&&(Zp(Ht[q]),Array.prototype.splice.call(Ht,q,1),0==Ht.length&&(delete v.g[V],v.h--))):v&&(v=rv(v))&&(V=v.g[V.toString()],v=-1,V&&(v=eh(V,q,_e,wt)),(q=-1<v?V[v]:null)&&nv(q))}function nv(v){if("number"!=typeof v&&v&&!v.da){var V=v.src;if(V&&V[au])ev(V.i,v);else{var q=v.type,_e=v.proxy;V.removeEventListener?V.removeEventListener(q,_e,v.capture):V.detachEvent?V.detachEvent(wI(q),_e):V.addListener&&V.removeListener&&V.removeListener(_e),(q=rv(V))?(ev(q,v),0==q.h&&(q.src=null,V[gf]=null)):Zp(v)}}}function wI(v){return v in tv?tv[v]:tv[v]="on"+v}function SI(v,V){if(v.da)v=!0;else{V=new nd(V,this);var q=v.listener,_e=v.ha||v.src;v.fa&&nv(v),v=q.call(_e,V)}return v}function rv(v){return(v=v[gf])instanceof Jp?v:null}var iv="__closure_events_fn_"+(1e9*Math.random()>>>0);function mf(v){return"function"==typeof v?v:(v[iv]||(v[iv]=function(V){return v.handleEvent(V)}),v[iv])}function po(){Zu.call(this),this.i=new Jp(this),this.M=this,this.F=null}function ts(v,V){var q,_e=v.F;if(_e)for(q=[];_e;_e=_e.F)q.push(_e);if(v=v.M,_e=V.type||V,"string"==typeof V)V=new Is(V,v);else if(V instanceof Is)V.target=V.target||v;else{var wt=V;Et(V=new Is(_e,v),wt)}if(wt=!0,q)for(var Ht=q.length-1;0<=Ht;Ht--){var wn=V.g=q[Ht];wt=rd(wn,_e,!0,V)&&wt}if(wt=rd(wn=V.g=v,_e,!0,V)&&wt,wt=rd(wn,_e,!1,V)&&wt,q)for(Ht=0;Ht<q.length;Ht++)wt=rd(wn=V.g=q[Ht],_e,!1,V)&&wt}function rd(v,V,q,_e){if(!(V=v.i.g[String(V)]))return!0;V=V.concat();for(var wt=!0,Ht=0;Ht<V.length;++Ht){var wn=V[Ht];if(wn&&!wn.da&&wn.capture==q){var Ii=wn.listener,ns=wn.ha||wn.src;wn.fa&&ev(v.i,wn),wt=!1!==Ii.call(ns,_e)&&wt}}return wt&&!_e.defaultPrevented}function ov(v,V,q){if("function"==typeof v)q&&(v=Je(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Je(v.handleEvent,v)}return 2147483647<Number(V)?-1:R.setTimeout(v,V||0)}function th(v){v.g=ov(()=>{v.g=null,v.i&&(v.i=!1,th(v))},v.l);const V=v.h;v.h=null,v.m.apply(null,V)}tn(po,Zu),po.prototype[au]=!0,po.prototype.removeEventListener=function(v,V,q,_e){bI(this,v,V,q,_e)},po.prototype.N=function(){if(po.aa.N.call(this),this.i){var V,v=this.i;for(V in v.g){for(var q=v.g[V],_e=0;_e<q.length;_e++)Zp(q[_e]);delete v.g[V],v.h--}}this.F=null},po.prototype.K=function(v,V,q,_e){return this.i.add(String(v),V,!1,q,_e)},po.prototype.L=function(v,V,q,_e){return this.i.add(String(v),V,!0,q,_e)};class hy extends Zu{constructor(V,q){super(),this.m=V,this.l=q,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:th(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vf(v){Zu.call(this),this.h=v,this.g={}}tn(vf,Zu);var nh=[];function sv(v){_r(v.g,function(V,q){this.g.hasOwnProperty(q)&&nv(V)},v),v.g={}}vf.prototype.N=function(){vf.aa.N.call(this),sv(this)},vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eg=R.JSON.stringify,fy=R.JSON.parse,py=class{stringify(v){return R.JSON.stringify(v,void 0)}parse(v){return R.JSON.parse(v,void 0)}};function av(){}function my(){}av.prototype.h=null;var lu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lv(){Is.call(this,"d")}function uv(){Is.call(this,"c")}tn(lv,Is),tn(uv,Is);var id={},_f=null;function yf(){return _f=_f||new po}function cv(v){Is.call(this,id.La,v)}function rh(v){const V=yf();ts(V,new cv(V))}function vy(v,V){Is.call(this,id.STAT_EVENT,v),this.stat=V}function Es(v){const V=yf();ts(V,new vy(V,v))}function tg(v,V){Is.call(this,id.Ma,v),this.size=V}function Ju(v,V){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){v()},V)}function If(){this.g=!0}function ih(v,V,q,_e){v.info(function(){return"XMLHTTP TEXT ("+V+"): "+function xI(v,V){if(!v.g)return V;if(!V)return null;try{var q=JSON.parse(V);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var _e=q[v];if(!(2>_e.length)){var wt=_e[1];if(Array.isArray(wt)&&!(1>wt.length)){var Ht=wt[0];if("noop"!=Ht&&"stop"!=Ht&&"close"!=Ht)for(var wn=1;wn<wt.length;wn++)wt[wn]=""}}}return eg(q)}catch{return V}}(v,q)+(_e?" "+_e:"")})}id.La="serverreachability",tn(cv,Is),id.STAT_EVENT="statevent",tn(vy,Is),id.Ma="timingevent",tn(tg,Is),If.prototype.xa=function(){this.g=!1},If.prototype.info=function(){};var ng,oh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ef(){}function ec(v,V,q,_e){this.j=v,this.i=V,this.l=q,this.R=_e||1,this.U=new vf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ah}function ah(){this.i=null,this.g="",this.h=!1}tn(Ef,av),Ef.prototype.g=function(){return new XMLHttpRequest},Ef.prototype.i=function(){return{}},ng=new Ef;var Af={},_y={};function dv(v,V,q){v.L=1,v.v=sg(cu(V)),v.m=q,v.P=!0,hv(v,null)}function hv(v,V){v.F=Date.now(),Cf(v),v.A=cu(v.v);var q=v.A,_e=v.R;Array.isArray(_e)||(_e=[String(_e)]),od(q.i,"t",_e),v.C=0,q=v.j.J,v.h=new ah,v.g=dg(v.j,q?V:null,!v.m),0<v.O&&(v.M=new hy(Je(v.Y,v,v.g),v.O)),V=v.U,q=v.g,_e=v.ca;var wt="readystatechange";Array.isArray(wt)||(wt&&(nh[0]=wt.toString()),wt=nh);for(var Ht=0;Ht<wt.length;Ht++){var wn=CI(q,wt[Ht],_e||V.handleEvent,!1,V.h||V);if(!wn)break;V.g[wn.key]=wn}V=v.H?Qe(v.H):{},v.m?(v.u||(v.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,V)):(v.u="GET",v.g.ea(v.A,v.u,null,V)),rh(),function RI(v,V,q,_e,wt,Ht){v.info(function(){if(v.g)if(Ht)for(var wn="",Ii=Ht.split("&"),ns=0;ns<Ii.length;ns++){var ci=Ii[ns].split("=");if(1<ci.length){var As=ci[0];ci=ci[1];var Cs=As.split("_");wn=2<=Cs.length&&"type"==Cs[1]?wn+(As+"=")+ci+"&":wn+(As+"=redacted&")}}else wn=null;else wn=Ht;return"XMLHTTP REQ ("+_e+") [attempt "+wt+"]: "+V+"\n"+q+"\n"+wn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function rg(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function NI(v,V){var q=v.C,_e=V.indexOf("\n",q);return-1==_e?_y:(q=Number(V.substring(q,_e)),isNaN(q)?Af:(_e+=1)+q>V.length?_y:(V=V.slice(_e,_e+q),v.C=_e+q,V))}function Cf(v){v.S=Date.now()+v.I,yy(v,v.I)}function yy(v,V){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Ju(Je(v.ba,v),V)}function ig(v){v.B&&(R.clearTimeout(v.B),v.B=null)}function lh(v){0==v.j.G||v.J||xf(v.j,v)}function tc(v){ig(v);var V=v.M;V&&"function"==typeof V.ma&&V.ma(),v.M=null,sv(v.U),v.g&&(V=v.g,v.g=null,V.abort(),V.ma())}function Df(v,V){try{var q=v.j;if(0!=q.G&&(q.g==v||fv(q.h,v)))if(!v.K&&fv(q.h,v)&&3==q.G){try{var _e=q.Da.g.parse(V)}catch{_e=null}if(Array.isArray(_e)&&3==_e.length){var wt=_e;if(0==wt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;cg(q),Rf(q)}Cv(q),Es(18)}}else q.za=wt[1],0<q.za-q.T&&37500>wt[2]&&q.F&&0==q.v&&!q.C&&(q.C=Ju(Je(q.Za,q),6e3));if(1>=Ay(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else ad(q,11)}else if((v.K||q.g==v)&&cg(q),!er(V))for(wt=q.Da.g.parse(V),V=0;V<wt.length;V++){let ci=wt[V];if(q.T=ci[0],ci=ci[1],2==q.G)if("c"==ci[0]){q.K=ci[1],q.ia=ci[2];const As=ci[3];null!=As&&(q.la=As,q.j.info("VER="+q.la));const Cs=ci[4];null!=Cs&&(q.Aa=Cs,q.j.info("SVER="+q.Aa));const ud=ci[5];null!=ud&&"number"==typeof ud&&0<ud&&(q.L=_e=1.5*ud,q.j.info("backChannelRequestTimeoutMs_="+_e)),_e=q;const Ea=v.g;if(Ea){const ph=Ea.g?Ea.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ph){var Ht=_e.h;Ht.g||-1==ph.indexOf("spdy")&&-1==ph.indexOf("quic")&&-1==ph.indexOf("h2")||(Ht.j=Ht.l,Ht.g=new Set,Ht.h&&(pv(Ht,Ht.h),Ht.h=null))}if(_e.D){const pg=Ea.g?Ea.g.getResponseHeader("X-HTTP-Session-Id"):null;pg&&(_e.ya=pg,Ki(_e.I,_e.D,pg))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var wn=v;if((_e=q).qa=bv(_e,_e.J?_e.ia:null,_e.W),wn.K){og(_e.h,wn);var Ii=wn,ns=_e.L;ns&&(Ii.I=ns),Ii.B&&(ig(Ii),Cf(Ii)),_e.g=wn}else Fy(_e);0<q.i.length&&ug(q)}else"stop"!=ci[0]&&"close"!=ci[0]||ad(q,7);else 3==q.G&&("stop"==ci[0]||"close"==ci[0]?"stop"==ci[0]?ad(q,7):fh(q):"noop"!=ci[0]&&q.l&&q.l.ta(ci),q.v=0)}rh()}catch{}}ec.prototype.ca=function(v){v=v.target;const V=this.M;V&&3==dl(v)?V.j():this.Y(v)},ec.prototype.Y=function(v){try{if(v==this.g)e:{const Cs=dl(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>Cs)&&(3!=Cs||this.g&&(this.h.h||this.g.oa()||Ev(this.g)))){this.J||4!=Cs||7==V||rh(),ig(this);var q=this.g.Z();this.X=q;t:if(rg(this)){var _e=Ev(this.g);v="";var wt=_e.length,Ht=4==dl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tc(this),lh(this);var wn="";break t}this.h.i=new R.TextDecoder}for(V=0;V<wt;V++)this.h.h=!0,v+=this.h.i.decode(_e[V],{stream:!(Ht&&V==wt-1)});_e.length=0,this.h.g+=v,this.C=0,wn=this.h.g}else wn=this.g.oa();if(this.o=200==q,function MI(v,V,q,_e,wt,Ht,wn){v.info(function(){return"XMLHTTP RESP ("+_e+") [ attempt "+wt+"]: "+V+"\n"+q+"\n"+Ht+" "+wn})}(this.i,this.u,this.A,this.l,this.R,Cs,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Ii,ns=this.g;if((Ii=ns.g?ns.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!er(Ii)){var ci=Ii;break t}}ci=null}if(!(q=ci)){this.o=!1,this.s=3,Es(12),tc(this),lh(this);break e}ih(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Df(this,q)}if(this.P){let Ea;for(q=!0;!this.J&&this.C<wn.length;){if(Ea=NI(this,wn),Ea==_y){4==Cs&&(this.s=4,Es(14),q=!1),ih(this.i,this.l,null,"[Incomplete Response]");break}if(Ea==Af){this.s=4,Es(15),ih(this.i,this.l,wn,"[Invalid Chunk]"),q=!1;break}ih(this.i,this.l,Ea,null),Df(this,Ea)}if(rg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Cs||0!=wn.length||this.h.h||(this.s=1,Es(16),q=!1),this.o=this.o&&q,q){if(0<wn.length&&!this.W){this.W=!0;var As=this.j;As.g==this&&As.ba&&!As.M&&(As.j.info("Great, no buffering proxy detected. Bytes received: "+wn.length),Dv(As),As.M=!0,Es(11))}}else ih(this.i,this.l,wn,"[Invalid Chunked Response]"),tc(this),lh(this)}else ih(this.i,this.l,wn,null),Df(this,wn);4==Cs&&tc(this),this.o&&!this.J&&(4==Cs?xf(this.j,this):(this.o=!1,Cf(this)))}else(function ac(v){const V={};v=(v.g&&2<=dl(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let _e=0;_e<v.length;_e++){if(er(v[_e]))continue;var q=Ct(v[_e]);const wt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Ht=V[wt]||[];V[wt]=Ht,Ht.push(q)}!function _t(v,V){for(const q in v)V.call(void 0,v[q],q,v)}(V,function(_e){return _e.join(", ")})})(this.g),400==q&&0<wn.indexOf("Unknown SID")?(this.s=3,Es(12)):(this.s=0,Es(13)),tc(this),lh(this)}}}catch{}},ec.prototype.cancel=function(){this.J=!0,tc(this)},ec.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function PI(v,V){v.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(rh(),Es(17)),tc(this),this.s=2,lh(this)):yy(this,this.S-v)};var OI=class{constructor(v,V){this.g=v,this.map=V}};function Iy(v){this.l=v||10,v=R.PerformanceNavigationTiming?0<(v=R.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ey(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Ay(v){return v.h?1:v.g?v.g.size:0}function fv(v,V){return v.h?v.h==V:!!v.g&&v.g.has(V)}function pv(v,V){v.g?v.g.add(V):v.h=V}function og(v,V){v.h&&v.h==V?v.h=null:v.g&&v.g.has(V)&&v.g.delete(V)}function Cy(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let V=v.i;for(const q of v.g.values())V=V.concat(q.D);return V}return pn(v.i)}function nc(v,V){if(v.forEach&&"function"==typeof v.forEach)v.forEach(V,void 0);else if(O(v)||"string"==typeof v)Array.prototype.forEach.call(v,V,void 0);else for(var q=function FI(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(O(v)||"string"==typeof v){var V=[];v=v.length;for(var q=0;q<v;q++)V.push(q);return V}V=[],q=0;for(const _e in v)V[q++]=_e;return V}}}(v),_e=function kI(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(O(v)){for(var V=[],q=v.length,_e=0;_e<q;_e++)V.push(v[_e]);return V}for(_e in V=[],q=0,v)V[q++]=v[_e];return V}(v),wt=_e.length,Ht=0;Ht<wt;Ht++)V.call(void 0,_e[Ht],q&&q[Ht],v)}Iy.prototype.cancel=function(){if(this.i=Cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var uh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uu(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof uu){this.h=v.h,du(this,v.j),this.o=v.o,this.g=v.g,Tf(this,v.s),this.l=v.l;var V=v.i,q=new ch;q.i=V.i,V.g&&(q.g=new Map(V.g),q.h=V.h),Dy(this,q),this.m=v.m}else v&&(V=String(v).match(uh))?(this.h=!1,du(this,V[1]||"",!0),this.o=bf(V[2]||""),this.g=bf(V[3]||"",!0),Tf(this,V[4]),this.l=bf(V[5]||"",!0),Dy(this,V[6]||"",!0),this.m=bf(V[7]||"")):(this.h=!1,this.i=new ch(null,this.h))}function cu(v){return new uu(v)}function du(v,V,q){v.j=q?bf(V,!0):V,v.j&&(v.j=v.j.replace(/:$/,""))}function Tf(v,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);v.s=V}else v.s=null}function Dy(v,V,q){V instanceof ch?(v.i=V,function yA(v,V){V&&!v.j&&(rc(v),v.i=null,v.g.forEach(function(q,_e){var wt=_e.toLowerCase();_e!=wt&&(Sy(this,_e),od(this,wt,q))},v)),v.j=V}(v.i,v.h)):(q||(V=wf(V,VI)),v.i=new ch(V,v.h))}function Ki(v,V,q){v.i.set(V,q)}function sg(v){return Ki(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function bf(v,V){return v?V?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function wf(v,V,q){return"string"==typeof v?(v=encodeURI(v).replace(V,Ty),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ty(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}uu.prototype.toString=function(){var v=[],V=this.j;V&&v.push(wf(V,by,!0),":");var q=this.g;return(q||"file"==V)&&(v.push("//"),(V=this.o)&&v.push(wf(V,by,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(wf(q,"/"==q.charAt(0)?ag:wy,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",wf(q,LI)),v.join("")};var by=/[#\/\?@]/g,wy=/[#\?:]/g,ag=/[#\?]/g,VI=/[#\?@]/g,LI=/#/g;function ch(v,V){this.h=this.g=null,this.i=v||null,this.j=!!V}function rc(v){v.g||(v.g=new Map,v.h=0,v.i&&function gv(v,V){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var _e=v[q].indexOf("="),wt=null;if(0<=_e){var Ht=v[q].substring(0,_e);wt=v[q].substring(_e+1)}else Ht=v[q];V(Ht,wt?decodeURIComponent(wt.replace(/\+/g," ")):"")}}}(v.i,function(V,q){v.add(decodeURIComponent(V.replace(/\+/g," ")),q)}))}function Sy(v,V){rc(v),V=Vl(v,V),v.g.has(V)&&(v.i=null,v.h-=v.g.get(V).length,v.g.delete(V))}function ic(v,V){return rc(v),V=Vl(v,V),v.g.has(V)}function od(v,V,q){Sy(v,V),0<q.length&&(v.i=null,v.g.set(Vl(v,V),pn(q)),v.h+=q.length)}function Vl(v,V){return V=String(V),v.j&&(V=V.toLowerCase()),V}function oc(v,V,q,_e,wt){try{wt&&(wt.onload=null,wt.onerror=null,wt.onabort=null,wt.ontimeout=null),_e(q)}catch{}}function My(){this.g=new py}function UI(v,V,q){const _e=q||"";try{nc(v,function(wt,Ht){let wn=wt;K(wt)&&(wn=eg(wt)),V.push(_e+Ht+"="+encodeURIComponent(wn))})}catch(wt){throw V.push(_e+"type="+encodeURIComponent("_badmap")),wt}}function dh(v){this.l=v.Ub||null,this.j=v.eb||!1}function vv(v,V){po.call(this),this.D=v,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Py(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function hu(v){v.readyState=4,v.l=null,v.j=null,v.v=null,sd(v)}function sd(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function xy(v){let V="";return _r(v,function(q,_e){V+=_e,V+=":",V+=q,V+="\r\n"}),V}function _v(v,V,q){e:{for(_e in q){var _e=!1;break e}_e=!0}_e||(q=xy(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):Ki(v,V,q))}function oo(v){po.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=ch.prototype).add=function(v,V){rc(this),this.i=null,v=Vl(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(V),this.h+=1,this},l.forEach=function(v,V){rc(this),this.g.forEach(function(q,_e){q.forEach(function(wt){v.call(V,wt,_e,this)},this)},this)},l.na=function(){rc(this);const v=Array.from(this.g.values()),V=Array.from(this.g.keys()),q=[];for(let _e=0;_e<V.length;_e++){const wt=v[_e];for(let Ht=0;Ht<wt.length;Ht++)q.push(V[_e])}return q},l.V=function(v){rc(this);let V=[];if("string"==typeof v)ic(this,v)&&(V=V.concat(this.g.get(Vl(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)V=V.concat(v[q])}return V},l.set=function(v,V){return rc(this),this.i=null,ic(this,v=Vl(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[V]),this.h+=1,this},l.get=function(v,V){return v&&0<(v=this.V(v)).length?String(v[0]):V},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],V=Array.from(this.g.keys());for(var q=0;q<V.length;q++){var _e=V[q];const Ht=encodeURIComponent(String(_e)),wn=this.V(_e);for(_e=0;_e<wn.length;_e++){var wt=Ht;""!==wn[_e]&&(wt+="="+encodeURIComponent(String(wn[_e]))),v.push(wt)}}return this.i=v.join("&")},tn(dh,av),dh.prototype.g=function(){return new vv(this.l,this.j)},dh.prototype.i=function(v){return function(){return v}}({}),tn(vv,po),(l=vv.prototype).open=function(v,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=V,this.readyState=1,sd(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(V.body=v),(this.D||R).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hu(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Py(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var V=v.value?v.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!v.done}))&&(this.response=this.responseText+=V)}v.done?hu(this):sd(this),3==this.readyState&&Py(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,hu(this))},l.Qa=function(v){this.g&&(this.response=v,hu(this))},l.ga=function(){this.g&&hu(this)},l.setRequestHeader=function(v,V){this.u.append(v,V)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],V=this.h.entries();for(var q=V.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=V.next();return v.join("\r\n")},Object.defineProperty(vv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),tn(oo,po);var yv=/^https?$/i,sc=["POST","PUT"];function Sf(v,V){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=V,v.m=5,Iv(v),lg(v)}function Iv(v){v.A||(v.A=!0,ts(v,"complete"),ts(v,"error"))}function hh(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=dl(v)||2!=v.Z()))if(v.u&&4==dl(v))ov(v.Ea,0,v);else if(ts(v,"readystatechange"),4==dl(v)){v.h=!1;try{const wn=v.Z();e:switch(wn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var q;if(!(q=V)){var _e;if(_e=0===wn){var wt=String(v.D).match(uh)[1]||null;!wt&&R.self&&R.self.location&&(wt=R.self.location.protocol.slice(0,-1)),_e=!yv.test(wt?wt.toLowerCase():"")}q=_e}if(q)ts(v,"complete"),ts(v,"success");else{v.m=6;try{var Ht=2<dl(v)?v.g.statusText:""}catch{Ht=""}v.l=Ht+" ["+v.Z()+"]",Iv(v)}}finally{lg(v)}}}function lg(v,V){if(v.g){Ny(v);const q=v.g,_e=v.v[0]?()=>{}:null;v.g=null,v.v=null,V||ts(v,"ready");try{q.onreadystatechange=_e}catch{}}}function Ny(v){v.I&&(R.clearTimeout(v.I),v.I=null)}function dl(v){return v.g?v.g.readyState:0}function Ev(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function fu(v,V,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||V}function BI(v){this.Aa=0,this.i=[],this.j=new If,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fu("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fu("baseRetryDelayMs",5e3,v),this.cb=fu("retryDelaySeedMs",1e4,v),this.Wa=fu("forwardChannelMaxRetries",2,v),this.wa=fu("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Iy(v&&v.concurrentRequestLimit),this.Da=new My,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function fh(v){if(Av(v),3==v.G){var V=v.U++,q=cu(v.I);if(Ki(q,"SID",v.K),Ki(q,"RID",V),Ki(q,"TYPE","terminate"),Pf(v,q),(V=new ec(v,v.j,V)).L=2,V.v=sg(cu(q)),q=!1,R.navigator&&R.navigator.sendBeacon)try{q=R.navigator.sendBeacon(V.v.toString(),"")}catch{}!q&&R.Image&&((new Image).src=V.v,q=!0),q||(V.g=dg(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Cf(V)}Tv(v)}function Rf(v){v.g&&(Dv(v),v.g.cancel(),v.g=null)}function Av(v){Rf(v),v.u&&(R.clearTimeout(v.u),v.u=null),cg(v),v.h.cancel(),v.s&&("number"==typeof v.s&&R.clearTimeout(v.s),v.s=null)}function ug(v){if(!Ey(v.h)&&!v.s){v.s=!0;var V=v.Ga;Yu||ay(),hf||(Yu(),hf=!0),Yp.add(V,v),v.B=0}}function Oy(v,V){var q;q=V?V.l:v.U++;const _e=cu(v.I);Ki(_e,"SID",v.K),Ki(_e,"RID",q),Ki(_e,"AID",v.T),Pf(v,_e),v.m&&v.o&&_v(_e,v.m,v.o),q=new ec(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),V&&(v.i=V.D.concat(v.i)),V=ky(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),pv(v.h,q),dv(q,_e,V)}function Pf(v,V){v.H&&_r(v.H,function(q,_e){Ki(V,_e,q)}),v.l&&nc({},function(q,_e){Ki(V,_e,q)})}function ky(v,V,q){q=Math.min(v.i.length,q);var _e=v.l?Je(v.l.Na,v.l,v):null;e:{var wt=v.i;let Ht=-1;for(;;){const wn=["count="+q];-1==Ht?0<q?(Ht=wt[0].g,wn.push("ofs="+Ht)):Ht=0:wn.push("ofs="+Ht);let Ii=!0;for(let ns=0;ns<q;ns++){let ci=wt[ns].g;const As=wt[ns].map;if(ci-=Ht,0>ci)Ht=Math.max(0,wt[ns].g-100),Ii=!1;else try{UI(As,wn,"req"+ci+"_")}catch{_e&&_e(As)}}if(Ii){_e=wn.join("&");break e}}}return v=v.i.splice(0,q),V.D=v,_e}function Fy(v){if(!v.g&&!v.u){v.Y=1;var V=v.Fa;Yu||ay(),hf||(Yu(),hf=!0),Yp.add(V,v),v.v=0}}function Cv(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Ju(Je(v.Fa,v),Ly(v,v.v)),v.v++,0))}function Dv(v){null!=v.A&&(R.clearTimeout(v.A),v.A=null)}function Vy(v){v.g=new ec(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var V=cu(v.qa);Ki(V,"RID","rpc"),Ki(V,"SID",v.K),Ki(V,"AID",v.T),Ki(V,"CI",v.F?"0":"1"),!v.F&&v.ja&&Ki(V,"TO",v.ja),Ki(V,"TYPE","xmlhttp"),Pf(v,V),v.m&&v.o&&_v(V,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=sg(cu(V)),q.m=null,q.P=!0,hv(q,v)}function cg(v){null!=v.C&&(R.clearTimeout(v.C),v.C=null)}function xf(v,V){var q=null;if(v.g==V){cg(v),Dv(v),v.g=null;var _e=2}else{if(!fv(v.h,V))return;q=V.D,og(v.h,V),_e=1}if(0!=v.G)if(V.o)if(1==_e){q=V.m?V.m.length:0,V=Date.now()-V.F;var wt=v.B;ts(_e=yf(),new tg(_e,q)),ug(v)}else Fy(v);else if(3==(wt=V.s)||0==wt&&0<V.X||!(1==_e&&function Mf(v,V){return!(Ay(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=V.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Ju(Je(v.Ga,v,V),Ly(v,v.B)),v.B++,0)))}(v,V)||2==_e&&Cv(v)))switch(q&&0<q.length&&(V=v.h,V.i=V.i.concat(q)),wt){case 1:ad(v,5);break;case 4:ad(v,10);break;case 3:ad(v,6);break;default:ad(v,2)}}function Ly(v,V){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*V}function ad(v,V){if(v.j.info("Error code "+V),2==V){var q=Je(v.fb,v),_e=v.Xa;const wt=!_e;_e=new uu(_e||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||du(_e,"https"),sg(_e),wt?function Ry(v,V){const q=new If;if(R.Image){const _e=new Image;_e.onload=Mt(oc,q,"TestLoadImage: loaded",!0,V,_e),_e.onerror=Mt(oc,q,"TestLoadImage: error",!1,V,_e),_e.onabort=Mt(oc,q,"TestLoadImage: abort",!1,V,_e),_e.ontimeout=Mt(oc,q,"TestLoadImage: timeout",!1,V,_e),R.setTimeout(function(){_e.ontimeout&&_e.ontimeout()},1e4),_e.src=v}else V(!1)}(_e.toString(),q):function mv(v,V){new If;const _e=new AbortController,wt=setTimeout(()=>{_e.abort(),oc(0,0,!1,V)},1e4);fetch(v,{signal:_e.signal}).then(Ht=>{clearTimeout(wt),oc(0,0,!!Ht.ok,V)}).catch(()=>{clearTimeout(wt),oc(0,0,!1,V)})}(_e.toString(),q)}else Es(2);v.G=0,v.l&&v.l.sa(V),Tv(v),Av(v)}function Tv(v){if(v.G=0,v.ka=[],v.l){const V=Cy(v.h);(0!=V.length||0!=v.i.length)&&(un(v.ka,V),un(v.ka,v.i),v.h.i.length=0,pn(v.i),v.i.length=0),v.l.ra()}}function bv(v,V,q){var _e=q instanceof uu?cu(q):new uu(q);if(""!=_e.g)V&&(_e.g=V+"."+_e.g),Tf(_e,_e.s);else{var wt=R.location;_e=wt.protocol,V=V?V+"."+wt.hostname:wt.hostname,wt=+wt.port;var Ht=new uu(null);_e&&du(Ht,_e),V&&(Ht.g=V),wt&&Tf(Ht,wt),q&&(Ht.l=q),_e=Ht}return V=v.ya,(q=v.D)&&V&&Ki(_e,q,V),Ki(_e,"VER",v.la),Pf(v,_e),_e}function dg(v,V,q){if(V&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new oo(v.Ca&&!v.pa?new dh({eb:q}):v.pa)).Ha(v.J),V}function wv(){}function hg(){}function sa(v,V){po.call(this),this.g=new BI(V),this.l=v,this.h=V&&V.messageUrlParams||null,v=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(v?v["X-WebChannel-Content-Type"]=V.messageContentType:v={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(v?v["X-WebChannel-Client-Profile"]=V.va:v={"X-WebChannel-Client-Profile":V.va}),this.g.S=v,(v=V&&V.Sb)&&!er(v)&&(this.g.m=v),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!er(V)&&(this.g.D=V,null!==(v=this.h)&&V in v&&V in(v=this.h)&&delete v[V]),this.j=new ld(this)}function fg(v){lv.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var V=v.__sm__;if(V){e:{for(const q in V){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,V=null!==V&&v in V?V[v]:void 0),this.data=V}else this.data=v}function Sv(){uv.call(this),this.status=1}function ld(v){this.g=v}(l=oo.prototype).Ha=function(v){this.J=v},l.ea=function(v,V,q,_e){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);V=V?V.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ng.g(),this.v=function gy(v){return v.h||(v.h=v.i())}(this.o?this.o:ng),this.g.onreadystatechange=Je(this.Ea,this);try{this.B=!0,this.g.open(V,String(v),!0),this.B=!1}catch(Ht){return void Sf(this,Ht)}if(v=q||"",q=new Map(this.headers),_e)if(Object.getPrototypeOf(_e)===Object.prototype)for(var wt in _e)q.set(wt,_e[wt]);else{if("function"!=typeof _e.keys||"function"!=typeof _e.get)throw Error("Unknown input type for opt_headers: "+String(_e));for(const Ht of _e.keys())q.set(Ht,_e.get(Ht))}_e=Array.from(q.keys()).find(Ht=>"content-type"==Ht.toLowerCase()),wt=R.FormData&&v instanceof R.FormData,!(0<=Array.prototype.indexOf.call(sc,V,void 0))||_e||wt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ht,wn]of q)this.g.setRequestHeader(Ht,wn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ny(this),this.u=!0,this.g.send(v),this.u=!1}catch(Ht){Sf(this,Ht)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,ts(this,"complete"),ts(this,"abort"),lg(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lg(this,!0)),oo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?hh(this):this.bb())},l.bb=function(){hh(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<dl(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var V=this.g.responseText;return v&&0==V.indexOf(v)&&(V=V.substring(v.length)),fy(V)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=BI.prototype).la=8,l.G=1,l.connect=function(v,V,q,_e){Es(0),this.W=v,this.H=V||{},q&&void 0!==_e&&(this.H.OSID=q,this.H.OAID=_e),this.F=this.X,this.I=bv(this,null,this.W),ug(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const wt=new ec(this,this.j,v);let Ht=this.o;if(this.S&&(Ht?(Ht=Qe(Ht),Et(Ht,this.S)):Ht=this.S),null!==this.m||this.O||(wt.H=Ht,Ht=null),this.P)e:{for(var V=0,q=0;q<this.i.length;q++){var _e=this.i[q];if(void 0===(_e="__data__"in _e.map&&"string"==typeof(_e=_e.map.__data__)?_e.length:void 0))break;if(4096<(V+=_e)){V=q;break e}if(4096===V||q===this.i.length-1){V=q+1;break e}}V=1e3}else V=1e3;V=ky(this,wt,V),Ki(q=cu(this.I),"RID",v),Ki(q,"CVER",22),this.D&&Ki(q,"X-HTTP-Session-Id",this.D),Pf(this,q),Ht&&(this.O?V="headers="+encodeURIComponent(String(xy(Ht)))+"&"+V:this.m&&_v(q,this.m,Ht)),pv(this.h,wt),this.Ua&&Ki(q,"TYPE","init"),this.P?(Ki(q,"$req",V),Ki(q,"SID","null"),wt.T=!0,dv(wt,q,null)):dv(wt,q,V),this.G=2}}else 3==this.G&&(v?Oy(this,v):0==this.i.length||Ey(this.h)||Oy(this))},l.Fa=function(){if(this.u=null,Vy(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Ju(Je(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Es(10),Rf(this),Vy(this))},l.Za=function(){null!=this.C&&(this.C=null,Rf(this),Cv(this),Es(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Es(2)):(this.j.info("Failed to ping google.com"),Es(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=wv.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},hg.prototype.g=function(v,V){return new sa(v,V)},tn(sa,po),sa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sa.prototype.close=function(){fh(this.g)},sa.prototype.o=function(v){var V=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=eg(v),v=q);V.i.push(new OI(V.Ya++,v)),3==V.G&&ug(V)},sa.prototype.N=function(){this.g.l=null,delete this.j,fh(this.g),delete this.g,sa.aa.N.call(this)},tn(fg,lv),tn(Sv,uv),tn(ld,wv),ld.prototype.ua=function(){ts(this.g,"a")},ld.prototype.ta=function(v){ts(this.g,new fg(v))},ld.prototype.sa=function(v){ts(this.g,new Sv)},ld.prototype.ra=function(){ts(this.g,"b")},hg.prototype.createWebChannel=hg.prototype.g,sa.prototype.send=sa.prototype.o,sa.prototype.open=sa.prototype.m,sa.prototype.close=sa.prototype.close,Xe=an.createWebChannelTransport=function(){return new hg},Ce=an.getStatEventTarget=function(){return yf()},Z=an.Event=id,Ie=an.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oh.NO_ERROR=0,oh.TIMEOUT=8,oh.HTTP_ERROR=6,Ee=an.ErrorCode=oh,sh.COMPLETE="complete",De=an.EventType=sh,my.EventType=lu,lu.OPEN="a",lu.CLOSE="b",lu.ERROR="c",lu.MESSAGE="d",po.prototype.listen=po.prototype.K,Pt=an.WebChannel=my,an.FetchXmlHttpFactory=dh,oo.prototype.listenOnce=oo.prototype.L,oo.prototype.getLastError=oo.prototype.Ka,oo.prototype.getLastErrorCode=oo.prototype.Ba,oo.prototype.getStatus=oo.prototype.Z,oo.prototype.getResponseJson=oo.prototype.Oa,oo.prototype.getResponseText=oo.prototype.oa,oo.prototype.send=oo.prototype.ea,oo.prototype.setWithCredentials=oo.prototype.Ha,Qt=an.XhrIo=oo}).apply(typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{});const je="@firebase/firestore";class Re{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");let et="10.14.0";const rt=new tt.Vy("@firebase/firestore");function Tt(){return rt.logLevel}function at(l,...n){if(rt.logLevel<=tt.$b.DEBUG){const i=n.map(Sn);rt.debug(`Firestore (${et}): ${l}`,...i)}}function rn(l,...n){if(rt.logLevel<=tt.$b.ERROR){const i=n.map(Sn);rt.error(`Firestore (${et}): ${l}`,...i)}}function hn(l,...n){if(rt.logLevel<=tt.$b.WARN){const i=n.map(Sn);rt.warn(`Firestore (${et}): ${l}`,...i)}}function Sn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Nt(l="Unexpected state"){const n=`FIRESTORE (${et}) INTERNAL ASSERTION FAILED: `+l;throw rn(n),new Error(n)}function qt(l,n){l||Nt()}function zt(l,n){return l}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends nt.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rt{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class vt{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class On{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Re.UNAUTHENTICATED))}shutdown(){}}class jn{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Cn{constructor(n){this.t=n,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;qt(void 0===this.o);let u=this.i;const p=K=>this.i!==u?(u=this.i,i(K)):Promise.resolve();let _=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Rt,n.enqueueRetryable(()=>p(this.currentUser))};const R=()=>{const K=_;n.enqueueRetryable((0,pe.A)(function*(){yield K.promise,yield p(s.currentUser)}))},O=K=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(K=>O(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?O(K):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Rt)}},0),R()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt("string"==typeof s.accessToken),new vt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return qt(null===n||"string"==typeof n),new Re(n)}}class gn{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zn{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new gn(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gn{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){qt(void 0===this.o);const s=p=>{null!=p.error&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,at("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(p.token):Promise.resolve()};this.o=p=>{n.enqueueRetryable(()=>s(p))};const u=p=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(qt("string"==typeof i.token),this.R=i.token,new Xn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dr(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class zr{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Dr(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function mn(l,n){return l<n?-1:l>n?1:0}function xr(l,n,i){return l.length===n.length&&l.every((s,u)=>i(s,n[u]))}function Wn(l){return l+"\0"}class ir{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Le(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Le(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Le(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Le(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return ir.fromMillis(Date.now())}static fromDate(n){return ir.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new ir(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?mn(this.nanoseconds,n.nanoseconds):mn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new cn(n)}static min(){return new cn(new ir(0,0))}static max(){return new cn(new ir(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kr{constructor(n,i,s){void 0===i?i=0:i>n.length&&Nt(),void 0===s?s=n.length-i:s>n.length-i&&Nt(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===Kr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Kr?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const p=n.get(u),_=i.get(u);if(p<_)return-1;if(p>_)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class Mn extends Kr{construct(n,i,s){return new Mn(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Le(Me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Mn(i)}static emptyPath(){return new Mn([])}}const qn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Kr{construct(n,i,s){return new Jn(n,i,s)}static isValidIdentifier(n){return qn.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jn(["__name__"])}static fromServerFormat(n){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new Le(Me.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let _=!1;for(;u<n.length;){const R=n[u];if("\\"===R){if(u+1===n.length)throw new Le(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const O=n[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Le(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=O,u+=2}else"`"===R?(_=!_,u++):"."!==R||_?(s+=R,u++):(p(),u++)}if(p(),_)throw new Le(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Jn(i)}static emptyPath(){return new Jn([])}}class Yt{constructor(n){this.path=n}static fromPath(n){return new Yt(Mn.fromString(n))}static fromName(n){return new Yt(Mn.fromString(n).popFirst(5))}static empty(){return new Yt(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===Mn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return Mn.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Yt(new Mn(n.slice()))}}class bt{constructor(n,i,s,u){this.indexId=n,this.collectionGroup=i,this.fields=s,this.indexState=u}}function ut(l){return l.fields.find(n=>2===n.kind)}function xt(l){return l.fields.filter(n=>2!==n.kind)}bt.UNKNOWN_ID=-1;class dt{constructor(n,i){this.fieldPath=n,this.kind=i}}class Ae{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new Ae(0,St.min())}}function Pe(l,n){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=cn.fromTimestamp(1e9===s?new ir(i+1,0):new ir(i,s));return new St(u,Yt.empty(),n)}function Ze(l){return new St(l.readTime,l.key,-1)}class St{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new St(cn.min(),Yt.empty(),-1)}static max(){return new St(cn.max(),Yt.empty(),-1)}}function gt(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=Yt.comparator(l.documentKey,n.documentKey),0!==i?i:mn(l.largestBatchId,n.largestBatchId))}const vn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class En{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function hr(l){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,pe.A)(function*(l){if(l.code!==Me.FAILED_PRECONDITION||l.message!==vn)throw l;at("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class lt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new lt((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof lt?i:lt.resolve(i)}catch(i){return lt.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):lt.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):lt.reject(i)}static resolve(n){return new lt((i,s)=>{i(n)})}static reject(n){return new lt((i,s)=>{s(n)})}static waitFor(n){return new lt((i,s)=>{let u=0,p=0,_=!1;n.forEach(R=>{++u,R.next(()=>{++p,_&&p===u&&i()},O=>s(O))}),_=!0,p===u&&i()})}static or(n){let i=lt.resolve(!1);for(const s of n)i=i.next(u=>u?lt.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(n,i){return new lt((s,u)=>{const p=n.length,_=new Array(p);let R=0;for(let O=0;O<p;O++){const K=O;i(n[K]).next(le=>{_[K]=le,++R,R===p&&s(_)},le=>u(le))}})}static doWhile(n,i){return new lt((s,u)=>{const p=()=>{!0===n()?i().next(()=>{p()},u):s()};p()})}}class gr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new Rt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new bn(n,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=gi(s.target.error);this.V.reject(new bn(n,u))}}static open(n,i,s,u){try{return new gr(i,n.transaction(u,s))}catch(p){throw new bn(i,p)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(at("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new di(i)}}class kn{constructor(n,i,s){this.name=n,this.version=i,this.p=s,12.2===kn.S((0,nt.ZQ)())&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return at("SimpleDb","Removing database:",n),Xr(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,nt.zW)())return!1;if(kn.v())return!0;const n=(0,nt.ZQ)(),i=kn.S(n),s=0<i&&i<10,u=Ur(n),p=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||p)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(n){var i=this;return(0,pe.A)(function*(){return i.db||(at("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=_=>{s(_.target.result)},p.onblocked=()=>{u(new bn(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const R=_.target.error;u("VersionError"===R.name?new Le(Me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Le(Me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new bn(n,R))},p.onupgradeneeded=_=>{at("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,p.transaction,_.oldVersion,i.version).next(()=>{at("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,s,u){var p=this;return(0,pe.A)(function*(){const _="readonly"===i;let R=0;for(;;){++R;try{p.db=yield p.M(n);const O=gr.open(p.db,n,_?"readonly":"readwrite",s),K=u(O).next(le=>(O.g(),le)).catch(le=>(O.abort(le),lt.reject(le))).toPromise();return K.catch(()=>{}),yield O.m,K}catch(O){const K=O,le="FirebaseError"!==K.name&&R<3;if(at("SimpleDb","Transaction failed with error:",K.message,"Retrying:",le),p.close(),!le)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ur(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class $r{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return Xr(this.B.delete())}}class bn extends Le{constructor(n,i){super(Me.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function qr(l){return"IndexedDbTransactionError"===l.name}class di{constructor(n){this.store=n}put(n,i){let s;return void 0!==i?(at("SimpleDb","PUT",this.store.name,n,i),s=this.store.put(i,n)):(at("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),Xr(s)}add(n){return at("SimpleDb","ADD",this.store.name,n,n),Xr(this.store.add(n))}get(n){return Xr(this.store.get(n)).next(i=>(void 0===i&&(i=null),at("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return at("SimpleDb","DELETE",this.store.name,n),Xr(this.store.delete(n))}count(){return at("SimpleDb","COUNT",this.store.name),Xr(this.store.count())}U(n,i){const s=this.options(n,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new lt((_,R)=>{p.onerror=O=>{R(O.target.error)},p.onsuccess=O=>{_(O.target.result)}})}{const p=this.cursor(s),_=[];return this.W(p,(R,O)=>{_.push(O)}).next(()=>_)}}G(n,i){const s=this.store.getAll(n,null===i?void 0:i);return new lt((u,p)=>{s.onerror=_=>{p(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}j(n,i){at("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,i);s.H=!1;const u=this.cursor(s);return this.W(u,(p,_,R)=>R.delete())}J(n,i){let s;i?s=n:(s={},i=n);const u=this.cursor(s);return this.W(u,i)}Y(n){const i=this.cursor({});return new lt((s,u)=>{i.onerror=p=>{const _=gi(p.target.error);u(_)},i.onsuccess=p=>{const _=p.target.result;_?n(_.primaryKey,_.value).next(R=>{R?_.continue():s()}):s()}})}W(n,i){const s=[];return new lt((u,p)=>{n.onerror=_=>{p(_.target.error)},n.onsuccess=_=>{const R=_.target.result;if(!R)return void u();const O=new $r(R),K=i(R.primaryKey,R.value,O);if(K instanceof lt){const le=K.catch(we=>(O.done(),lt.reject(we)));s.push(le)}O.isDone?u():null===O.K?R.continue():R.continue(O.K)}}).next(()=>lt.waitFor(s))}options(n,i){let s;return void 0!==n&&("string"==typeof n?s=n:i=n),{index:s,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const s=this.store.index(n.index);return n.H?s.openKeyCursor(n.range,i):s.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function Xr(l){return new lt((n,i)=>{l.onsuccess=s=>{n(s.target.result)},l.onerror=s=>{const u=gi(s.target.error);i(u)}})}let Ri=!1;function gi(l){const n=kn.S((0,nt.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ri||(Ri=!0,setTimeout(()=>{throw s},0)),s}}return l}class ar{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;at("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,pe.A)(function*(){i.task=null;try{at("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){qr(s)?at("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield hr(s)}yield i.X(6e4)}))}}class ne{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,pe.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,n))})()}te(n,i){const s=new Set;let u=i,p=!0;return lt.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(_=>{if(null!==_&&!s.has(_))return at("IndexBackfiller",`Processing collection: ${_}`),this.ne(n,_,u).next(R=>{u-=R,s.add(_)});p=!1})).next(()=>i-u)}ne(n,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,s).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(n,_).next(()=>this.re(u,p)).next(R=>(at("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(n,i,R))).next(()=>_.size)}))}re(n,i){let s=n;return i.changes.forEach((u,p)=>{const _=Ze(p);gt(_,s)>0&&(s=_)}),new St(s.readTime,s.documentKey,Math.max(i.batchId,n.largestBatchId))}}let G=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function ge(l){return null==l}function X(l){return 0===l&&1/l==-1/0}function Q(l){return"number"==typeof l&&Number.isInteger(l)&&!X(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function ye(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=Bt(n)),n=ft(l.get(i),n);return Bt(n)}function ft(l,n){let i=n;const s=l.length;for(let u=0;u<s;u++){const p=l.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function Bt(l){return l+"\x01\x01"}function Jt(l){const n=l.length;if(qt(n>=2),2===n)return qt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Mn.emptyPath();const i=n-2,s=[];let u="";for(let p=0;p<n;){const _=l.indexOf("\x01",p);switch((_<0||_>i)&&Nt(),l.charAt(_+1)){case"\x01":const R=l.substring(p,_);let O;0===u.length?O=R:(u+=R,O=u,u=""),s.push(O);break;case"\x10":u+=l.substring(p,_),u+="\0";break;case"\x11":u+=l.substring(p,_+1);break;default:Nt()}p=_+2}return new Mn(s)}const Fn=["userId","batchId"];function Dn(l,n){return[l,ye(n)]}function Vn(l,n,i){return[l,ye(n),i]}const ii={},Qn=["prefixPath","collectionGroup","readTime","documentId"],ei=["prefixPath","collectionGroup","documentId"],ai=["collectionGroup","readTime","prefixPath","documentId"],xi=["canonicalId","targetId"],oi=["targetId","path"],ro=["path","targetId"],Ei=["collectionId","parent"],Ni=["indexId","uid"],jo=["uid","sequenceNumber"],Ho=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],eo=["indexId","uid","orderedDocumentKey"],Mi=["userId","collectionPath","documentId"],Do=["userId","collectionPath","largestBatchId"],Ds=["userId","collectionGroup","largestBatchId"],qi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ai=[...qi,"documentOverlays"],Os=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nr=Os,Rr=[...nr,"indexConfiguration","indexState","indexEntries"],Da=Rr,zo=[...Rr,"globals"];class Go extends En{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function jr(l,n){const i=zt(l);return kn.F(i._e,n)}function ss(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function Xi(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function Wo(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class ti{constructor(n,i){this.comparator=n,this.root=i||li.EMPTY}insert(n,i){return new ti(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,li.BLACK,null,null))}remove(n){return new ti(this.comparator,this.root.remove(n,this.comparator).copy(null,null,li.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new hi(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new hi(this.root,n,this.comparator,!1)}getReverseIterator(){return new hi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new hi(this.root,n,this.comparator,!0)}}class hi{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?s(n.key,i):1,i&&u&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class li{constructor(n,i,s,u,p){this.key=n,this.value=i,this.color=null!=s?s:li.RED,this.left=null!=u?u:li.EMPTY,this.right=null!=p?p:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,p){return new li(null!=n?n:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const p=s(n,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return li.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const n=this.left.check();if(n!==this.right.check())throw Nt();return n+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,i,s,u,p){return this}insert(n,i,s){return new li(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fr{constructor(n){this.comparator=n,this.data=new ti(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ts(this.data.getIterator())}getIteratorFrom(n){return new Ts(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Fr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Fr(this.comparator);return i.data=n,i}}class Ts{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qi(l){return l.hasNext()?l.getNext():void 0}class Nr{constructor(n){this.fields=n,n.sort(Jn.comparator)}static empty(){return new Nr([])}unionWith(n){let i=new Fr(Jn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new Nr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return xr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class To extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ni{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new To("Invalid base64 string: "+p):p}}(n);return new ni(i)}static fromUint8Array(n){const i=function(u){let p="";for(let _=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(n);return new ni(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return mn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const P=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function E(l){if(qt(!!l),"string"==typeof l){let n=0;const i=P.exec(l);if(qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:M(l.seconds),nanos:M(l.nanos)}}function M(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function C(l){return"string"==typeof l?ni.fromBase64String(l):ni.fromUint8Array(l)}function U(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ee(l){const n=l.mapValue.fields.__previous_value__;return U(n)?ee(n):n}function He(l){const n=E(l.mapValue.fields.__local_write_time__.timestampValue);return new ir(n.seconds,n.nanos)}class Vt{constructor(n,i,s,u,p,_,R,O,K){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=R,this.longPollingOptions=O,this.useFetchStreams=K}}class mt{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new mt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof mt&&n.projectId===this.projectId&&n.database===this.database}}const Lt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wt={nullValue:"NULL_VALUE"};function ln(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?U(l)?4:ks(l)?9007199254740991:as(l)?10:11:Nt()}function _n(l,n){if(l===n)return!0;const i=ln(l);if(i!==ln(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return He(l).isEqual(He(n));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const _=E(u.timestampValue),R=E(p.timestampValue);return _.seconds===R.seconds&&_.nanos===R.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return p=n,C(l.bytesValue).isEqual(C(p.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(u,p){return M(u.geoPointValue.latitude)===M(p.geoPointValue.latitude)&&M(u.geoPointValue.longitude)===M(p.geoPointValue.longitude)}(l,n);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return M(u.integerValue)===M(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const _=M(u.doubleValue),R=M(p.doubleValue);return _===R?X(_)===X(R):isNaN(_)&&isNaN(R)}return!1}(l,n);case 9:return xr(l.arrayValue.values||[],n.arrayValue.values||[],_n);case 10:case 11:return function(u,p){const _=u.mapValue.fields||{},R=p.mapValue.fields||{};if(ss(_)!==ss(R))return!1;for(const O in _)if(_.hasOwnProperty(O)&&(void 0===R[O]||!_n(_[O],R[O])))return!1;return!0}(l,n);default:return Nt()}var p}function Nn(l,n){return void 0!==(l.values||[]).find(i=>_n(i,n))}function Rn(l,n){if(l===n)return 0;const i=ln(l),s=ln(n);if(i!==s)return mn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return mn(l.booleanValue,n.booleanValue);case 2:return function(p,_){const R=M(p.integerValue||p.doubleValue),O=M(_.integerValue||_.doubleValue);return R<O?-1:R>O?1:R===O?0:isNaN(R)?isNaN(O)?0:-1:1}(l,n);case 3:return Or(l.timestampValue,n.timestampValue);case 4:return Or(He(l),He(n));case 5:return mn(l.stringValue,n.stringValue);case 6:return function(p,_){const R=C(p),O=C(_);return R.compareTo(O)}(l.bytesValue,n.bytesValue);case 7:return function(p,_){const R=p.split("/"),O=_.split("/");for(let K=0;K<R.length&&K<O.length;K++){const le=mn(R[K],O[K]);if(0!==le)return le}return mn(R.length,O.length)}(l.referenceValue,n.referenceValue);case 8:return function(p,_){const R=mn(M(p.latitude),M(_.latitude));return 0!==R?R:mn(M(p.longitude),M(_.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return Qr(l.arrayValue,n.arrayValue);case 10:return function(p,_){var R,O,K,le;const Mt=null===(R=(p.fields||{}).value)||void 0===R?void 0:R.arrayValue,tn=null===(O=(_.fields||{}).value)||void 0===O?void 0:O.arrayValue,pn=mn((null===(K=null==Mt?void 0:Mt.values)||void 0===K?void 0:K.length)||0,(null===(le=null==tn?void 0:tn.values)||void 0===le?void 0:le.length)||0);return 0!==pn?pn:Qr(Mt,tn)}(l.mapValue,n.mapValue);case 11:return function(p,_){if(p===Lt.mapValue&&_===Lt.mapValue)return 0;if(p===Lt.mapValue)return 1;if(_===Lt.mapValue)return-1;const R=p.fields||{},O=Object.keys(R),K=_.fields||{},le=Object.keys(K);O.sort(),le.sort();for(let we=0;we<O.length&&we<le.length;++we){const Je=mn(O[we],le[we]);if(0!==Je)return Je;const Mt=Rn(R[O[we]],K[le[we]]);if(0!==Mt)return Mt}return mn(O.length,le.length)}(l.mapValue,n.mapValue);default:throw Nt()}}function Or(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return mn(l,n);const i=E(l),s=E(n),u=mn(i.seconds,s.seconds);return 0!==u?u:mn(i.nanos,s.nanos)}function Qr(l,n){const i=l.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=Rn(i[u],s[u]);if(p)return p}return mn(i.length,s.length)}function Gr(l){return Hr(l)}function Hr(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=E(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?C(l.bytesValue).toBase64():"referenceValue"in l?Yt.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=Hr(p);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const _ of s)p?p=!1:u+=",",u+=`${_}:${Hr(i.fields[_])}`;return u+"}"}(l.mapValue):Nt()}function vi(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function _i(l){return!!l&&"integerValue"in l}function Oi(l){return!!l&&"arrayValue"in l}function to(l){return!!l&&"nullValue"in l}function so(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function wo(l){return!!l&&"mapValue"in l}function as(l){var n,i;return"__vector__"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function uo(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Xi(l.mapValue.fields,(i,s)=>n.mapValue.fields[i]=uo(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=uo(l.arrayValue.values[i]);return n}return Object.assign({},l)}function ks(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const Fs={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bs(l){return"nullValue"in l?Wt:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?vi(mt.empty(),Yt.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?as(l)?Fs:{mapValue:{}}:Nt()}function Ci(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?vi(mt.empty(),Yt.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?Fs:"mapValue"in l?as(l)?{mapValue:{}}:Lt:Nt()}function ls(l,n){const i=Rn(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function Ko(l,n){const i=Rn(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class Yi{constructor(n){this.value=n}static empty(){return new Yi({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!wo(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=uo(i)}setAll(n){let i=Jn.emptyPath(),s={},u=[];n.forEach((_,R)=>{if(!i.isImmediateParentOf(R)){const O=this.getFieldsMap(i);this.applyChanges(O,s,u),s={},u=[],i=R.popLast()}_?s[R.lastSegment()]=uo(_):u.push(R.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(n){const i=this.field(n.popLast());wo(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return _n(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];wo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){Xi(i,(u,p)=>n[u]=p);for(const u of s)delete n[u]}clone(){return new Yi(uo(this.value))}}function la(l){const n=[];return Xi(l.fields,(i,s)=>{const u=new Jn([i]);if(wo(s)){const p=la(s.mapValue).fields;if(0===p.length)n.push(u);else for(const _ of p)n.push(u.child(_))}else n.push(u)}),new Nr(n)}class Mr{constructor(n,i,s,u,p,_,R){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=_,this.documentState=R}static newInvalidDocument(n){return new Mr(n,0,cn.min(),cn.min(),cn.min(),Yi.empty(),0)}static newFoundDocument(n,i,s,u){return new Mr(n,1,i,cn.min(),s,u,0)}static newNoDocument(n,i){return new Mr(n,2,i,cn.min(),cn.min(),Yi.empty(),0)}static newUnknownDocument(n,i){return new Mr(n,3,i,cn.min(),cn.min(),Yi.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Mr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lr{constructor(n,i){this.position=n,this.inclusive=i}}function So(l,n,i){let s=0;for(let u=0;u<l.position.length;u++){const p=n[u],_=l.position[u];if(s=p.field.isKeyField()?Yt.comparator(Yt.fromName(_.referenceValue),i.key):Rn(_,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function qo(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!_n(l.position[i],n.position[i]))return!1;return!0}class Ro{constructor(n,i="asc"){this.field=n,this.dir=i}}function Vs(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class us{}class Kn extends us{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new x(n,i,s):"array-contains"===i?new en(n,s):"in"===i?new Hn(n,s):"not-in"===i?new Di(n,s):"array-contains-any"===i?new co(n,s):new Kn(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new te(n,s):new $(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Rn(i,this.value)):null!==i&&ln(this.value)===ln(i)&&this.matchesComparison(Rn(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends us{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Cr(n,i)}matches(n){return Ls(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ls(l){return"and"===l.op}function ws(l){return"or"===l.op}function Us(l){return Wa(l)&&Ls(l)}function Wa(l){for(const n of l.filters)if(n instanceof Cr)return!1;return!0}function Bs(l){if(l instanceof Kn)return l.field.canonicalString()+l.op.toString()+Gr(l.value);if(Us(l))return l.filters.map(n=>Bs(n)).join(",");{const n=l.filters.map(i=>Bs(i)).join(",");return`${l.op}(${n})`}}function Ta(l,n){return l instanceof Kn?(s=l,(u=n)instanceof Kn&&s.op===u.op&&s.field.isEqual(u.field)&&_n(s.value,u.value)):l instanceof Cr?function(s,u){return u instanceof Cr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,_,R)=>p&&Ta(_,u.filters[R]),!0)}(l,n):void Nt();var s,u}function $s(l,n){const i=l.filters.concat(n);return Cr.create(i,l.op)}function H(l){return l instanceof Kn?`${(i=l).field.canonicalString()} ${i.op} ${Gr(i.value)}`:l instanceof Cr?function(i){return i.op.toString()+" {"+i.getFilters().map(H).join(" ,")+"}"}(l):"Filter";var i}class x extends Kn{constructor(n,i,s){super(n,i,s),this.key=Yt.fromName(s.referenceValue)}matches(n){const i=Yt.comparator(n.key,this.key);return this.matchesComparison(i)}}class te extends Kn{constructor(n,i){super(n,"in",i),this.keys=ce(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class $ extends Kn{constructor(n,i){super(n,"not-in",i),this.keys=ce(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function ce(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Yt.fromName(s.referenceValue))}class en extends Kn{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Oi(i)&&Nn(i.arrayValue,this.value)}}class Hn extends Kn{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Nn(this.value.arrayValue,i)}}class Di extends Kn{constructor(n,i){super(n,"not-in",i)}matches(n){if(Nn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Nn(this.value.arrayValue,i)}}class co extends Kn{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Oi(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Nn(this.value.arrayValue,s))}}class ua{constructor(n,i=null,s=[],u=[],p=null,_=null,R=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=_,this.endAt=R,this.ue=null}}function ca(l,n=null,i=[],s=[],u=null,p=null,_=null){return new ua(l,n,i,s,u,p,_)}function Ss(l){const n=zt(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Bs(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),ge(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Gr(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Gr(s)).join(",")),n.ue=i}return n.ue}function js(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!Vs(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!Ta(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!qo(l.startAt,n.startAt)&&qo(l.endAt,n.endAt)}function ba(l){return Yt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function wa(l,n){return l.filters.filter(i=>i instanceof Kn&&i.field.isEqual(n))}function cs(l,n,i){let s=Wt,u=!0;for(const p of wa(l,n)){let _=Wt,R=!0;switch(p.op){case"<":case"<=":_=bs(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,R=!1;break;case"!=":case"not-in":_=Wt}ls({value:s,inclusive:u},{value:_,inclusive:R})<0&&(s=_,u=R)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(n)){const _=i.position[p];ls({value:s,inclusive:u},{value:_,inclusive:i.inclusive})<0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}function Xo(l,n,i){let s=Lt,u=!0;for(const p of wa(l,n)){let _=Lt,R=!0;switch(p.op){case">=":case">":_=Ci(p.value),R=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,R=!1;break;case"!=":case"not-in":_=Lt}Ko({value:s,inclusive:u},{value:_,inclusive:R})>0&&(s=_,u=R)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(n)){const _=i.position[p];Ko({value:s,inclusive:u},{value:_,inclusive:i.inclusive})>0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}class Rs{constructor(n,i=null,s=[],u=[],p=null,_="F",R=null,O=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=_,this.startAt=R,this.endAt=O,this.ce=null,this.le=null,this.he=null}}function da(l,n,i,s,u,p,_,R){return new Rs(l,n,i,s,u,p,_,R)}function ds(l){return new Rs(l)}function Sa(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Hs(l){return null!==l.collectionGroup}function fr(l){const n=zt(l);if(null===n.ce){n.ce=[];const i=new Set;for(const p of n.explicitOrderBy)n.ce.push(p),i.add(p.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(_){let R=new Fr(Jn.comparator);return _.filters.forEach(O=>{O.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(n).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||n.ce.push(new Ro(p,s))}),i.has(Jn.keyField().canonicalString())||n.ce.push(new Ro(Jn.keyField(),s))}return n.ce}function Lr(l){const n=zt(l);return n.le||(n.le=function go(l,n){if("F"===l.limitType)return ca(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(u=>new Ro(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new lr(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new lr(l.startAt.position,l.startAt.inclusive):null;return ca(l.path,l.collectionGroup,n,l.filters,l.limit,i,s)}}(n,fr(l))),n.le}function Hi(l,n){const i=l.filters.concat([n]);return new Rs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function ha(l,n,i){return new Rs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function fa(l,n){return js(Lr(l),Lr(n))&&l.limitType===n.limitType}function Mo(l){return`${Ss(Lr(l))}|lt:${l.limitType}`}function Ms(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>H(u)).join(", ")}]`),ge(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Gr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Gr(u)).join(",")),`Target(${s})`}(Lr(l))}; limitType=${l.limitType})`}function Ra(l,n){return n.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):Yt.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(l,n)&&function(s,u){for(const p of fr(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(l,n)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(l,n)&&(u=n,!((s=l).startAt&&!function(_,R,O){const K=So(_,R,O);return _.inclusive?K<=0:K<0}(s.startAt,fr(s),u)||s.endAt&&!function(_,R,O){const K=So(_,R,O);return _.inclusive?K>=0:K>0}(s.endAt,fr(s),u)));var s,u}function pl(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Ul(l){return(n,i)=>{let s=!1;for(const u of fr(l)){const p=mu(u,n,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function mu(l,n,i){const s=l.field.isKeyField()?Yt.comparator(n.key,i.key):function(p,_,R){const O=_.data.field(p),K=R.data.field(p);return null!==O&&null!==K?Rn(O,K):Nt()}(l.field,n,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Nt()}}class Qo{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],n))return void(u[p]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Xi(this.inner,(i,s)=>{for(const[u,p]of s)n(u,p)})}isEmpty(){return Wo(this.inner)}size(){return this.innerSize}}const Bl=new ti(Yt.comparator);function Po(){return Bl}const pa=new ti(Yt.comparator);function gl(...l){let n=pa;for(const i of l)n=n.insert(i.key,i);return n}function Ka(l){let n=pa;return l.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function mo(){return xo()}function $l(){return xo()}function xo(){return new Qo(l=>l.toString(),(l,n)=>l.isEqual(n))}const vu=new ti(Yt.comparator),qa=new Fr(Yt.comparator);function mr(...l){let n=qa;for(const i of l)n=n.add(i);return n}const _u=new Fr(mn);function Ma(){return _u}function zs(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X(n)?"-0":n}}function No(l){return{integerValue:""+l}}function vo(l,n){return Q(n)?No(n):zs(l,n)}class Pa{constructor(){this._=void 0}}function ml(l,n,i){return l instanceof Yo?function(u,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&U(p)&&(p=ee(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(i,n):l instanceof Zo?yu(l,n):l instanceof ao?Gs(l,n):function(u,p){const _=vl(u,p),R=jl(_)+jl(u.Pe);return _i(_)&&_i(u.Pe)?No(R):zs(u.serializer,R)}(l,n)}function Xa(l,n,i){return l instanceof Zo?yu(l,n):l instanceof ao?Gs(l,n):i}function vl(l,n){return l instanceof xa?_i(s=n)||(p=s)&&"doubleValue"in p?n:{integerValue:0}:null;var s,p}class Yo extends Pa{}class Zo extends Pa{constructor(n){super(),this.elements=n}}function yu(l,n){const i=b(n);for(const s of l.elements)i.some(u=>_n(u,s))||i.push(s);return{arrayValue:{values:i}}}class ao extends Pa{constructor(n){super(),this.elements=n}}function Gs(l,n){let i=b(n);for(const s of l.elements)i=i.filter(u=>!_n(u,s));return{arrayValue:{values:i}}}class xa extends Pa{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function jl(l){return M(l.integerValue||l.doubleValue)}function b(l){return Oi(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class j{constructor(n,i){this.field=n,this.transform=i}}class B{constructor(n,i){this.version=n,this.transformResults=i}}class re{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new re}static exists(n){return new re(void 0,n)}static updateTime(n){return new re(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function ke(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class Ft{}function on(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new sn(l.key,re.none()):new Zr(l.key,l.data,re.none());{const i=l.data,s=Yi.empty();let u=new Fr(Jn.comparator);for(let p of n.fields)if(!u.has(p)){let _=i.field(p);null===_&&p.length>1&&(p=p.popLast(),_=i.field(p)),null===_?s.delete(p):s.set(p,_),u=u.add(p)}return new kr(l.key,s,new Nr(u.toArray()),re.none())}}function rr(l,n,i){l instanceof Zr?function(u,p,_){const R=u.value.clone(),O=mi(u.fieldTransforms,p,_.transformResults);R.setAll(O),p.convertToFoundDocument(_.version,R).setHasCommittedMutations()}(l,n,i):l instanceof kr?function(u,p,_){if(!ke(u.precondition,p))return void p.convertToUnknownDocument(_.version);const R=mi(u.fieldTransforms,p,_.transformResults),O=p.data;O.setAll(Ti(u)),O.setAll(R),p.convertToFoundDocument(_.version,O).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Pr(l,n,i,s){return l instanceof Zr?function(p,_,R,O){if(!ke(p.precondition,_))return R;const K=p.value.clone(),le=br(p.fieldTransforms,O,_);return K.setAll(le),_.convertToFoundDocument(_.version,K).setHasLocalMutations(),null}(l,n,i,s):l instanceof kr?function(p,_,R,O){if(!ke(p.precondition,_))return R;const K=br(p.fieldTransforms,O,_),le=_.data;return le.setAll(Ti(p)),le.setAll(K),_.convertToFoundDocument(_.version,le).setHasLocalMutations(),null===R?null:R.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(we=>we.field))}(l,n,i,s):(R=i,ke(l.precondition,_=n)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):R);var _,R}function Br(l,n){let i=null;for(const s of l.fieldTransforms){const u=n.data.field(s.field),p=vl(s.transform,u||null);null!=p&&(null===i&&(i=Yi.empty()),i.set(s.field,p))}return i||null}function Tr(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&xr(s,u,(p,_)=>function Te(l,n){return l.field.isEqual(n.field)&&(u=n.transform,(s=l.transform)instanceof Zo&&u instanceof Zo||s instanceof ao&&u instanceof ao?xr(s.elements,u.elements,_n):s instanceof xa&&u instanceof xa?_n(s.Pe,u.Pe):s instanceof Yo&&u instanceof Yo);var s,u}(p,_))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var s,u}class Zr extends Ft{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class kr extends Ft{constructor(n,i,s,u,p=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Ti(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);n.set(i,s)}}),n}function mi(l,n,i){const s=new Map;qt(l.length===i.length);for(let u=0;u<i.length;u++){const p=l[u],_=p.transform,R=n.data.field(p.field);s.set(p.field,Xa(_,R,i[u]))}return s}function br(l,n,i){const s=new Map;for(const u of l){const p=u.transform,_=i.data.field(u.field);s.set(u.field,ml(p,_,n))}return s}class sn extends Ft{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ln extends Ft{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fi{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(n.key)&&rr(p,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Pr(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Pr(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=$l();return this.mutations.forEach(u=>{const p=n.get(u.key),_=p.overlayedDocument;let R=this.applyToLocalView(_,p.mutatedFields);R=i.has(u.key)?null:R;const O=on(_,R);null!==O&&s.set(u.key,O),_.isValidDocument()||_.convertToNoDocument(cn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),mr())}isEqual(n){return this.batchId===n.batchId&&xr(this.mutations,n.mutations,(i,s)=>Tr(i,s))&&xr(this.baseMutations,n.baseMutations,(i,s)=>Tr(i,s))}}class Fi{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){qt(n.mutations.length===s.length);let u=function(){return vu}();const p=n.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,s[_].version);return new Fi(n,i,s,u)}}class pi{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ws{constructor(n,i){this.count=n,this.unchangedNames=i}}var pr,Yn;function hs(l){switch(l){default:return Nt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function or(l){if(void 0===l)return rn("GRPC error has no .code"),Me.UNKNOWN;switch(l){case pr.OK:return Me.OK;case pr.CANCELLED:return Me.CANCELLED;case pr.UNKNOWN:return Me.UNKNOWN;case pr.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case pr.INTERNAL:return Me.INTERNAL;case pr.UNAVAILABLE:return Me.UNAVAILABLE;case pr.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case pr.NOT_FOUND:return Me.NOT_FOUND;case pr.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case pr.ABORTED:return Me.ABORTED;case pr.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case pr.DATA_LOSS:return Me.DATA_LOSS;default:return Nt()}}(Yn=pr||(pr={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";function fs(){return new TextEncoder}const _l=new xe([4294967295,4294967295],0);function Pi(l){const n=fs().encode(l),i=new kt;return i.update(n),new Uint8Array(i.digest())}function qs(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),p=n.getUint32(12,!0);return[new xe([i,s],0),new xe([u,p],0)]}class yl{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Vi(`Invalid padding: ${i}`);if(s<0)throw new Vi(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Vi(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Vi(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=xe.fromNumber(this.Ie)}Ee(n,i,s){let u=n.add(i.multiply(xe.fromNumber(s)));return 1===u.compare(_l)&&(u=new xe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Pi(n),[s,u]=qs(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);if(!this.de(_))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,p=new Uint8Array(Math.ceil(n/8)),_=new yl(p,u,i);return s.forEach(R=>_.insert(R)),_}insert(n){if(0===this.Ie)return;const i=Pi(n),[s,u]=qs(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);this.Ae(_)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Vi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ps{constructor(n,i,s,u,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,Na.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Ps(cn.min(),u,new ti(mn),Po(),mr())}}class Na{constructor(n,i,s,u,p){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new Na(s,i,mr(),mr(),mr())}}class _o{constructor(n,i,s,u){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=u}}class Il{constructor(n,i){this.targetId=n,this.me=i}}class si{constructor(n,i,s=ni.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class zn{constructor(){this.fe=0,this.ge=ps(),this.pe=ni.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=mr(),i=mr(),s=mr();return this.ge.forEach((u,p)=>{switch(p){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Nt()}}),new Na(this.pe,this.ye,n,i,s)}Ce(){this.we=!1,this.ge=ps()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hl{constructor(n){this.Le=n,this.Be=new Map,this.ke=Po(),this.qe=zl(),this.Qe=new ti(mn)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const s=this.Ge(i);switch(n.state){case 0:this.ze(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(n.resumeToken));break;default:Nt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,s=n.me.count,u=this.Je(i);if(u){const p=u.target;if(ba(p))if(0===s){const _=new Yt(p.path);this.Ue(i,_,Mr.newNoDocument(_,cn.min()))}else qt(1===s);else{const _=this.Ye(i);if(_!==s){const R=this.Ze(n),O=R?this.Xe(R,n,_):1;0!==O&&(this.je(i),this.Qe=this.Qe.insert(i,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let _,R;try{_=C(s).toUint8Array()}catch(O){if(O instanceof To)return hn("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw O}try{R=new yl(_,u,p)}catch(O){return hn(O instanceof Vi?"BloomFilter error: ":"Applying bloom filter failed: ",O),null}return 0===R.Ie?null:R}Xe(n,i,s){return i.me.count===s-this.nt(n,i.targetId)?0:2}nt(n,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const _=this.Le.tt(),R=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;n.mightContain(R)||(this.Ue(i,p,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((p,_)=>{const R=this.Je(_);if(R){if(p.current&&ba(R.target)){const O=new Yt(R.target.path);null!==this.ke.get(O)||this.it(_,O)||this.Ue(_,O,Mr.newNoDocument(O,n))}p.be&&(i.set(_,p.ve()),p.Ce())}});let s=mr();this.qe.forEach((p,_)=>{let R=!0;_.forEachWhile(O=>{const K=this.Je(O);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(s=s.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(n));const u=new Ps(n,i,this.Qe,this.ke,s);return this.ke=Po(),this.qe=zl(),this.Qe=new ti(mn),u}$e(n,i){if(!this.ze(n))return;const s=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,s){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new zn,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new Fr(mn),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||at("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new zn),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function zl(){return new ti(Yt.comparator)}function ps(){return new ti(Yt.comparator)}const hc={asc:"ASCENDING",desc:"DESCENDING"},El={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Li={and:"AND",or:"OR"};class fc{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function yi(l,n){return l.useProto3Json||ge(n)?n:{value:n}}function Ui(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Oa(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function Xs(l,n){return Ui(l,n.toTimestamp())}function bi(l){return qt(!!l),cn.fromTimestamp(function(i){const s=E(i);return new ir(s.seconds,s.nanos)}(l))}function yo(l,n){return ka(l,n).canonicalString()}function ka(l,n){const i=(u=l,new Mn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function Gl(l){const n=Mn.fromString(l);return qt(ko(n)),n}function Al(l,n){return yo(l.databaseId,n.path)}function Oo(l,n){const i=Gl(n);if(i.get(1)!==l.databaseId.projectId)throw new Le(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new Le(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new Yt(Lg(i))}function pc(l,n){return yo(l.databaseId,n)}function _h(l){const n=Gl(l);return 4===n.length?Mn.emptyPath():Lg(n)}function Iu(l){return new Mn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Lg(l){return qt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Wl(l,n,i){return{name:Al(l,n),fields:i.value.mapValue.fields}}function Bf(l,n,i){const s=Oo(l,n.name),u=bi(n.updateTime),p=n.createTime?bi(n.createTime):cn.min(),_=new Yi({mapValue:{fields:n.fields}}),R=Mr.newFoundDocument(s,u,p,_);return i&&R.setHasCommittedMutations(),i?R.setHasCommittedMutations():R}function N(l,n){let i;if(n instanceof Zr)i={update:Wl(l,n.key,n.value)};else if(n instanceof sn)i={delete:Al(l,n.key)};else if(n instanceof kr)i={update:Wl(l,n.key,n.data),updateMask:ga(n.fieldMask)};else{if(!(n instanceof Ln))return Nt();i={verify:Al(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(p,_){const R=_.transform;if(R instanceof Yo)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Zo)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof ao)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof xa)return{fieldPath:_.field.canonicalString(),increment:R.Pe};throw Nt()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(p=n.precondition).updateTime?{updateTime:Xs(l,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Nt()),i;var p}function w(l,n){const i=n.currentDocument?void 0!==(p=n.currentDocument).updateTime?re.updateTime(bi(p.updateTime)):void 0!==p.exists?re.exists(p.exists):re.none():re.none(),s=n.updateTransforms?n.updateTransforms.map(u=>function(_,R){let O=null;"setToServerValue"in R?(qt("REQUEST_TIME"===R.setToServerValue),O=new Yo):"appendMissingElements"in R?O=new Zo(R.appendMissingElements.values||[]):"removeAllFromArray"in R?O=new ao(R.removeAllFromArray.values||[]):"increment"in R?O=new xa(_,R.increment):Nt();const K=Jn.fromServerFormat(R.fieldPath);return new j(K,O)}(l,u)):[];var p;if(n.update){const u=Oo(l,n.update.name),p=new Yi({mapValue:{fields:n.update.fields}});if(n.updateMask){const _=new Nr((n.updateMask.fieldPaths||[]).map(le=>Jn.fromServerFormat(le)));return new kr(u,p,_,i,s)}return new Zr(u,p,i,s)}if(n.delete){const u=Oo(l,n.delete);return new sn(u,i)}if(n.verify){const u=Oo(l,n.verify);return new Ln(u,i)}return Nt()}function ae(l,n){return{documents:[pc(l,n.path)]}}function de(l,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=pc(l,u);const p=function(K){if(0!==K.length)return Io(Cr.create(K,"and"))}(n.filters);p&&(i.structuredQuery.where=p);const _=function(K){if(0!==K.length)return K.map(le=>{return{field:ui((Je=le).field),direction:cr(Je.dir)};var Je})}(n.orderBy);_&&(i.structuredQuery.orderBy=_);const R=yi(l,n.limit);return null!==R&&(i.structuredQuery.limit=R),n.startAt&&(i.structuredQuery.startAt={before:(K=n.startAt).inclusive,values:K.position}),n.endAt&&(i.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(n.endAt)),{_t:i,parent:u};var K}function Xt(l){let n=_h(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){qt(1===s);const le=i.from[0];le.allDescendants?u=le.collectionId:n=n.child(le.collectionId)}let p=[];i.where&&(p=function(we){const Je=An(we);return Je instanceof Cr&&Us(Je)?Je.getFilters():[Je]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(Je=>{return new Ro(no((tn=Je).field),function(un){switch(un){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tn.direction));var tn}));let R=null;i.limit&&(R=function(we){let Je;return Je="object"==typeof we?we.value:we,ge(Je)?null:Je}(i.limit));let O=null;var we;i.startAt&&(O=new lr((we=i.startAt).values||[],!!we.before));let K=null;return i.endAt&&(K=function(we){return new lr(we.values||[],!we.before)}(i.endAt)),da(n,u,_,p,R,"F",O,K)}function An(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=no(i.unaryFilter.field);return Kn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=no(i.unaryFilter.field);return Kn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=no(i.unaryFilter.field);return Kn.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=no(i.unaryFilter.field);return Kn.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(l):void 0!==l.fieldFilter?Kn.create(no((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return Cr.create(i.compositeFilter.filters.map(s=>An(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Nt()}}(i.compositeFilter.op))}(l):Nt();var i}function cr(l){return hc[l]}function ri(l){return El[l]}function yr(l){return Li[l]}function ui(l){return{fieldPath:l.canonicalString()}}function no(l){return Jn.fromServerFormat(l.fieldPath)}function Io(l){return l instanceof Kn?function(i){if("=="===i.op){if(so(i.value))return{unaryFilter:{field:ui(i.field),op:"IS_NAN"}};if(to(i.value))return{unaryFilter:{field:ui(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(so(i.value))return{unaryFilter:{field:ui(i.field),op:"IS_NOT_NAN"}};if(to(i.value))return{unaryFilter:{field:ui(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ui(i.field),op:ri(i.op),value:i.value}}}(l):l instanceof Cr?function(i){const s=i.getFilters().map(u=>Io(u));return 1===s.length?s[0]:{compositeFilter:{op:yr(i.op),filters:s}}}(l):Nt()}function ga(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function ko(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Fo{constructor(n,i,s,u,p=cn.min(),_=cn.min(),R=ni.EMPTY_BYTE_STRING,O=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=R,this.expectedCount=O}withSequenceNumber(n){return new Fo(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Eu{constructor(n){this.ct=n}}function gc(l,n){const i=n.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:ma(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())s.document={name:Al(p=l.ct,(_=n).key),fields:_.data.value.mapValue.fields,updateTime:Ui(p,_.version.toTimestamp()),createTime:Ui(p,_.createTime.toTimestamp())};else if(n.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:Qs(n.version)};else{if(!n.isUnknownDocument())return Nt();s.unknownDocument={path:i.path.toArray(),version:Qs(n.version)}}var p,_;return s}function ma(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function Qs(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function Qa(l){const n=new ir(l.seconds,l.nanoseconds);return cn.fromTimestamp(n)}function Vo(l,n){const i=(n.baseMutations||[]).map(p=>w(l.ct,p));for(let p=0;p<n.mutations.length-1;++p)p+1<n.mutations.length&&void 0!==n.mutations[p+1].transform&&(n.mutations[p].updateTransforms=n.mutations[p+1].transform.fieldTransforms,n.mutations.splice(p+1,1),++p);const s=n.mutations.map(p=>w(l.ct,p)),u=ir.fromMillis(n.localWriteTimeMs);return new fi(n.batchId,u,i,s)}function Dl(l){const n=Qa(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?Qa(l.lastLimboFreeSnapshotVersion):cn.min();let s;return s=void 0!==l.query.documents?(qt(1===(p=l.query).documents.length),Lr(ds(_h(p.documents[0])))):function(p){return Lr(Xt(p))}(l.query),new Fo(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,ni.fromBase64String(l.resumeToken));var p}function Kl(l,n){const i=Qs(n.snapshotVersion),s=Qs(n.lastLimboFreeSnapshotVersion);let u;u=ba(n.target)?ae(l.ct,n.target):de(l.ct,n.target)._t;const p=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:Ss(n.target),readTime:i,resumeToken:p,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Vr(l){const n=Xt({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?ha(n,n.limit,"L"):n}function ql(l,n){return new pi(n.largestBatchId,w(l.ct,n.overlayMutation))}function Au(l,n){const i=n.path.lastSegment();return[l,ye(n.path.popLast()),i]}function Lo(l,n,i,s){return{indexId:l,uid:n,sequenceNumber:i,readTime:Qs(s.readTime),documentKey:ye(s.documentKey.path),largestBatchId:s.largestBatchId}}class Ug{getBundleMetadata(n,i){return Tl(n).get(i).next(s=>{if(s)return{id:(p=s).bundleId,createTime:Qa(p.createTime),version:p.version};var p})}saveBundleMetadata(n,i){return Tl(n).put({bundleId:(u=i).id,createTime:Qs(bi(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return Ya(n).get(i).next(s=>{if(s)return{name:(p=s).name,query:Vr(p.bundledQuery),readTime:Qa(p.readTime)};var p})}saveNamedQuery(n,i){return Ya(n).put({name:(u=i).name,readTime:Qs(bi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Tl(l){return jr(l,"bundles")}function Ya(l){return jr(l,"namedQueries")}class Uo{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Uo(n,i.uid||"")}getOverlay(n,i){return mc(n).get(Au(this.userId,i)).next(s=>s?ql(this.serializer,s):null)}getOverlays(n,i){const s=mo();return lt.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){const u=[];return s.forEach((p,_)=>{const R=new pi(i,_);u.push(this.ht(n,R))}),lt.waitFor(u)}removeOverlaysForBatchId(n,i,s){const u=new Set;i.forEach(_=>u.add(ye(_.getCollectionPath())));const p=[];return u.forEach(_=>{const R=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);p.push(mc(n).j("collectionPathOverlayIndex",R))}),lt.waitFor(p)}getOverlaysForCollection(n,i,s){const u=mo(),p=ye(i),_=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return mc(n).U("collectionPathOverlayIndex",_).next(R=>{for(const O of R){const K=ql(this.serializer,O);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(n,i,s,u){const p=mo();let _;const R=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return mc(n).J({index:"collectionGroupOverlayIndex",range:R},(O,K,le)=>{const we=ql(this.serializer,K);p.size()<u||we.largestBatchId===_?(p.set(we.getKey(),we),_=we.largestBatchId):le.done()}).next(()=>p)}ht(n,i){return mc(n).put(function(u,p,_){const[R,O,K]=Au(p,_.mutation.key);return{userId:p,collectionPath:O,documentId:K,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:N(u.ct,_.mutation)}}(this.serializer,this.userId,i))}}function mc(l){return jr(l,"documentOverlays")}class vc{Pt(n){return jr(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?ni.fromUint8Array(s):ni.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class Xl{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(M(n.integerValue));else if("doubleValue"in n){const s=M(n.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),X(s)?i.At(0):i.At(s))}else if("timestampValue"in n){let s=n.timestampValue;this.dt(i,20),"string"==typeof s&&(s=E(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(C(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in n?ks(n)?this.dt(i,Number.MAX_SAFE_INTEGER):as(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):Nt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const s=n.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(n,i){var s,u;const p=n.fields||{};this.dt(i,53);const _="value",R=(null===(u=null===(s=p[_].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(M(R)),this.Vt(_,i),this.Tt(p[_],i)}bt(n,i){const s=n.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(n,i){this.dt(i,37),Yt.fromName(n).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function gs(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function yh(l){const n=64-function(s){let u=0;for(let p=0;p<8;++p){const _=gs(255&s[p]);if(u+=_,8!==_)break}return u}(l);return Math.ceil(n/8)}Xl.vt=new Xl;class cd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),s=yh(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),s=yh(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(n),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class dd{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class hd{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class va{constructor(){this.jt=new cd,this.Ht=new dd(this.jt),this.Jt=new hd(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Fa{constructor(n,i,s,u){this.indexId=n,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==n?s.set([0],this.directionalValue.length):++s[s.length-1],new Fa(this.indexId,this.documentKey,this.arrayValue,s)}}function _a(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=Cu(l.arrayValue,n.arrayValue),0!==i?i:(i=Cu(l.directionalValue,n.directionalValue),0!==i?i:Yt.comparator(l.documentKey,n.documentKey)))}function Cu(l,n){for(let i=0;i<l.length&&i<n.length;++i){const s=l[i]-n[i];if(0!==s)return s}return l.length-n.length}class Ys{constructor(n){this.Xt=new Fr((i,s)=>Jn.comparator(i.field,s.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(n){if(qt(n.collectionGroup===this.collectionId),this.nn)return!1;const i=ut(n);if(void 0!==i&&!this.sn(i))return!1;const s=xt(n);let u=new Set,p=0,_=0;for(;p<s.length&&this.sn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!u.has(R.field.canonicalString())){const O=s[p];if(!this.on(R,O)||!this._n(this.en[_++],O))return!1}++p}for(;p<s.length;++p)if(_>=this.en.length||!this._n(this.en[_++],s[p]))return!1;return!0}an(){if(this.nn)return null;let n=new Fr(Jn.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new dt(s.field,2));else{if(n.has(s.field))continue;n=n.add(s.field),i.push(new dt(s.field,0))}for(const s of this.en)s.field.isKeyField()||n.has(s.field)||(n=n.add(s.field),i.push(new dt(s.field,"asc"===s.dir?0:1)));return new bt(bt.UNKNOWN_ID,this.collectionId,i,Ae.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function dr(l){var n,i;if(qt(l instanceof Kn||l instanceof Cr),l instanceof Kn){if(l instanceof Hn){const u=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(p=>Kn.create(l.field,"==",p)))||[];return Cr.create(u,"or")}return l}const s=l.filters.map(u=>dr(u));return Cr.create(s,l.op)}function fd(l){if(0===l.getFilters().length)return[];const n=Ih(dr(l));return qt($f(n)),Ql(n)||_c(n)?[n]:n.getFilters()}function Ql(l){return l instanceof Kn}function _c(l){return l instanceof Cr&&Us(l)}function $f(l){return Ql(l)||_c(l)||function(i){if(i instanceof Cr&&ws(i)){for(const s of i.getFilters())if(!Ql(s)&&!_c(s))return!1;return!0}return!1}(l)}function Ih(l){if(qt(l instanceof Kn||l instanceof Cr),l instanceof Kn)return l;if(1===l.filters.length)return Ih(l.filters[0]);const n=l.filters.map(s=>Ih(s));let i=Cr.create(n,l.op);return i=yc(i),$f(i)?i:(qt(i instanceof Cr),qt(Ls(i)),qt(i.filters.length>1),i.filters.reduce((s,u)=>Eh(s,u)))}function Eh(l,n){let i;return qt(l instanceof Kn||l instanceof Cr),qt(n instanceof Kn||n instanceof Cr),i=l instanceof Kn?n instanceof Kn?Cr.create([l,n],"and"):pd(l,n):n instanceof Kn?pd(n,l):function(u,p){if(qt(u.filters.length>0&&p.filters.length>0),Ls(u)&&Ls(p))return $s(u,p.getFilters());const _=ws(u)?u:p,R=ws(u)?p:u,O=_.filters.map(K=>Eh(K,R));return Cr.create(O,"or")}(l,n),yc(i)}function pd(l,n){if(Ls(n))return $s(n,l.getFilters());{const i=n.filters.map(s=>Eh(l,s));return Cr.create(i,"or")}}function yc(l){if(qt(l instanceof Kn||l instanceof Cr),l instanceof Kn)return l;const n=l.getFilters();if(1===n.length)return yc(n[0]);if(Wa(l))return l;const i=n.map(u=>yc(u)),s=[];return i.forEach(u=>{u instanceof Kn?s.push(u):u instanceof Cr&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Cr.create(s,l.op)}class Yl{constructor(){this.un=new Ic}addToCollectionParentIndex(n,i){return this.un.add(i),lt.resolve()}getCollectionParents(n,i){return lt.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return lt.resolve()}deleteFieldIndex(n,i){return lt.resolve()}deleteAllFieldIndexes(n){return lt.resolve()}createTargetIndexes(n,i){return lt.resolve()}getDocumentsMatchingTarget(n,i){return lt.resolve(null)}getIndexType(n,i){return lt.resolve(0)}getFieldIndexes(n,i){return lt.resolve([])}getNextCollectionGroupToUpdate(n){return lt.resolve(null)}getMinOffset(n,i){return lt.resolve(St.min())}getMinOffsetFromCollectionGroup(n,i){return lt.resolve(St.min())}updateCollectionGroup(n,i,s){return lt.resolve()}updateIndexEntries(n,i){return lt.resolve()}}class Ic{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Fr(Mn.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Fr(Mn.comparator)).toArray()}}const gd=new Uint8Array(0);class Bg{constructor(n,i){this.databaseId=i,this.cn=new Ic,this.ln=new Qo(s=>Ss(s),(s,u)=>js(s,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const p={collectionId:s,parent:ye(u)};return md(n).put(p)}return lt.resolve()}getCollectionParents(n,i){const s=[],u=IDBKeyRange.bound([i,""],[Wn(i),""],!1,!0);return md(n).U(u).next(p=>{for(const _ of p){if(_.collectionId!==i)break;s.push(Jt(_.parent))}return s})}addFieldIndex(n,i){const s=jt(n),u={indexId:(R=i).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var R;delete u.indexId;const p=s.add(u);if(i.indexState){const _=vr(n);return p.next(R=>{_.put(Lo(R,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return p.next()}deleteFieldIndex(n,i){const s=jt(n),u=vr(n),p=Du(n);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=jt(n),s=Du(n),u=vr(n);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(n,i){return lt.forEach(this.hn(i),s=>this.getIndexType(n,s).next(u=>{if(0===u||1===u){const p=new Ys(s).an();if(null!=p)return this.addFieldIndex(n,p)}}))}getDocumentsMatchingTarget(n,i){const s=Du(n);let u=!0;const p=new Map;return lt.forEach(this.hn(i),_=>this.Pn(n,_).next(R=>{u&&(u=!!R),p.set(_,R)})).next(()=>{if(u){let _=mr();const R=[];return lt.forEach(p,(O,K)=>{var $n;at("IndexedDbIndexManager",`Using index ${$n=O,`id=${$n.indexId}|cg=${$n.collectionGroup}|f=${$n.fields.map(sr=>`${sr.fieldPath}:${sr.kind}`).join(",")}`} to execute ${Ss(i)}`);const le=function($n,sr){const Jr=ut(sr);if(void 0===Jr)return null;for(const _r of wa($n,Jr.fieldPath))switch(_r.op){case"array-contains-any":return _r.value.arrayValue.values||[];case"array-contains":return[_r.value]}return null}(K,O),we=function($n,sr){const Jr=new Map;for(const _r of xt(sr))for(const _t of wa($n,_r.fieldPath))switch(_t.op){case"==":case"in":Jr.set(_r.fieldPath.canonicalString(),_t.value);break;case"not-in":case"!=":return Jr.set(_r.fieldPath.canonicalString(),_t.value),Array.from(Jr.values())}return null}(K,O),Je=function($n,sr){const Jr=[];let _r=!0;for(const _t of xt(sr)){const Qe=0===_t.kind?cs($n,_t.fieldPath,$n.startAt):Xo($n,_t.fieldPath,$n.startAt);Jr.push(Qe.value),_r&&(_r=Qe.inclusive)}return new lr(Jr,_r)}(K,O),Mt=function($n,sr){const Jr=[];let _r=!0;for(const _t of xt(sr)){const Qe=0===_t.kind?Xo($n,_t.fieldPath,$n.endAt):cs($n,_t.fieldPath,$n.endAt);Jr.push(Qe.value),_r&&(_r=Qe.inclusive)}return new lr(Jr,_r)}(K,O),tn=this.In(O,K,Je),pn=this.In(O,K,Mt),un=this.Tn(O,K,we),Bn=this.En(O.indexId,le,tn,Je.inclusive,pn,Mt.inclusive,un);return lt.forEach(Bn,er=>s.G(er,i.limit).next($n=>{$n.forEach(sr=>{const Jr=Yt.fromSegments(sr.documentKey);_.has(Jr)||(_=_.add(Jr),R.push(Jr))})}))}).next(()=>R)}return lt.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:fd(Cr.create(n.filters,"and")).map(s=>ca(n.path,n.collectionGroup,n.orderBy,s.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,s,u,p,_,R){const O=(null!=i?i.length:1)*Math.max(s.length,p.length),K=O/(null!=i?i.length:1),le=[];for(let we=0;we<O;++we){const Je=i?this.dn(i[we/K]):gd,Mt=this.An(n,Je,s[we%K],u),tn=this.Rn(n,Je,p[we%K],_),pn=R.map(un=>this.An(n,Je,un,!0));le.push(...this.createRange(Mt,tn,pn))}return le}An(n,i,s,u){const p=new Fa(n,Yt.empty(),i,s);return u?p:p.Zt()}Rn(n,i,s,u){const p=new Fa(n,Yt.empty(),i,s);return u?p.Zt():p}Pn(n,i){const s=new Ys(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(p=>{let _=null;for(const R of p)s.rn(R)&&(!_||R.fields.length>_.fields.length)&&(_=R);return _})}getIndexType(n,i){let s=2;const u=this.hn(i);return lt.forEach(u,p=>this.Pn(n,p).next(_=>{_?0!==s&&_.fields.length<function(O){let K=new Fr(Jn.comparator),le=!1;for(const we of O.filters)for(const Je of we.getFlattenedFilters())Je.field.isKeyField()||("array-contains"===Je.op||"array-contains-any"===Je.op?le=!0:K=K.add(Je.field));for(const we of O.orderBy)we.field.isKeyField()||(K=K.add(we.field));return K.size+(le?1:0)}(p)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(n,i){const s=new va;for(const u of xt(n)){const p=i.data.field(u.fieldPath);if(null==p)return null;const _=s.Yt(u.kind);Xl.vt.It(p,_)}return s.zt()}dn(n){const i=new va;return Xl.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const s=new va;return Xl.vt.It(vi(this.databaseId,i),s.Yt(function(p){const _=xt(p);return 0===_.length?0:_[_.length-1].kind}(n))),s.zt()}Tn(n,i,s){if(null===s)return[];let u=[];u.push(new va);let p=0;for(const _ of xt(n)){const R=s[p++];for(const O of u)if(this.fn(i,_.fieldPath)&&Oi(R))u=this.gn(u,_,R);else{const K=O.Yt(_.kind);Xl.vt.It(R,K)}}return this.pn(u)}In(n,i,s){return this.Tn(n,i,s.position)}pn(n){const i=[];for(let s=0;s<n.length;++s)i[s]=n[s].zt();return i}gn(n,i,s){const u=[...n],p=[];for(const _ of s.arrayValue.values||[])for(const R of u){const O=new va;O.seed(R.zt()),Xl.vt.It(_,O.Yt(i.kind)),p.push(O)}return p}fn(n,i){return!!n.filters.find(s=>s instanceof Kn&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(n,i){const s=jt(n),u=vr(n);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(p=>{const _=[];return lt.forEach(p,R=>u.get([R.indexId,this.uid]).next(O=>{_.push(function(le,we){const Je=we?new Ae(we.sequenceNumber,new St(Qa(we.readTime),new Yt(Jt(we.documentKey)),we.largestBatchId)):Ae.empty(),Mt=le.fields.map(([tn,pn])=>new dt(Jn.fromServerFormat(tn),pn));return new bt(le.indexId,le.collectionGroup,Mt,Je)}(R,O))})).next(()=>_)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:mn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,s){const u=jt(n),p=vr(n);return this.yn(n).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(R=>lt.forEach(R,O=>p.put(Lo(O.indexId,this.uid,_,s)))))}updateIndexEntries(n,i){const s=new Map;return lt.forEach(i,(u,p)=>{const _=s.get(u.collectionGroup);return(_?lt.resolve(_):this.getFieldIndexes(n,u.collectionGroup)).next(R=>(s.set(u.collectionGroup,R),lt.forEach(R,O=>this.wn(n,u,O).next(K=>{const le=this.Sn(p,O);return K.isEqual(le)?lt.resolve():this.bn(n,p,O,K,le)}))))})}Dn(n,i,s,u){return Du(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(n,i,s,u){return Du(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(n,i,s){const u=Du(n);let p=new Fr(_a);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(_,R)=>{p=p.add(new Fa(s.indexId,i,R.arrayValue,R.directionalValue))}).next(()=>p)}Sn(n,i){let s=new Fr(_a);const u=this.Vn(i,n);if(null==u)return s;const p=ut(i);if(null!=p){const _=n.data.field(p.fieldPath);if(Oi(_))for(const R of _.arrayValue.values||[])s=s.add(new Fa(i.indexId,n.key,this.dn(R),u))}else s=s.add(new Fa(i.indexId,n.key,gd,u));return s}bn(n,i,s,u,p){at("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(O,K,le,we,Je){const Mt=O.getIterator(),tn=K.getIterator();let pn=Qi(Mt),un=Qi(tn);for(;pn||un;){let Bn=!1,er=!1;if(pn&&un){const $n=le(pn,un);$n<0?er=!0:$n>0&&(Bn=!0)}else null!=pn?er=!0:Bn=!0;Bn?(we(un),un=Qi(tn)):er?(Je(pn),pn=Qi(Mt)):(pn=Qi(Mt),un=Qi(tn))}}(u,p,_a,R=>{_.push(this.Dn(n,i,s,R))},R=>{_.push(this.vn(n,i,s,R))}),lt.waitFor(_)}yn(n){let i=1;return vr(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,s){s=s.sort((_,R)=>_a(_,R)).filter((_,R,O)=>!R||0!==_a(_,O[R-1]));const u=[];u.push(n);for(const _ of s){const R=_a(_,n),O=_a(_,i);if(0===R)u[0]=n.Zt();else if(R>0&&O<0)u.push(_),u.push(_.Zt());else if(O>0)break}u.push(i);const p=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,gd,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,gd,[]]))}return p}Cn(n,i){return _a(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(Ec)}getMinOffset(n,i){return lt.mapArray(this.hn(i),s=>this.Pn(n,s).next(u=>u||Nt())).next(Ec)}}function md(l){return jr(l,"collectionParents")}function Du(l){return jr(l,"indexEntries")}function jt(l){return jr(l,"indexConfiguration")}function vr(l){return jr(l,"indexState")}function Ec(l){qt(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;gt(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new St(n.readTime,n.documentKey,i)}const vd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ar{constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Ar(n,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ah(l,n,i){const s=l.store("mutations"),u=l.store("documentMutations"),p=[],_=IDBKeyRange.only(i.batchId);let R=0;const O=s.J({range:_},(le,we,Je)=>(R++,Je.delete()));p.push(O.next(()=>{qt(1===R)}));const K=[];for(const le of i.mutations){const we=Vn(n,le.key.path,i.batchId);p.push(u.delete(we)),K.push(le.key)}return lt.waitFor(p).next(()=>K)}function Za(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw Nt();n=l.noDocument}return JSON.stringify(n).length}Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(41943040,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);class Jo{constructor(n,i,s,u){this.userId=n,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(n,i,s,u){qt(""!==n.uid);const p=n.isAuthenticated()?n.uid:"";return new Jo(p,i,s,u)}checkEmpty(n){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Va(n).J({index:"userMutationsIndex",range:s},(u,p,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(n,i,s,u){const p=bl(n),_=Va(n);return _.add({}).next(R=>{qt("number"==typeof R);const O=new fi(R,i,s,u),K=function(Mt,tn,pn){const un=pn.baseMutations.map(er=>N(Mt.ct,er)),Bn=pn.mutations.map(er=>N(Mt.ct,er));return{userId:tn,batchId:pn.batchId,localWriteTimeMs:pn.localWriteTime.toMillis(),baseMutations:un,mutations:Bn}}(this.serializer,this.userId,O),le=[];let we=new Fr((Je,Mt)=>mn(Je.canonicalString(),Mt.canonicalString()));for(const Je of u){const Mt=Vn(this.userId,Je.key.path,R);we=we.add(Je.key.path.popLast()),le.push(_.put(K)),le.push(p.put(Mt,ii))}return we.forEach(Je=>{le.push(this.indexManager.addToCollectionParentIndex(n,Je))}),n.addOnCommittedListener(()=>{this.Fn[R]=O.keys()}),lt.waitFor(le).next(()=>O)})}lookupMutationBatch(n,i){return Va(n).get(i).next(s=>s?(qt(s.userId===this.userId),Vo(this.serializer,s)):null)}Mn(n,i){return this.Fn[i]?lt.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Va(n).J({index:"userMutationsIndex",range:u},(_,R,O)=>{R.userId===this.userId&&(qt(R.batchId>=s),p=Vo(this.serializer,R)),O.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Va(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,p,_)=>{s=p.batchId,_.done()}).next(()=>s)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Va(n).U("userMutationsIndex",i).next(s=>s.map(u=>Vo(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const s=Dn(this.userId,i.path),u=IDBKeyRange.lowerBound(s),p=[];return bl(n).J({range:u},(_,R,O)=>{const[K,le,we]=_,Je=Jt(le);if(K===this.userId&&i.path.isEqual(Je))return Va(n).get(we).next(Mt=>{if(!Mt)throw Nt();qt(Mt.userId===this.userId),p.push(Vo(this.serializer,Mt))});O.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Fr(mn);const u=[];return i.forEach(p=>{const _=Dn(this.userId,p.path),R=IDBKeyRange.lowerBound(_),O=bl(n).J({range:R},(K,le,we)=>{const[Je,Mt,tn]=K,pn=Jt(Mt);Je===this.userId&&p.path.isEqual(pn)?s=s.add(tn):we.done()});u.push(O)}),lt.waitFor(u).next(()=>this.xn(n,s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1,p=Dn(this.userId,s),_=IDBKeyRange.lowerBound(p);let R=new Fr(mn);return bl(n).J({range:_},(O,K,le)=>{const[we,Je,Mt]=O,tn=Jt(Je);we===this.userId&&s.isPrefixOf(tn)?tn.length===u&&(R=R.add(Mt)):le.done()}).next(()=>this.xn(n,R))}xn(n,i){const s=[],u=[];return i.forEach(p=>{u.push(Va(n).get(p).next(_=>{if(null===_)throw Nt();qt(_.userId===this.userId),s.push(Vo(this.serializer,_))}))}),lt.waitFor(u).next(()=>s)}removeMutationBatch(n,i){return Ah(n._e,this.userId,i).next(s=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),lt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return lt.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return bl(n).J({range:s},(p,_,R)=>{if(p[0]===this.userId){const O=Jt(p[1]);u.push(O)}else R.done()}).next(()=>{qt(0===u.length)})})}containsKey(n,i){return Ac(n,this.userId,i)}Nn(n){return Ch(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ac(l,n,i){const s=Dn(n,i.path),u=s[1],p=IDBKeyRange.lowerBound(s);let _=!1;return bl(l).J({range:p,H:!0},(R,O,K)=>{const[le,we,Je]=R;le===n&&we===u&&(_=!0),K.done()}).next(()=>_)}function Va(l){return jr(l,"mutations")}function bl(l){return jr(l,"documentMutations")}function Ch(l){return jr(l,"mutationQueues")}class Tu{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new Tu(0)}static kn(){return new Tu(-1)}}class jf{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const s=new Tu(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>cn.fromTimestamp(new ir(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,s){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(n,s))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>Zl(n).delete(i.targetId)).next(()=>this.qn(n)).next(s=>(qt(s.targetCount>0),s.targetCount-=1,this.Qn(n,s)))}removeTargets(n,i,s){let u=0;const p=[];return Zl(n).J((_,R)=>{const O=Dl(R);O.sequenceNumber<=i&&null===s.get(O.targetId)&&(u++,p.push(this.removeTargetData(n,O)))}).next(()=>lt.waitFor(p)).next(()=>u)}forEachTarget(n,i){return Zl(n).J((s,u)=>{const p=Dl(u);i(p)})}qn(n){return Cc(n).get("targetGlobalKey").next(i=>(qt(null!==i),i))}Qn(n,i){return Cc(n).put("targetGlobalKey",i)}Kn(n,i){return Zl(n).put(Kl(this.serializer,i))}$n(n,i){let s=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,s=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const s=Ss(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return Zl(n).J({range:u,index:"queryTargetsIndex"},(_,R,O)=>{const K=Dl(R);js(i,K.target)&&(p=K,O.done())}).next(()=>p)}addMatchingKeys(n,i,s){const u=[],p=Ji(n);return i.forEach(_=>{const R=ye(_.path);u.push(p.put({targetId:s,path:R})),u.push(this.referenceDelegate.addReference(n,s,_))}),lt.waitFor(u)}removeMatchingKeys(n,i,s){const u=Ji(n);return lt.forEach(i,p=>{const _=ye(p.path);return lt.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(n,s,p)])})}removeMatchingKeysForTargetId(n,i){const s=Ji(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(n,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=Ji(n);let p=mr();return u.J({range:s,H:!0},(_,R,O)=>{const K=Jt(_[1]),le=new Yt(K);p=p.add(le)}).next(()=>p)}containsKey(n,i){const s=ye(i.path),u=IDBKeyRange.bound([s],[Wn(s)],!1,!0);let p=0;return Ji(n).J({index:"documentTargetsIndex",H:!0,range:u},([_,R],O,K)=>{0!==_&&(p++,K.done())}).next(()=>p>0)}ot(n,i){return Zl(n).get(i).next(s=>s?Dl(s):null)}}function Zl(l){return jr(l,"targets")}function Cc(l){return jr(l,"targetGlobal")}function Ji(l){return jr(l,"targetDocuments")}function La([l,n],[i,s]){const u=mn(l,i);return 0===u?mn(n,s):u}class Dh{constructor(n){this.Un=n,this.buffer=new Fr(La),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();La(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Zs{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;at("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,pe.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){qr(s)?at("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield hr(s)}yield i.Hn(3e5)}))}}class Js{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return lt.resolve(G.oe);const s=new Dh(i);return this.Jn.forEachTarget(n,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.Jn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(vd)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vd):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let s,u,p,_,R,O,K;const le=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),u=this.params.maximumSequenceNumbersToCollect):u=we,_=Date.now(),this.nthSequenceNumber(n,u))).next(we=>(s=we,R=Date.now(),this.removeTargets(n,s,i))).next(we=>(p=we,O=Date.now(),this.removeOrphanedDocuments(n,s))).next(we=>(K=Date.now(),Tt()<=tt.$b.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-le}ms\n\tDetermined least recently used ${u} in `+(R-_)+`ms\n\tRemoved ${p} targets in `+(O-R)+`ms\n\tRemoved ${we} documents in `+(K-O)+`ms\nTotal Duration: ${K-le}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:we})))}}class zf{constructor(n,i){this.db=n,this.garbageCollector=function Hf(l,n){return new Js(l,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}er(n){let i=0;return this.Zn(n,s=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(s,u)=>i(u))}addReference(n,i,s){return _d(n,s)}removeReference(n,i,s){return _d(n,s)}removeTargets(n,i,s){return this.db.getTargetCache().removeTargets(n,i,s)}markPotentiallyOrphaned(n,i){return _d(n,i)}nr(n,i){return function(u,p){let _=!1;return Ch(u).Y(R=>Ac(u,R,p).next(O=>(O&&(_=!0),lt.resolve(!O)))).next(()=>_)}(n,i)}removeOrphanedDocuments(n,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.tr(n,(_,R)=>{if(R<=i){const O=this.nr(n,_).next(K=>{if(!K)return p++,s.getEntry(n,_).next(()=>(s.removeEntry(_,cn.min()),Ji(n).delete([0,ye(_.path)])))});u.push(O)}}).next(()=>lt.waitFor(u)).next(()=>s.apply(n)).next(()=>p)}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,i){return _d(n,i)}tr(n,i){const s=Ji(n);let u,p=G.oe;return s.J({index:"documentTargetsIndex"},([_,R],{path:O,sequenceNumber:K})=>{0===_?(p!==G.oe&&i(new Yt(Jt(u)),p),p=K,u=O):p=G.oe}).next(()=>{p!==G.oe&&i(new Yt(Jt(u)),p)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function _d(l,n){return Ji(l).put((u=l.currentSequenceNumber,{targetId:0,path:ye(n.path),sequenceNumber:u}));var u}class Gf{constructor(){this.changes=new Qo(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,Mr.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?lt.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Th{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,s){return Ja(n).put(s)}removeEntry(n,i,s){return Ja(n).delete(function(p,_){const R=p.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],ma(_),R[R.length-1]]}(i,s))}updateMetadata(n,i){return this.getMetadata(n).next(s=>(s.byteSize+=i,this.rr(n,s)))}getEntry(n,i){let s=Mr.newInvalidDocument(i);return Ja(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(bu(i))},(u,p)=>{s=this.ir(i,p)}).next(()=>s)}sr(n,i){let s={size:0,document:Mr.newInvalidDocument(i)};return Ja(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(bu(i))},(u,p)=>{s={document:this.ir(i,p),size:Za(p)}}).next(()=>s)}getEntries(n,i){let s=Po();return this._r(n,i,(u,p)=>{const _=this.ir(u,p);s=s.insert(u,_)}).next(()=>s)}ar(n,i){let s=Po(),u=new ti(Yt.comparator);return this._r(n,i,(p,_)=>{const R=this.ir(p,_);s=s.insert(p,R),u=u.insert(p,Za(_))}).next(()=>({documents:s,ur:u}))}_r(n,i,s){if(i.isEmpty())return lt.resolve();let u=new Fr(wh);i.forEach(O=>u=u.add(O));const p=IDBKeyRange.bound(bu(u.first()),bu(u.last())),_=u.getIterator();let R=_.getNext();return Ja(n).J({index:"documentKeyIndex",range:p},(O,K,le)=>{const we=Yt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&wh(R,we)<0;)s(R,null),R=_.getNext();R&&R.isEqual(we)&&(s(R,K),R=_.hasNext()?_.getNext():null),R?le.$(bu(R)):le.done()}).next(()=>{for(;R;)s(R,null),R=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(n,i,s,u,p){const _=i.path,R=[_.popLast().toArray(),_.lastSegment(),ma(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],O=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ja(n).U(IDBKeyRange.bound(R,O,!0)).next(K=>{null==p||p.incrementDocumentReadCount(K.length);let le=Po();for(const we of K){const Je=this.ir(Yt.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);Je.isFoundDocument()&&(Ra(i,Je)||u.has(Je.key))&&(le=le.insert(Je.key,Je))}return le})}getAllFromCollectionGroup(n,i,s,u){let p=Po();const _=Id(i,s),R=Id(i,St.max());return Ja(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,R,!0)},(O,K,le)=>{const we=this.ir(Yt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);p=p.insert(we.key,we),p.size===u&&le.done()}).next(()=>p)}newChangeBuffer(n){return new bh(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return Dc(n).get("remoteDocumentGlobalKey").next(i=>(qt(!!i),i))}rr(n,i){return Dc(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const s=function Cl(l,n){let i;if(n.document)i=Bf(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const s=Yt.fromSegments(n.noDocument.path),u=Qa(n.noDocument.readTime);i=Mr.newNoDocument(s,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Nt();{const s=Yt.fromSegments(n.unknownDocument.path),u=Qa(n.unknownDocument.version);i=Mr.newUnknownDocument(s,u)}}return n.readTime&&i.setReadTime(function(u){const p=new ir(u[0],u[1]);return cn.fromTimestamp(p)}(n.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(cn.min()))return s}return Mr.newInvalidDocument(n)}}function yd(l){return new Th(l)}class bh extends Gf{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Qo(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(n){const i=[];let s=0,u=new Fr((p,_)=>mn(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const R=this.lr.get(p);if(i.push(this.cr.removeEntry(n,p,R.readTime)),_.isValidDocument()){const O=gc(this.cr.serializer,_);u=u.add(p.path.popLast());const K=Za(O);s+=K-R.size,i.push(this.cr.addEntry(n,p,O))}else if(s-=R.size,this.trackRemovals){const O=gc(this.cr.serializer,_.convertToNoDocument(cn.min()));i.push(this.cr.addEntry(n,p,O))}}),u.forEach(p=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,p))}),i.push(this.cr.updateMetadata(n,s)),lt.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:s,ur:u})=>(u.forEach((p,_)=>{this.lr.set(p,{size:_,readTime:s.get(p).readTime})}),s))}}function Dc(l){return jr(l,"remoteDocumentGlobal")}function Ja(l){return jr(l,"remoteDocumentsV14")}function bu(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Id(l,n){const i=n.documentKey.path.toArray();return[l,ma(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function wh(l,n){const i=l.path.toArray(),s=n.path.toArray();let u=0;for(let p=0;p<i.length-2&&p<s.length-2;++p)if(u=mn(i[p],s[p]),u)return u;return u=mn(i.length,s.length),u||(u=mn(i[i.length-2],s[s.length-2]),u||mn(i[i.length-1],s[s.length-1]))}class Wf{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class Sh{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Pr(s.mutation,u,Nr.empty(),ir.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,mr()).next(()=>s))}getLocalViewOfDocuments(n,i,s=mr()){const u=mo();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(p=>{let _=gl();return p.forEach((R,O)=>{_=_.insert(R,O.overlayedDocument)}),_}))}getOverlayedDocuments(n,i){const s=mo();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,mr()))}populateOverlays(n,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(n,u).next(p=>{p.forEach((_,R)=>{i.set(_,R)})})}computeViews(n,i,s,u){let p=Po();const _=xo(),R=xo();return i.forEach((O,K)=>{const le=s.get(K.key);u.has(K.key)&&(void 0===le||le.mutation instanceof kr)?p=p.insert(K.key,K):void 0!==le?(_.set(K.key,le.mutation.getFieldMask()),Pr(le.mutation,K,le.mutation.getFieldMask(),ir.now())):_.set(K.key,Nr.empty())}),this.recalculateAndSaveOverlays(n,p).next(O=>(O.forEach((K,le)=>_.set(K,le)),i.forEach((K,le)=>{var we;return R.set(K,new Wf(le,null!==(we=_.get(K))&&void 0!==we?we:null))}),R))}recalculateAndSaveOverlays(n,i){const s=xo();let u=new ti((_,R)=>_-R),p=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(_=>{for(const R of _)R.keys().forEach(O=>{const K=i.get(O);if(null===K)return;let le=s.get(O)||Nr.empty();le=R.applyToLocalView(K,le),s.set(O,le);const we=(u.get(R.batchId)||mr()).add(O);u=u.insert(R.batchId,we)})}).next(()=>{const _=[],R=u.getReverseIterator();for(;R.hasNext();){const O=R.getNext(),K=O.key,le=O.value,we=$l();le.forEach(Je=>{if(!p.has(Je)){const Mt=on(i.get(Je),s.get(Je));null!==Mt&&we.set(Je,Mt),p=p.add(Je)}}),_.push(this.documentOverlayCache.saveOverlays(n,K,we))}return lt.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return Yt.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Hs(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var _}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-p.size):lt.resolve(mo());let R=-1,O=p;return _.next(K=>lt.forEach(K,(le,we)=>(R<we.largestBatchId&&(R=we.largestBatchId),p.get(le)?lt.resolve():this.remoteDocumentCache.getEntry(n,le).next(Je=>{O=O.insert(le,Je)}))).next(()=>this.populateOverlays(n,K,p)).next(()=>this.computeViews(n,O,K,mr())).next(le=>({batchId:R,changes:Ka(le)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Yt(i)).next(s=>{let u=gl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const p=i.collectionGroup;let _=gl();return this.indexManager.getCollectionParents(n,p).next(R=>lt.forEach(R,O=>{const K=(we=i,Je=O.child(p),new Rs(Je,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,Je;return this.getDocumentsMatchingCollectionQuery(n,K,s,u).next(le=>{le.forEach((we,Je)=>{_=_.insert(we,Je)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(n,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,p,u))).next(_=>{p.forEach((O,K)=>{const le=K.getKey();null===_.get(le)&&(_=_.insert(le,Mr.newInvalidDocument(le)))});let R=gl();return _.forEach((O,K)=>{const le=p.get(O);void 0!==le&&Pr(le.mutation,K,Nr.empty(),ir.now()),Ra(i,K)&&(R=R.insert(O,K))}),R})}}class Rh{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return lt.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:bi(u.createTime)}),lt.resolve();var u}getNamedQuery(n,i){return lt.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:Vr(u.bundledQuery),readTime:bi(u.readTime)}),lt.resolve();var u}}class Mh{constructor(){this.overlays=new ti(Yt.comparator),this.Ir=new Map}getOverlay(n,i){return lt.resolve(this.overlays.get(i))}getOverlays(n,i){const s=mo();return lt.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,p)=>{this.ht(n,i,p)}),lt.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(s)),lt.resolve()}getOverlaysForCollection(n,i,s){const u=mo(),p=i.length+1,_=new Yt(i.child("")),R=this.overlays.getIteratorFrom(_);for(;R.hasNext();){const O=R.getNext().value,K=O.getKey();if(!i.isPrefixOf(K.path))break;K.path.length===p&&O.largestBatchId>s&&u.set(O.getKey(),O)}return lt.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let p=new ti((K,le)=>K-le);const _=this.overlays.getIterator();for(;_.hasNext();){const K=_.getNext().value;if(K.getKey().getCollectionGroup()===i&&K.largestBatchId>s){let le=p.get(K.largestBatchId);null===le&&(le=mo(),p=p.insert(K.largestBatchId,le)),le.set(K.getKey(),K)}}const R=mo(),O=p.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((K,le)=>R.set(K,le)),!(R.size()>=u)););return lt.resolve(R)}ht(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new pi(i,s));let p=this.Ir.get(i);void 0===p&&(p=mr(),this.Ir.set(i,p)),this.Ir.set(i,p.add(s.key))}}class $g{constructor(){this.sessionToken=ni.EMPTY_BYTE_STRING}getSessionToken(n){return lt.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,lt.resolve()}}class lo{constructor(){this.Tr=new Fr(Bi.Er),this.dr=new Fr(Bi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const s=new Bi(n,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Vr(new Bi(n,i))}mr(n,i){n.forEach(s=>this.removeReference(s,i))}gr(n){const i=new Yt(new Mn([])),s=new Bi(i,n),u=new Bi(i,n+1),p=[];return this.dr.forEachInRange([s,u],_=>{this.Vr(_),p.push(_.key)}),p}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new Yt(new Mn([])),s=new Bi(i,n),u=new Bi(i,n+1);let p=mr();return this.dr.forEachInRange([s,u],_=>{p=p.add(_.key)}),p}containsKey(n){const i=new Bi(n,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class Bi{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return Yt.comparator(n.key,i.key)||mn(n.wr,i.wr)}static Ar(n,i){return mn(n.wr,i.wr)||Yt.comparator(n.key,i.key)}}class wi{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Fr(Bi.Er)}checkEmpty(n){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const p=this.Sr;this.Sr++;const _=new fi(p,i,s,u);this.mutationQueue.push(_);for(const R of u)this.br=this.br.add(new Bi(R.key,p)),this.indexManager.addToCollectionParentIndex(n,R.key.path.popLast());return lt.resolve(_)}lookupMutationBatch(n,i){return lt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),p=u<0?0:u;return lt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new Bi(i,0),u=new Bi(i,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([s,u],_=>{const R=this.Dr(_.wr);p.push(R)}),lt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Fr(mn);return i.forEach(u=>{const p=new Bi(u,0),_=new Bi(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,_],R=>{s=s.add(R.wr)})}),lt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let p=s;Yt.isDocumentKey(p)||(p=p.child(""));const _=new Bi(new Yt(p),0);let R=new Fr(mn);return this.br.forEachWhile(O=>{const K=O.key.path;return!!s.isPrefixOf(K)&&(K.length===u&&(R=R.add(O.wr)),!0)},_),lt.resolve(this.Cr(R))}Cr(n){const i=[];return n.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){qt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return lt.forEach(i.mutations,u=>{const p=new Bi(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=s})}On(n){}containsKey(n,i){const s=new Bi(i,0),u=this.br.firstAfterOrEqual(s);return lt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return lt.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Ph{constructor(n){this.Mr=n,this.docs=new ti(Yt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,_=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return lt.resolve(s?s.document.mutableCopy():Mr.newInvalidDocument(i))}getEntries(n,i){let s=Po();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():Mr.newInvalidDocument(u))}),lt.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let p=Po();const _=i.path,R=new Yt(_.child("")),O=this.docs.getIteratorFrom(R);for(;O.hasNext();){const{key:K,value:{document:le}}=O.getNext();if(!_.isPrefixOf(K.path))break;K.path.length>_.length+1||gt(Ze(le),s)<=0||(u.has(le.key)||Ra(i,le))&&(p=p.insert(le.key,le.mutableCopy()))}return lt.resolve(p)}getAllFromCollectionGroup(n,i,s,u){Nt()}Or(n,i){return lt.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new xh(this)}getSize(n){return lt.resolve(this.size)}}class xh extends Gf{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(s)}),lt.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class jg{constructor(n){this.persistence=n,this.Nr=new Qo(i=>Ss(i),js),this.lastRemoteSnapshotVersion=cn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lo,this.targetCount=0,this.kr=Tu.Bn()}forEachTarget(n,i){return this.Nr.forEach((s,u)=>i(u)),lt.resolve()}getLastRemoteSnapshotVersion(n){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return lt.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),lt.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new Tu(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,lt.resolve()}updateTargetData(n,i){return this.Kn(i),lt.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,lt.resolve()}removeTargets(n,i,s){let u=0;const p=[];return this.Nr.forEach((_,R)=>{R.sequenceNumber<=i&&null===s.get(R.targetId)&&(this.Nr.delete(_),p.push(this.removeMatchingKeysForTargetId(n,R.targetId)),u++)}),lt.waitFor(p).next(()=>u)}getTargetCount(n){return lt.resolve(this.targetCount)}getTargetData(n,i){const s=this.Nr.get(i)||null;return lt.resolve(s)}addMatchingKeys(n,i,s){return this.Br.Rr(i,s),lt.resolve()}removeMatchingKeys(n,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(_=>{p.push(u.markPotentiallyOrphaned(n,_))}),lt.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),lt.resolve()}getMatchingKeysForTargetId(n,i){const s=this.Br.yr(i);return lt.resolve(s)}containsKey(n,i){return lt.resolve(this.Br.containsKey(i))}}class Tc{constructor(n,i){this.qr={},this.overlays={},this.Qr=new G(0),this.Kr=!1,this.Kr=!0,this.$r=new $g,this.referenceDelegate=n(this),this.Ur=new jg(this),this.indexManager=new Yl,this.remoteDocumentCache=new Ph(s=>this.referenceDelegate.Wr(s)),this.serializer=new Eu(i),this.Gr=new Rh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Mh,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.qr[n.toKey()];return s||(s=new wi(i,this.referenceDelegate),this.qr[n.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,s){at("MemoryPersistence","Starting transaction:",n);const u=new Kf(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(p=>this.referenceDelegate.jr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Hr(n,i){return lt.or(Object.values(this.qr).map(s=>()=>s.containsKey(n,i)))}}class Kf extends En{constructor(n){super(),this.currentSequenceNumber=n}}class wu{constructor(n){this.persistence=n,this.Jr=new lo,this.Yr=null}static Zr(n){return new wu(n)}get Xr(){if(this.Yr)return this.Yr;throw Nt()}addReference(n,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),lt.resolve()}removeReference(n,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),lt.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),lt.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(p=>this.Xr.add(p.toString()))}).next(()=>s.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Xr,s=>{const u=Yt.fromPath(s);return this.ei(n,u).next(p=>{p||i.removeEntry(u,cn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return lt.or([()=>lt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class ea{constructor(n){this.serializer=n}O(n,i,s,u){const p=new gr("createOrUpgrade",i);var O;s<1&&u>=1&&(n.createObjectStore("owner"),(O=n).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fn,{unique:!0}),O.createObjectStore("documentMutations"),qf(n),function(O){O.createObjectStore("remoteDocuments")}(n));let _=lt.resolve();return s<3&&u>=3&&(0!==s&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(n),qf(n)),_=_.next(()=>function(O){const K=O.store("targetGlobal"),le={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",le)}(p))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(O,K){return K.store("mutations").U().next(le=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fn,{unique:!0});const we=K.store("mutations"),Je=le.map(Mt=>we.put(Mt));return lt.waitFor(Je)})}(n,p))),_=_.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),s<5&&u>=5&&(_=_.next(()=>this.ni(p))),s<6&&u>=6&&(_=_.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(n),this.ri(p)))),s<7&&u>=7&&(_=_.next(()=>this.ii(p))),s<8&&u>=8&&(_=_.next(()=>this.si(n,p))),s<9&&u>=9&&(_=_.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(n)})),s<10&&u>=10&&(_=_.next(()=>this.oi(p))),s<11&&u>=11&&(_=_.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),s<12&&u>=12&&(_=_.next(()=>{!function(O){const K=O.createObjectStore("documentOverlays",{keyPath:Mi});K.createIndex("collectionPathOverlayIndex",Do,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Ds,{unique:!1})}(n)})),s<13&&u>=13&&(_=_.next(()=>function(O){const K=O.createObjectStore("remoteDocumentsV14",{keyPath:Qn});K.createIndex("documentKeyIndex",ei),K.createIndex("collectionGroupIndex",ai)}(n)).next(()=>this._i(n,p)).next(()=>n.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ai(n,p))),s<15&&u>=15&&(_=_.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:Ni}).createIndex("sequenceNumberIndex",jo,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:Ho}).createIndex("documentKeyIndex",eo,{unique:!1})}(n))),s<16&&u>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(_=_.next(()=>{!function(O){O.createObjectStore("globals",{keyPath:"name"})}(n)})),_}ri(n){let i=0;return n.store("remoteDocuments").J((s,u)=>{i+=Za(u)}).next(()=>{const s={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(n){const i=n.store("mutationQueues"),s=n.store("mutations");return i.U().next(u=>lt.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(R=>lt.forEach(R,O=>{qt(O.userId===p.userId);const K=Vo(this.serializer,O);return Ah(n,p.userId,K).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),s=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((_,R)=>{const O=new Mn(_),K=[0,ye(O)];p.push(i.get(K).next(le=>le?lt.resolve():i.put({targetId:0,path:ye(O),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>lt.waitFor(p))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:Ei});const s=i.store("collectionParents"),u=new Ic,p=_=>{if(u.add(_)){const R=_.lastSegment(),O=_.popLast();return s.put({collectionId:R,parent:ye(O)})}};return i.store("remoteDocuments").J({H:!0},(_,R)=>{const O=new Mn(_);return p(O.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,R,O],K)=>{const le=Jt(R);return p(le.popLast())}))}oi(n){const i=n.store("targets");return i.J((s,u)=>{const p=Dl(u),_=Kl(this.serializer,p);return i.put(_)})}_i(n,i){const s=i.store("remoteDocuments"),u=[];return s.J((p,_)=>{const R=i.store("remoteDocumentsV14"),O=(we=_,we.document?new Yt(Mn.fromString(we.document.name).popFirst(5)):we.noDocument?Yt.fromSegments(we.noDocument.path):we.unknownDocument?Yt.fromSegments(we.unknownDocument.path):Nt()).path.toArray(),K={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var we;u.push(R.put(K))}).next(()=>lt.waitFor(u))}ai(n,i){const s=i.store("mutations"),u=yd(this.serializer),p=new Tc(wu.Zr,this.serializer.ct);return s.U().next(_=>{const R=new Map;return _.forEach(O=>{var K;let le=null!==(K=R.get(O.userId))&&void 0!==K?K:mr();Vo(this.serializer,O).keys().forEach(we=>le=le.add(we)),R.set(O.userId,le)}),lt.forEach(R,(O,K)=>{const le=new Re(K),we=Uo.lt(this.serializer,le),Je=p.getIndexManager(le),Mt=Jo.lt(le,this.serializer,Je,p.referenceDelegate);return new Sh(u,Mt,we,Je).recalculateAndSaveOverlaysForDocumentKeys(new Go(i,G.oe),O).next()})})}}function qf(l){l.createObjectStore("targetDocuments",{keyPath:oi}).createIndex("documentTargetsIndex",ro,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xi,{unique:!0}),l.createObjectStore("targetGlobal")}const bc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wl{constructor(n,i,s,u,p,_,R,O,K,le,we=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=s,this.ui=p,this.window=_,this.document=R,this.ci=K,this.li=le,this.hi=we,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Je=>Promise.resolve(),!wl.D())throw new Le(Me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zf(this,u),this.Ai=i+"main",this.serializer=new Eu(O),this.Ri=new kn(this.Ai,this.hi,new ea(this.serializer)),this.$r=new vc,this.Ur=new jf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yd(this.serializer),this.Gr=new Ug,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===le&&rn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(Me.FAILED_PRECONDITION,bc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new G(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var s=(0,pe.A)(function*(u){if(i.started)return n(u)});return function(u){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,pe.A)(function*(s){null===s.newVersion&&(yield n())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,pe.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>nl(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(qr(n))return at("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return at("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return tl(n).get("owner").next(i=>lt.resolve(this.vi(i)))}Ci(n){return nl(n).delete(this.clientId)}Fi(){var n=this;return(0,pe.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=jr(s,"clientMetadata");return u.U().next(p=>{const _=n.xi(p,18e5),R=p.filter(O=>-1===_.indexOf(O));return lt.forEach(R,O=>u.delete(O.clientId)).next(()=>R)})}).catch(()=>[]);if(n.Vi)for(const s of i)n.Vi.removeItem(n.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?lt.resolve(!0):tl(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Le(Me.FAILED_PRECONDITION,bc);return!1}}return!(!this.networkEnabled||!this.inForeground)||nl(n).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&at("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,pe.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new Go(i,G.oe);return n.bi(s).next(()=>n.Ci(s))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>nl(n).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return Jo.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new Bg(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Uo.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,s){at("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",p=17===(O=this.hi)?zo:16===O?Da:15===O?Rr:14===O?nr:13===O?Os:12===O?Ai:11===O?qi:void Nt();var O;let _;return this.Ri.runTransaction(n,u,p,R=>(_=new Go(R,this.Qr?this.Qr.next():G.oe),"readwrite-primary"===i?this.wi(_).next(O=>!!O||this.Si(_)).next(O=>{if(!O)throw rn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Le(Me.FAILED_PRECONDITION,vn);return s(_)}).next(O=>this.Di(_).next(()=>O)):this.Ki(_).next(()=>s(_)))).then(R=>(_.raiseOnCommittedEvent(),R))}Ki(n){return tl(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Le(Me.FAILED_PRECONDITION,bc)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tl(n).put("owner",i)}static D(){return kn.D()}bi(n){const i=tl(n);return i.get("owner").next(s=>this.vi(s)?(at("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):lt.resolve())}Mi(n,i){const s=Date.now();return!(n<s-i||n>s&&(rn(`Detected an update time that is in the future: ${n} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,nt.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return at("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return rn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){rn("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function tl(l){return jr(l,"owner")}function nl(l){return jr(l,"clientMetadata")}function wc(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class Sc{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(n,i){let s=mr(),u=mr();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Sc(n,i.fromCache,s,u)}}class Hg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Jl{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,nt.nr)()?8:Ur((0,nt.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,s,u){const p={result:null};return this.Yi(n,i).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Zi(n,i,u,s).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new Hg;return this.Xi(n,i,_).next(R=>{if(p.result=R,this.zi)return this.es(n,i,_,R.size)})}).next(()=>p.result)}es(n,i,s,u){return s.documentReadCount<this.ji?(Tt()<=tt.$b.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ms(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),lt.resolve()):(Tt()<=tt.$b.DEBUG&&at("QueryEngine","Query:",Ms(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Tt()<=tt.$b.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ms(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Lr(i))):lt.resolve())}Yi(n,i){if(Sa(i))return lt.resolve(null);let s=Lr(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=ha(i,null,"F"),s=Lr(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(p=>{const _=mr(...p);return this.Ji.getDocuments(n,_).next(R=>this.indexManager.getMinOffset(n,s).next(O=>{const K=this.ts(i,R);return this.ns(i,K,_,O.readTime)?this.Yi(n,ha(i,null,"F")):this.rs(n,K,i,O)}))})))}Zi(n,i,s,u){return Sa(i)||u.isEqual(cn.min())?lt.resolve(null):this.Ji.getDocuments(n,s).next(p=>{const _=this.ts(i,p);return this.ns(i,_,s,u)?lt.resolve(null):(Tt()<=tt.$b.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ms(i)),this.rs(n,_,i,Pe(u,-1)).next(R=>R))})}ts(n,i){let s=new Fr(Ul(n));return i.forEach((u,p)=>{Ra(n,p)&&(s=s.add(p))}),s}ns(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const p="F"===n.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Xi(n,i,s){return Tt()<=tt.$b.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ms(i)),this.Ji.getDocumentsMatchingQuery(n,i,St.min(),s)}rs(n,i,s,u){return this.Ji.getDocumentsMatchingQuery(n,s,u).next(p=>(i.forEach(_=>{p=p.insert(_.key,_)}),p))}}class Rc{constructor(n,i,s,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new ti(mn),this._s=new Qo(p=>Ss(p),js),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(s)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Sh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function Xf(l,n,i,s){return new Rc(l,n,i,s)}function Ed(l,n){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,pe.A)(function*(l,n){const i=zt(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.ls(n),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const _=[],R=[];let O=mr();for(const K of u){_.push(K.batchId);for(const le of K.mutations)O=O.add(le.key)}for(const K of p){R.push(K.batchId);for(const le of K.mutations)O=O.add(le.key)}return i.localDocuments.getDocuments(s,O).next(K=>({hs:K,removedBatchIds:_,addedBatchIds:R}))})})})).apply(this,arguments)}function Gg(l){const n=zt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function eu(l,n,i){let s=mr(),u=mr();return i.forEach(p=>s=s.add(p)),n.getEntries(l,s).next(p=>{let _=Po();return i.forEach((R,O)=>{const K=p.get(R);O.isFoundDocument()!==K.isFoundDocument()&&(u=u.add(R)),O.isNoDocument()&&O.version.isEqual(cn.min())?(n.removeEntry(R,O.readTime),_=_.insert(R,O)):!K.isValidDocument()||O.version.compareTo(K.version)>0||0===O.version.compareTo(K.version)&&K.hasPendingWrites?(n.addEntry(O),_=_.insert(R,O)):at("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",O.version)}),{Ps:_,Is:u}})}function Qv(l,n){const i=zt(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function Sl(l,n){const i=zt(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,n).next(p=>p?(u=p,lt.resolve(u)):i.Ur.allocateTargetId(s).next(_=>(u=new Fo(n,_,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(n,s.targetId)),s})}function ms(l,n,i){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,pe.A)(function*(l,n,i){const s=zt(l),u=s.os.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!qr(_))throw _;at("LocalStore",`Failed to update sequence numbers for target ${n}: ${_}`)}s.os=s.os.remove(n),s._s.delete(u.target)})).apply(this,arguments)}function Ua(l,n,i){const s=zt(l);let u=cn.min(),p=mr();return s.persistence.runTransaction("Execute query","readwrite",_=>function(O,K,le){const we=zt(O),Je=we._s.get(le);return void 0!==Je?lt.resolve(we.os.get(Je)):we.Ur.getTargetData(K,le)}(s,_,Lr(n)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(_,R.targetId).next(O=>{p=O})}).next(()=>s.ss.getDocumentsMatchingQuery(_,n,i?u:cn.min(),i?p:mr())).next(R=>(Ad(s,pl(n),R),{documents:R,Ts:p})))}function Qf(l,n){const i=zt(l),s=zt(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,n).next(_=>_?_.target:null))}function Su(l,n){const i=zt(l),s=i.us.get(n)||cn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,Pe(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ad(i,n,u),u))}function Ad(l,n,i){let s=l.us.get(n)||cn.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),l.us.set(n,s)}function Ru(){return(Ru=(0,pe.A)(function*(l,n,i,s){const u=zt(l);let p=mr(),_=Po();for(const K of i){const le=n.Es(K.metadata.name);K.document&&(p=p.add(le));const we=n.ds(K);we.setReadTime(n.As(K.metadata.readTime)),_=_.insert(le,we)}const R=u.cs.newChangeBuffer({trackRemovals:!0}),O=yield Sl(u,(le=s,Lr(ds(Mn.fromString(`__bundle__/docs/${le}`)))));var le;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>eu(K,R,_).next(le=>(R.apply(K),le)).next(le=>u.Ur.removeMatchingKeysForTargetId(K,O.targetId).next(()=>u.Ur.addMatchingKeys(K,p,O.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(K,le.Ps,le.Is)).next(()=>le.Ps)))})).apply(this,arguments)}function Yf(l,n){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,pe.A)(function*(l,n,i=mr()){const s=yield Sl(l,Lr(Vr(n.bundledQuery))),u=zt(l);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=bi(n.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(p,n);const R=s.withResumeToken(ni.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(R.targetId,R),u.Ur.updateTargetData(p,R).next(()=>u.Ur.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Ur.addMatchingKeys(p,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(p,n))})})).apply(this,arguments)}function Oh(l,n){return`firestore_clients_${l}_${n}`}function Zf(l,n,i){let s=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function ta(l,n){return`firestore_targets_${l}_${n}`}class Dd{constructor(n,i,s,u){this.user=n,this.batchId=i,this.state=s,this.error=u}static Rs(n,i,s){const u=JSON.parse(s);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new Le(u.error.code,u.error.message))),_?new Dd(n,i,u.state,p):(rn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class rl{constructor(n,i,s){this.targetId=n,this.state=i,this.error=s}static Rs(n,i){const s=JSON.parse(i);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new Le(s.error.code,s.error.message))),p?new rl(n,s.state,u):(rn("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Rl{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=Ma();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=Q(s.activeTargetIds[_]),p=p.add(s.activeTargetIds[_]);return u?new Rl(n,p):(rn("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class Td{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Td(i.clientId,i.onlineState):(rn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Mu{constructor(){this.activeTargetIds=Ma()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class tu{constructor(n,i,s,u,p){this.window=n,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ti(mn),this.started=!1,this.bs=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=Oh(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Mu),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,pe.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const p=n.getItem(Oh(n.persistenceKey,u));if(p){const _=Rl.Rs(u,p);_&&(n.Ss=n.Ss.insert(_.clientId,_))}}n.Ns();const s=n.storage.getItem(n.xs);if(s){const u=n.Ls(s);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,s){this.qs(n,i,s),this.Qs(n)}addLocalQueryTarget(n,i=!0){let s="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(ta(this.persistenceKey,n));if(u){const p=rl.Rs(n,u);p&&(s=p.state)}}return i&&this.Ks.fs(n),this.Ns(),s}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(ta(this.persistenceKey,n))}updateQueryState(n,i,s){this.$s(n,i,s)}handleUserChange(n,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return at("SharedClientState","READ",n,i),i}setItem(n,i){at("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){at("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const s=n;if(s.storageArea===this.storage){if(at("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,pe.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(_){let R=G.oe;if(null!=_)try{const O=JSON.parse(_);qt("number"==typeof O),R=O}catch(O){rn("SharedClientState","Failed to read sequence number from WebStorage",O)}return R}(s.newValue);u!==G.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(p=>i.syncEngine.eo(p)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,s){const u=new Dd(this.currentUser,n,i,s),p=Zf(this.persistenceKey,this.currentUser,n);this.setItem(p,u.Vs())}Qs(n){const i=Zf(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,s){const u=ta(this.persistenceKey,n),p=new rl(n,i,s);this.setItem(u,p.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const s=this.Gs(n);return Rl.Rs(s,i)}Hs(n,i){const s=this.Fs.exec(n),u=Number(s[1]);return Dd.Rs(new Re(void 0!==s[2]?s[2]:null),u,i)}Ys(n,i){const s=this.Ms.exec(n),u=Number(s[1]);return rl.Rs(u,i)}Ls(n){return Td.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,pe.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);at("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const s=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),p=this.ks(s),_=[],R=[];return p.forEach(O=>{u.has(O)||_.push(O)}),u.forEach(O=>{p.has(O)||R.push(O)}),this.syncEngine.io(_,R).then(()=>{this.Ss=s})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=Ma();return n.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class bd{constructor(){this.so=new Mu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,s){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Mu,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class Jf{_o(n){}shutdown(){}}class kh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ml=null;function wd(){return null===Ml?Ml=268435456+Math.round(2147483648*Math.random()):Ml++,"0x"+Ml.toString(16)}const Kg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sd{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const zi="WebChannelConnection";class qg extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Fo(){return!1}Mo(i,s,u,p,_){const R=wd(),O=this.xo(i,s.toUriEncodedString());at("RestConnection",`Sending RPC '${i}' ${R}:`,O,u);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,p,_),this.No(i,O,K,u).then(le=>(at("RestConnection",`Received RPC '${i}' ${R}: `,le),le),le=>{throw hn("RestConnection",`RPC '${i}' ${R} failed with error: `,le,"url: ",O,"request:",u),le})}Lo(i,s,u,p,_,R){return this.Mo(i,s,u,p,_)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+et,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,_)=>i[_]=p),u&&u.headers.forEach((p,_)=>i[_]=p)}xo(i,s){return`${this.Do}/v1/${s}:${Kg[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,s,u){const p=wd();return new Promise((_,R)=>{const O=new Qt;O.setWithCredentials(!0),O.listenOnce(De.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case Ee.NO_ERROR:const le=O.getResponseJson();at(zi,`XHR for RPC '${n}' ${p} received:`,JSON.stringify(le)),_(le);break;case Ee.TIMEOUT:at(zi,`RPC '${n}' ${p} timed out`),R(new Le(Me.DEADLINE_EXCEEDED,"Request time out"));break;case Ee.HTTP_ERROR:const we=O.getStatus();if(at(zi,`RPC '${n}' ${p} failed with status:`,we,"response text:",O.getResponseText()),we>0){let Je=O.getResponseJson();Array.isArray(Je)&&(Je=Je[0]);const Mt=null==Je?void 0:Je.error;if(Mt&&Mt.status&&Mt.message){const tn=function(un){const Bn=un.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(Bn)>=0?Bn:Me.UNKNOWN}(Mt.status);R(new Le(tn,Mt.message))}else R(new Le(Me.UNKNOWN,"Server responded with status "+O.getStatus()))}else R(new Le(Me.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{at(zi,`RPC '${n}' ${p} completed.`)}});const K=JSON.stringify(u);at(zi,`RPC '${n}' ${p} sending request:`,u),O.send(i,"POST",K,s,15)})}Bo(n,i,s){const u=wd(),p=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],_=Xe(),R=Ce(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(O.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(O.useFetchStreams=!0),this.Oo(O.initMessageHeaders,i,s),O.encodeInitMessageHeaders=!0;const le=p.join("");at(zi,`Creating RPC '${n}' stream ${u}: ${le}`,O);const we=_.createWebChannel(le,O);let Je=!1,Mt=!1;const tn=new Sd({Io:un=>{Mt?at(zi,`Not sending because RPC '${n}' stream ${u} is closed:`,un):(Je||(at(zi,`Opening RPC '${n}' stream ${u} transport.`),we.open(),Je=!0),at(zi,`RPC '${n}' stream ${u} sending:`,un),we.send(un))},To:()=>we.close()}),pn=(un,Bn,er)=>{un.listen(Bn,$n=>{try{er($n)}catch(sr){setTimeout(()=>{throw sr},0)}})};return pn(we,Pt.EventType.OPEN,()=>{Mt||(at(zi,`RPC '${n}' stream ${u} transport opened.`),tn.yo())}),pn(we,Pt.EventType.CLOSE,()=>{Mt||(Mt=!0,at(zi,`RPC '${n}' stream ${u} transport closed`),tn.So())}),pn(we,Pt.EventType.ERROR,un=>{Mt||(Mt=!0,hn(zi,`RPC '${n}' stream ${u} transport errored:`,un),tn.So(new Le(Me.UNAVAILABLE,"The operation could not be completed")))}),pn(we,Pt.EventType.MESSAGE,un=>{var Bn;if(!Mt){const er=un.data[0];qt(!!er);const sr=er.error||(null===(Bn=er[0])||void 0===Bn?void 0:Bn.error);if(sr){at(zi,`RPC '${n}' stream ${u} received error:`,sr);const Jr=sr.status;let _r=function(ht){const Et=pr[ht];if(void 0!==Et)return or(Et)}(Jr),_t=sr.message;void 0===_r&&(_r=Me.INTERNAL,_t="Unknown error status: "+Jr+" with message "+sr.message),Mt=!0,tn.So(new Le(_r,_t)),we.close()}else at(zi,`RPC '${n}' stream ${u} received:`,er),tn.bo(er)}}),pn(R,Z.STAT_EVENT,un=>{un.stat===Ie.PROXY?at(zi,`RPC '${n}' stream ${u} detected buffering proxy`):un.stat===Ie.NOPROXY&&at(zi,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{tn.wo()},0),tn}}function Fh(){return typeof window<"u"?window:null}function xc(){return typeof document<"u"?document:null}function Ba(l){return new fc(l,!0)}class na{constructor(n,i,s=1e3,u=1.5,p=6e4){this.ui=n,this.timerId=i,this.ko=s,this.qo=u,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class io{constructor(n,i,s,u,p,_,R,O){this.ui=n,this.Ho=s,this.Jo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=R,this.listener=O,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new na(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,pe.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,pe.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var s=this;return(0,pe.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==n?s.t_.reset():i&&i.code===Me.RESOURCE_EXHAUSTED?(rn(i.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===Me.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{n(()=>{const u=new Le(Me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(n,i){const s=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,pe.A)(function*(){n.state=0,n.start()}))}I_(n){return at("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ep extends io{constructor(n,i,s,u,p,_){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function S(l,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(K=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Nt(),u=n.targetChange.targetIds||[],p=function(K,le){return K.useProto3Json?(qt(void 0===le||"string"==typeof le),ni.fromBase64String(le||"")):(qt(void 0===le||le instanceof Buffer||le instanceof Uint8Array),ni.fromUint8Array(le||new Uint8Array))}(l,n.targetChange.resumeToken),_=n.targetChange.cause,R=_&&function(K){const le=void 0===K.code?Me.UNKNOWN:or(K.code);return new Le(le,K.message||"")}(_);i=new si(s,u,p,R||null)}else if("documentChange"in n){const s=n.documentChange,u=Oo(l,s.document.name),p=bi(s.document.updateTime),_=s.document.createTime?bi(s.document.createTime):cn.min(),R=new Yi({mapValue:{fields:s.document.fields}}),O=Mr.newFoundDocument(u,p,_,R);i=new _o(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in n){const s=n.documentDelete,u=Oo(l,s.document),p=s.readTime?bi(s.readTime):cn.min(),_=Mr.newNoDocument(u,p);i=new _o([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in n){const s=n.documentRemove,u=Oo(l,s.document);i=new _o([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return Nt();{const s=n.filter,{count:u=0,unchangedNames:p}=s,_=new Ws(u,p);i=new Il(s.targetId,_)}}var K;return i}(this.serializer,n),s=function(p){if(!("targetChange"in p))return cn.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?cn.min():_.readTime?bi(_.readTime):cn.min()}(n);return this.listener.d_(i,s)}A_(n){const i={};i.database=Iu(this.serializer),i.addTarget=function(p,_){let R;const O=_.target;if(R=ba(O)?{documents:ae(p,O)}:{query:de(p,O)._t},R.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){R.resumeToken=Oa(p,_.resumeToken);const K=yi(p,_.expectedCount);null!==K&&(R.expectedCount=K)}else if(_.snapshotVersion.compareTo(cn.min())>0){R.readTime=Ui(p,_.snapshotVersion.toTimestamp());const K=yi(p,_.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,n);const s=function At(l,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.a_(i)}R_(n){const i={};i.database=Iu(this.serializer),i.removeTarget=n,this.a_(i)}}class tp extends io{constructor(n,i,s,u,p,_){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return qt(!!n.streamToken),this.lastStreamToken=n.streamToken,qt(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){qt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function F(l,n){return l&&l.length>0?(qt(void 0!==n),l.map(i=>function(u,p){let _=bi(u.updateTime?u.updateTime:p);return _.isEqual(cn.min())&&(_=bi(p)),new B(_,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=bi(n.commitTime);return this.listener.g_(s,i)}p_(){const n={};n.database=Iu(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>N(this.serializer,s))};this.a_(i)}}class Vh extends class{}{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Le(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Mo(n,ka(i,s),u,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Le(Me.UNKNOWN,p.toString())})}Lo(n,i,s,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,R])=>this.connection.Lo(n,ka(i,s),u,_,R,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Le(Me.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Xg{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rn(i),this.D_=!1):at("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class np{constructor(n,i,s,u,p){var _=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(R=>{s.enqueueAndForget((0,pe.A)(function*(){var O;Pl(_)&&(at("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,pe.A)(function*(le){const we=zt(le);we.L_.add(4),yield ol(we),we.q_.set("Unknown"),we.L_.delete(4),yield il(we)}),function K(le){return O.apply(this,arguments)})(_))}))}),this.q_=new Xg(s,u)}}function il(l){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,pe.A)(function*(l){if(Pl(l))for(const n of l.B_)yield n(!0)})).apply(this,arguments)}function ol(l){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,pe.A)(function*(l){for(const n of l.B_)yield n(!1)})).apply(this,arguments)}function nu(l,n){const i=zt(l);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),Oc(i)?ru(i):oe(i).r_()&&Lh(i,n))}function sl(l,n){const i=zt(l),s=oe(i);i.N_.delete(n),s.r_()&&vs(i,n),0===i.N_.size&&(s.r_()?s.o_():Pl(i)&&i.q_.set("Unknown"))}function Lh(l,n){if(l.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(cn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}oe(l).A_(n)}function vs(l,n){l.Q_.xe(n),oe(l).R_(n)}function ru(l){l.Q_=new Hl({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.N_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),oe(l).start(),l.q_.v_()}function Oc(l){return Pl(l)&&!oe(l).n_()&&l.N_.size>0}function Pl(l){return 0===zt(l).L_.size}function kc(l){l.Q_=void 0}function Uh(l){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,pe.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function Qg(l){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,pe.A)(function*(l){l.N_.forEach((n,i)=>{Lh(l,n)})})).apply(this,arguments)}function al(l,n){return ho.apply(this,arguments)}function ho(){return(ho=(0,pe.A)(function*(l,n){kc(l),Oc(l)?(l.q_.M_(n),ru(l)):l.q_.set("Unknown")})).apply(this,arguments)}function Yv(l,n,i){return $h.apply(this,arguments)}function $h(){return $h=(0,pe.A)(function*(l,n,i){if(l.q_.set("Online"),n instanceof si&&2===n.state&&n.cause)try{yield(s=(0,pe.A)(function*(p,_){const R=_.cause;for(const O of _.targetIds)p.N_.has(O)&&(yield p.remoteSyncer.rejectListen(O,R),p.N_.delete(O),p.Q_.removeTarget(O))}),function u(p,_){return s.apply(this,arguments)})(l,n)}catch(s){at("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield jh(l,s)}else if(n instanceof _o?l.Q_.Ke(n):n instanceof Il?l.Q_.He(n):l.Q_.We(n),!i.isEqual(cn.min()))try{const s=yield Gg(l.localStore);i.compareTo(s)>=0&&(yield function(p,_){const R=p.Q_.rt(_);return R.targetChanges.forEach((O,K)=>{if(O.resumeToken.approximateByteSize()>0){const le=p.N_.get(K);le&&p.N_.set(K,le.withResumeToken(O.resumeToken,_))}}),R.targetMismatches.forEach((O,K)=>{const le=p.N_.get(O);if(!le)return;p.N_.set(O,le.withResumeToken(ni.EMPTY_BYTE_STRING,le.snapshotVersion)),vs(p,O);const we=new Fo(le.target,O,K,le.sequenceNumber);Lh(p,we)}),p.remoteSyncer.applyRemoteEvent(R)}(l,i))}catch(s){at("RemoteStore","Failed to raise snapshot:",s),yield jh(l,s)}var s}),$h.apply(this,arguments)}function jh(l,n,i){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,pe.A)(function*(l,n,i){if(!qr(n))throw n;l.L_.add(1),yield ol(l),l.q_.set("Offline"),i||(i=()=>Gg(l.localStore)),l.asyncQueue.enqueueRetryable((0,pe.A)(function*(){at("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield il(l)}))})).apply(this,arguments)}function _s(l,n){return n().catch(i=>jh(l,i,n))}function $a(l){return xu.apply(this,arguments)}function xu(){return(xu=(0,pe.A)(function*(l){const n=zt(l),i=Ge(n);let s=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;Vc(n);)try{const u=yield Qv(n.localStore,s);if(null===u){0===n.O_.length&&i.o_();break}s=u.batchId,ll(n,u)}catch(u){yield jh(n,u)}Nu(n)&&ul(n)})).apply(this,arguments)}function Vc(l){return Pl(l)&&l.O_.length<10}function ll(l,n){l.O_.push(n);const i=Ge(l);i.r_()&&i.V_&&i.m_(n.mutations)}function Nu(l){return Pl(l)&&!Ge(l).n_()&&l.O_.length>0}function ul(l){Ge(l).start()}function Yg(l){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,pe.A)(function*(l){Ge(l).p_()})).apply(this,arguments)}function ra(l){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,pe.A)(function*(l){const n=Ge(l);for(const i of l.O_)n.m_(i.mutations)})).apply(this,arguments)}function rp(l,n,i){return Md.apply(this,arguments)}function Md(){return(Md=(0,pe.A)(function*(l,n,i){const s=l.O_.shift(),u=Fi.from(s,n,i);yield _s(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield $a(l)})).apply(this,arguments)}function Zv(l,n){return y.apply(this,arguments)}function y(){return y=(0,pe.A)(function*(l,n){var i;n&&Ge(l).V_&&(yield(i=(0,pe.A)(function*(u,p){if(hs(R=p.code)&&R!==Me.ABORTED){const _=u.O_.shift();Ge(u).s_(),yield _s(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield $a(u)}var R}),function s(u,p){return i.apply(this,arguments)})(l,n)),Nu(l)&&ul(l)}),y.apply(this,arguments)}function h(l,n){return g.apply(this,arguments)}function g(){return(g=(0,pe.A)(function*(l,n){const i=zt(l);i.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const s=Pl(i);i.L_.add(3),yield ol(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield il(i)})).apply(this,arguments)}function A(l,n){return z.apply(this,arguments)}function z(){return(z=(0,pe.A)(function*(l,n){const i=zt(l);n?(i.L_.delete(2),yield il(i)):n||(i.L_.add(2),yield ol(i),i.q_.set("Unknown"))})).apply(this,arguments)}function oe(l){return l.K_||(l.K_=function(i,s,u){const p=zt(i);return p.w_(),new ep(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:Uh.bind(null,l),Ro:Qg.bind(null,l),mo:al.bind(null,l),d_:Yv.bind(null,l)}),l.B_.push(function(){var n=(0,pe.A)(function*(i){i?(l.K_.s_(),Oc(l)?ru(l):l.q_.set("Unknown")):(yield l.K_.stop(),kc(l))});return function(i){return n.apply(this,arguments)}}())),l.K_}function Ge(l){return l.U_||(l.U_=function(i,s,u){const p=zt(i);return p.w_(),new tp(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Yg.bind(null,l),mo:Zv.bind(null,l),f_:ra.bind(null,l),g_:rp.bind(null,l)}),l.B_.push(function(){var n=(0,pe.A)(function*(i){i?(l.U_.s_(),yield $a(l)):(yield l.U_.stop(),l.O_.length>0&&(at("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return n.apply(this,arguments)}}())),l.U_}class It{constructor(n,i,s,u,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,p){const _=Date.now()+s,R=new It(n,i,_,u,p);return R.start(s),R}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(Me.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kt(l,n){if(rn("AsyncQueue",`${n}: ${l}`),qr(l))return new Le(Me.UNAVAILABLE,`${n}: ${l}`);throw l}class In{constructor(n){this.comparator=n?(i,s)=>n(i,s)||Yt.comparator(i.key,s.key):(i,s)=>Yt.comparator(i.key,s.key),this.keyedMap=gl(),this.sortedSet=new ti(this.comparator)}static emptySet(n){return new In(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof In)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new In;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class Un{constructor(){this.W_=new ti(Yt.comparator)}track(n){const i=n.doc.key,s=this.W_.get(i);s?0!==n.type&&3===s.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.W_=this.W_.remove(i):1===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):Nt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,s)=>{n.push(s)}),n}}class Pn{constructor(n,i,s,u,p,_,R,O,K){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=R,this.excludesMetadataChanges=O,this.hasCachedResults=K}static fromInitialDocuments(n,i,s,u,p){const _=[];return i.forEach(R=>{_.push({type:0,doc:R})}),new Pn(n,i,In.emptySet(i),_,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&fa(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Gi{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class ya{constructor(){this.queries=ku(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=zt(i),p=u.queries;u.queries=ku(),p.forEach((_,R)=>{for(const O of R.j_)O.onError(s)})}(this,new Le(Me.ABORTED,"Firestore shutting down"))}}function ku(){return new Qo(l=>Mo(l),fa)}function Pd(l,n){return xs.apply(this,arguments)}function xs(){return(xs=(0,pe.A)(function*(l,n){const i=zt(l);let s=3;const u=n.query;let p=i.queries.get(u);p?!p.H_()&&n.J_()&&(s=2):(p=new Gi,s=n.J_()?0:1);try{switch(s){case 0:p.z_=yield i.onListen(u,!0);break;case 1:p.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(_){const R=Kt(_,`Initialization of query '${Ms(n.query)}' failed`);return void n.onError(R)}i.queries.set(u,p),p.j_.push(n),n.Z_(i.onlineState),p.z_&&n.X_(p.z_)&&zh(i)})).apply(this,arguments)}function xd(l,n){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,pe.A)(function*(l,n){const i=zt(l),s=n.query;let u=3;const p=i.queries.get(s);if(p){const _=p.j_.indexOf(n);_>=0&&(p.j_.splice(_,1),0===p.j_.length?u=n.J_()?0:1:!p.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function ip(l,n){const i=zt(l);let s=!1;for(const u of n){const _=i.queries.get(u.query);if(_){for(const R of _.j_)R.X_(u)&&(s=!0);_.z_=u}}s&&zh(i)}function Zg(l,n,i){const s=zt(l),u=s.queries.get(n);if(u)for(const p of u.j_)p.onError(i);s.queries.delete(n)}function zh(l){l.Y_.forEach(n=>{n.next()})}var Nd,op;(op=Nd||(Nd={})).ea="default",op.Cache="cache";class Gh{constructor(n,i,s){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new Pn(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=Pn.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==Nd.Cache}}class xl{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class Fu{constructor(n){this.serializer=n}Es(n){return Oo(this.serializer,n)}ds(n){return n.metadata.exists?Bf(this.serializer,n.document,!1):Mr.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return bi(n)}}class Jv{constructor(n,i,s){this.ca=n,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=e_(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const s=Mn.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,s=new Fu(this.serializer);for(const u of n)if(u.metadata.queries){const p=s.Es(u.metadata.name);for(const _ of u.metadata.queries){const R=(i.get(_)||mr()).add(p);i.set(_,R)}}return i}complete(){var n=this;return(0,pe.A)(function*(){const i=yield function Nh(l,n,i,s){return Ru.apply(this,arguments)}(n.localStore,new Fu(n.serializer),n.documents,n.ca.id),s=n.ha(n.documents);for(const u of n.queries)yield Yf(n.localStore,u,s.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function e_(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class sp{constructor(n){this.key=n}}class Od{constructor(n){this.key=n}}class t_{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=mr(),this.mutatedKeys=mr(),this.Aa=Ul(n),this.Ra=new In(this.Aa)}get Va(){return this.Ta}ma(n,i){const s=i?i.fa:new Un,u=i?i.Ra:this.Ra;let p=i?i.mutatedKeys:this.mutatedKeys,_=u,R=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,K="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((le,we)=>{const Je=u.get(le),Mt=Ra(this.query,we)?we:null,tn=!!Je&&this.mutatedKeys.has(Je.key),pn=!!Mt&&(Mt.hasLocalMutations||this.mutatedKeys.has(Mt.key)&&Mt.hasCommittedMutations);let un=!1;Je&&Mt?Je.data.isEqual(Mt.data)?tn!==pn&&(s.track({type:3,doc:Mt}),un=!0):this.ga(Je,Mt)||(s.track({type:2,doc:Mt}),un=!0,(O&&this.Aa(Mt,O)>0||K&&this.Aa(Mt,K)<0)&&(R=!0)):!Je&&Mt?(s.track({type:0,doc:Mt}),un=!0):Je&&!Mt&&(s.track({type:1,doc:Je}),un=!0,(O||K)&&(R=!0)),un&&(Mt?(_=_.add(Mt),p=pn?p.add(le):p.delete(le)):(_=_.delete(le),p=p.delete(le)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const le="F"===this.query.limitType?_.last():_.first();_=_.delete(le.key),p=p.delete(le.key),s.track({type:1,doc:le})}return{Ra:_,fa:s,ns:R,mutatedKeys:p}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const p=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const _=n.fa.G_();_.sort((le,we)=>function(Mt,tn){const pn=un=>{switch(un){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return pn(Mt)-pn(tn)}(le.type,we.type)||this.Aa(le.doc,we.doc)),this.pa(s),u=null!=u&&u;const R=i&&!u?this.ya():[],O=0===this.da.size&&this.current&&!u?1:0,K=O!==this.Ea;return this.Ea=O,0!==_.length||K?{snapshot:new Pn(this.query,n.Ra,p,_,n.mutatedKeys,0===O,K,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Un,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=mr(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return n.forEach(s=>{this.da.has(s)||i.push(new Od(s))}),this.da.forEach(s=>{n.has(s)||i.push(new sp(s))}),i}ba(n){this.Ta=n.Ts,this.da=mr();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return Pn.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Jg{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class n_{constructor(n){this.key=n,this.va=!1}}class Wh{constructor(n,i,s,u,p,_){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new Qo(R=>Mo(R),fa),this.Ma=new Map,this.xa=new Set,this.Oa=new ti(Yt.comparator),this.Na=new Map,this.La=new lo,this.Ba={},this.ka=new Map,this.qa=Tu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Kh(l,n){return ap.apply(this,arguments)}function ap(){return(ap=(0,pe.A)(function*(l,n,i=!0){const s=yp(l);let u;const p=s.Fa.get(n);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.Da()):u=yield r_(s,n,i,!0),u})).apply(this,arguments)}function em(l,n){return tm.apply(this,arguments)}function tm(){return(tm=(0,pe.A)(function*(l,n){const i=yp(l);yield r_(i,n,!0,!1)})).apply(this,arguments)}function r_(l,n,i,s){return nm.apply(this,arguments)}function nm(){return(nm=(0,pe.A)(function*(l,n,i,s){const u=yield Sl(l.localStore,Lr(n)),p=u.targetId,_=l.sharedClientState.addLocalQueryTarget(p,i);let R;return s&&(R=yield lp(l,n,p,"current"===_,u.resumeToken)),l.isPrimaryClient&&i&&nu(l.remoteStore,u),R})).apply(this,arguments)}function lp(l,n,i,s,u){return qh.apply(this,arguments)}function qh(){return qh=(0,pe.A)(function*(l,n,i,s,u){l.Ka=(we,Je,Mt)=>{return(tn=(0,pe.A)(function*(un,Bn,er,$n){let sr=Bn.view.ma(er);sr.ns&&(sr=yield Ua(un.localStore,Bn.query,!1).then(({documents:Qe})=>Bn.view.ma(Qe,sr)));const Jr=$n&&$n.targetChanges.get(Bn.targetId),_r=$n&&null!=$n.targetMismatches.get(Bn.targetId),_t=Bn.view.applyChanges(sr,un.isPrimaryClient,Jr,_r);return gp(un,Bn.targetId,_t.wa),_t.snapshot}),function pn(un,Bn,er,$n){return tn.apply(this,arguments)})(l,we,Je,Mt);var tn};const p=yield Ua(l.localStore,n,!0),_=new t_(n,p.Ts),R=_.ma(p.documents),O=Na.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),K=_.applyChanges(R,l.isPrimaryClient,O);gp(l,i,K.wa);const le=new Jg(n,i,_);return l.Fa.set(n,le),l.Ma.has(i)?l.Ma.get(i).push(n):l.Ma.set(i,[n]),K.snapshot}),qh.apply(this,arguments)}function T0(l,n,i){return ys.apply(this,arguments)}function ys(){return(ys=(0,pe.A)(function*(l,n,i){const s=zt(l),u=s.Fa.get(n),p=s.Ma.get(u.targetId);if(p.length>1)return s.Ma.set(u.targetId,p.filter(_=>!fa(_,n))),void s.Fa.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield ms(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&sl(s.remoteStore,u.targetId),kd(s,u.targetId)}).catch(hr))):(kd(s,u.targetId),yield ms(s.localStore,u.targetId,!0))})).apply(this,arguments)}function rm(l,n){return up.apply(this,arguments)}function up(){return(up=(0,pe.A)(function*(l,n){const i=zt(l),s=i.Fa.get(n),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),sl(i.remoteStore,s.targetId))})).apply(this,arguments)}function i_(){return(i_=(0,pe.A)(function*(l,n,i){const s=Ip(l);try{const u=yield function(_,R){const O=zt(_),K=ir.now(),le=R.reduce((Mt,tn)=>Mt.add(tn.key),mr());let we,Je;return O.persistence.runTransaction("Locally write mutations","readwrite",Mt=>{let tn=Po(),pn=mr();return O.cs.getEntries(Mt,le).next(un=>{tn=un,tn.forEach((Bn,er)=>{er.isValidDocument()||(pn=pn.add(Bn))})}).next(()=>O.localDocuments.getOverlayedDocuments(Mt,tn)).next(un=>{we=un;const Bn=[];for(const er of R){const $n=Br(er,we.get(er.key).overlayedDocument);null!=$n&&Bn.push(new kr(er.key,$n,la($n.value.mapValue),re.exists(!0)))}return O.mutationQueue.addMutationBatch(Mt,K,Bn,R)}).next(un=>{Je=un;const Bn=un.applyToLocalDocumentSet(we,pn);return O.documentOverlayCache.saveOverlays(Mt,un.batchId,Bn)})}).then(()=>({batchId:Je.batchId,changes:Ka(we)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(_,R,O){let K=_.Ba[_.currentUser.toKey()];K||(K=new ti(mn)),K=K.insert(R,O),_.Ba[_.currentUser.toKey()]=K}(s,u.batchId,i),yield ja(s,u.changes),yield $a(s.remoteStore)}catch(u){const p=Kt(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function b0(l,n){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,pe.A)(function*(l,n){const i=zt(l);try{const s=yield function Wg(l,n){const i=zt(l),s=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const R=[];n.targetChanges.forEach((le,we)=>{const Je=u.get(we);if(!Je)return;R.push(i.Ur.removeMatchingKeys(p,le.removedDocuments,we).next(()=>i.Ur.addMatchingKeys(p,le.addedDocuments,we)));let Mt=Je.withSequenceNumber(p.currentSequenceNumber);var pn,un,Bn;null!==n.targetMismatches.get(we)?Mt=Mt.withResumeToken(ni.EMPTY_BYTE_STRING,cn.min()).withLastLimboFreeSnapshotVersion(cn.min()):le.resumeToken.approximateByteSize()>0&&(Mt=Mt.withResumeToken(le.resumeToken,s)),u=u.insert(we,Mt),un=Mt,Bn=le,(0===(pn=Je).resumeToken.approximateByteSize()||un.snapshotVersion.toMicroseconds()-pn.snapshotVersion.toMicroseconds()>=3e8||Bn.addedDocuments.size+Bn.modifiedDocuments.size+Bn.removedDocuments.size>0)&&R.push(i.Ur.updateTargetData(p,Mt))});let O=Po(),K=mr();if(n.documentUpdates.forEach(le=>{n.resolvedLimboDocuments.has(le)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(p,le))}),R.push(eu(p,_,n.documentUpdates).next(le=>{O=le.Ps,K=le.Is})),!s.isEqual(cn.min())){const le=i.Ur.getLastRemoteSnapshotVersion(p).next(we=>i.Ur.setTargetsMetadata(p,p.currentSequenceNumber,s));R.push(le)}return lt.waitFor(R).next(()=>_.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,O,K)).next(()=>O)}).then(p=>(i.os=u,p))}(i.localStore,n);n.targetChanges.forEach((u,p)=>{const _=i.Na.get(p);_&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?qt(_.va):u.removedDocuments.size>0&&(qt(_.va),_.va=!1))}),yield ja(i,s,n)}catch(s){yield hr(s)}})).apply(this,arguments)}function Uc(l,n,i){const s=zt(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((p,_)=>{const R=_.view.Z_(n);R.snapshot&&u.push(R.snapshot)}),function(_,R){const O=zt(_);O.onlineState=R;let K=!1;O.queries.forEach((le,we)=>{for(const Je of we.j_)Je.Z_(R)&&(K=!0)}),K&&zh(O)}(s.eventManager,n),u.length&&s.Ca.d_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function o_(l,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,pe.A)(function*(l,n,i){const s=zt(l);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Na.get(n),p=u&&u.key;if(p){let _=new ti(Yt.comparator);_=_.insert(p,Mr.newNoDocument(p,cn.min()));const R=mr().add(p),O=new Ps(cn.min(),new Map,new ti(mn),_,R);yield b0(s,O),s.Oa=s.Oa.remove(p),s.Na.delete(n),mp(s)}else yield ms(s.localStore,n,!1).then(()=>kd(s,n,i)).catch(hr)})).apply(this,arguments)}function w0(l,n){return hp.apply(this,arguments)}function hp(){return(hp=(0,pe.A)(function*(l,n){const i=zt(l),s=n.batch.batchId;try{const u=yield function zg(l,n){const i=zt(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),p=i.cs.newChangeBuffer({trackRemovals:!0});return function(R,O,K,le){const we=K.batch,Je=we.keys();let Mt=lt.resolve();return Je.forEach(tn=>{Mt=Mt.next(()=>le.getEntry(O,tn)).next(pn=>{const un=K.docVersions.get(tn);qt(null!==un),pn.version.compareTo(un)<0&&(we.applyToRemoteDocument(pn,K),pn.isValidDocument()&&(pn.setReadTime(K.commitVersion),le.addEntry(pn)))})}),Mt.next(()=>R.mutationQueue.removeMutationBatch(O,we))}(i,s,n,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let O=mr();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(O=O.add(R.batch.mutations[K].key));return O}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);om(i,s,null),im(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield ja(i,u)}catch(u){yield hr(u)}})).apply(this,arguments)}function S0(l,n,i){return fp.apply(this,arguments)}function fp(){return(fp=(0,pe.A)(function*(l,n,i){const s=zt(l);try{const u=yield function(_,R){const O=zt(_);return O.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let le;return O.mutationQueue.lookupMutationBatch(K,R).next(we=>(qt(null!==we),le=we.keys(),O.mutationQueue.removeMutationBatch(K,we))).next(()=>O.mutationQueue.performConsistencyCheck(K)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(K,le,R)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,le)).next(()=>O.localDocuments.getDocuments(K,le))})}(s.localStore,n);om(s,n,i),im(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield ja(s,u)}catch(u){yield hr(u)}})).apply(this,arguments)}function pp(){return(pp=(0,pe.A)(function*(l,n){const i=zt(l);Pl(i.remoteStore)||at("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const R=zt(_);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>R.mutationQueue.getHighestUnacknowledgedBatchId(O))}(i.localStore);if(-1===s)return void n.resolve();const u=i.ka.get(s)||[];u.push(n),i.ka.set(s,u)}catch(s){const u=Kt(s,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function im(l,n){(l.ka.get(n)||[]).forEach(i=>{i.resolve()}),l.ka.delete(n)}function om(l,n,i){const s=zt(l);let u=s.Ba[s.currentUser.toKey()];if(u){const p=u.get(n);p&&(i?p.reject(i):p.resolve(),u=u.remove(n)),s.Ba[s.currentUser.toKey()]=u}}function kd(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Ma.get(n))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(n),l.isPrimaryClient&&l.La.gr(n).forEach(s=>{l.La.containsKey(s)||s_(l,s)})}function s_(l,n){l.xa.delete(n.path.canonicalString());const i=l.Oa.get(n);null!==i&&(sl(l.remoteStore,i),l.Oa=l.Oa.remove(n),l.Na.delete(i),mp(l))}function gp(l,n,i){for(const s of i)s instanceof sp?(l.La.addReference(s.key,n),a_(l,s)):s instanceof Od?(at("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,n),l.La.containsKey(s.key)||s_(l,s.key)):Nt()}function a_(l,n){const i=n.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(at("SyncEngine","New document in limbo: "+i),l.xa.add(s),mp(l))}function mp(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const n=l.xa.values().next().value;l.xa.delete(n);const i=new Yt(Mn.fromString(n)),s=l.qa.next();l.Na.set(s,new n_(i)),l.Oa=l.Oa.insert(i,s),nu(l.remoteStore,new Fo(Lr(ds(i.path)),s,"TargetPurposeLimboResolution",G.oe))}}function ja(l,n,i){return vp.apply(this,arguments)}function vp(){return vp=(0,pe.A)(function*(l,n,i){const s=zt(l),u=[],p=[],_=[];var R;s.Fa.isEmpty()||(s.Fa.forEach((R,O)=>{_.push(s.Ka(O,n,i).then(K=>{var le;if((K||i)&&s.isPrimaryClient){const we=K?!K.fromCache:null===(le=null==i?void 0:i.targetChanges.get(O.targetId))||void 0===le?void 0:le.current;s.sharedClientState.updateQueryState(O.targetId,we?"current":"not-current")}if(K){u.push(K);const we=Sc.Wi(O.targetId,K);p.push(we)}}))}),yield Promise.all(_),s.Ca.d_(u),yield(R=(0,pe.A)(function*(K,le){const we=zt(K);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",Je=>lt.forEach(le,Mt=>lt.forEach(Mt.$i,tn=>we.persistence.referenceDelegate.addReference(Je,Mt.targetId,tn)).next(()=>lt.forEach(Mt.Ui,tn=>we.persistence.referenceDelegate.removeReference(Je,Mt.targetId,tn)))))}catch(Je){if(!qr(Je))throw Je;at("LocalStore","Failed to update sequence numbers: "+Je)}for(const Je of le){const Mt=Je.targetId;if(!Je.fromCache){const tn=we.os.get(Mt),un=tn.withLastLimboFreeSnapshotVersion(tn.snapshotVersion);we.os=we.os.insert(Mt,un)}}}),function O(K,le){return R.apply(this,arguments)})(s.localStore,p))}),vp.apply(this,arguments)}function l_(l,n){return _p.apply(this,arguments)}function _p(){return(_p=(0,pe.A)(function*(l,n){const i=zt(l);if(!i.currentUser.isEqual(n)){at("SyncEngine","User change. New user:",n.toKey());const s=yield Ed(i.localStore,n);i.currentUser=n,(p=i).ka.forEach(R=>{R.forEach(O=>{O.reject(new Le(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield ja(i,s.hs)}var p})).apply(this,arguments)}function u_(l,n){const i=zt(l),s=i.Na.get(n);if(s&&s.va)return mr().add(s.key);{let u=mr();const p=i.Ma.get(n);if(!p)return u;for(const _ of p){const R=i.Fa.get(_);u=u.unionWith(R.view.Va)}return u}}function M0(l,n){return sm.apply(this,arguments)}function sm(){return(sm=(0,pe.A)(function*(l,n){const i=zt(l),s=yield Ua(i.localStore,n.query,!0),u=n.view.ba(s);return i.isPrimaryClient&&gp(i,n.targetId,u.wa),u})).apply(this,arguments)}function P0(l,n){return am.apply(this,arguments)}function am(){return(am=(0,pe.A)(function*(l,n){const i=zt(l);return Su(i.localStore,n).then(s=>ja(i,s))})).apply(this,arguments)}function c_(l,n,i,s){return d_.apply(this,arguments)}function d_(){return(d_=(0,pe.A)(function*(l,n,i,s){const u=zt(l),p=yield function(R,O){const K=zt(R),le=zt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",we=>le.Mn(we,O).next(Je=>Je?K.localDocuments.getDocuments(we,Je):lt.resolve(null)))}(u.localStore,n);var O;null!==p?("pending"===i?yield $a(u.remoteStore):"acknowledged"===i||"rejected"===i?(om(u,n,s||null),im(u,n),O=n,zt(zt(u.localStore).mutationQueue).On(O)):Nt(),yield ja(u,p)):at("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function lm(){return(lm=(0,pe.A)(function*(l,n){const i=zt(l);if(yp(i),Ip(i),!0===n&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield f_(i,s.toArray());i.Qa=!0,yield A(i.remoteStore,!0);for(const p of u)nu(i.remoteStore,p)}else if(!1===n&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((p,_)=>{i.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(kd(i,_),ms(i.localStore,_,!0))),sl(i.remoteStore,_)}),yield u,yield f_(i,s),function(_){const R=zt(_);R.Na.forEach((O,K)=>{sl(R.remoteStore,K)}),R.La.pr(),R.Na=new Map,R.Oa=new ti(Yt.comparator)}(i),i.Qa=!1,yield A(i.remoteStore,!1)}})).apply(this,arguments)}function f_(l,n,i){return p_.apply(this,arguments)}function p_(){return(p_=(0,pe.A)(function*(l,n,i){const s=zt(l),u=[],p=[];for(const _ of n){let R;const O=s.Ma.get(_);if(O&&0!==O.length){R=yield Sl(s.localStore,Lr(O[0]));for(const K of O){const le=s.Fa.get(K),we=yield M0(s,le);we.snapshot&&p.push(we.snapshot)}}else{const K=yield Qf(s.localStore,_);R=yield Sl(s.localStore,K),yield lp(s,g_(K),_,!1,R.resumeToken)}u.push(R)}return s.Ca.d_(p),u})).apply(this,arguments)}function g_(l){return da(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function m_(l){return i=zt(l).localStore,zt(zt(i).persistence).Qi();var i}function um(l,n,i,s){return cm.apply(this,arguments)}function cm(){return(cm=(0,pe.A)(function*(l,n,i,s){const u=zt(l);if(u.Qa)return void at("SyncEngine","Ignoring unexpected query state notification.");const p=u.Ma.get(n);if(p&&p.length>0)switch(i){case"current":case"not-current":{const _=yield Su(u.localStore,pl(p[0])),R=Ps.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,ni.EMPTY_BYTE_STRING);yield ja(u,_,R);break}case"rejected":yield ms(u.localStore,n,!0),kd(u,n,s);break;default:Nt()}})).apply(this,arguments)}function Vu(l,n,i){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,pe.A)(function*(l,n,i){const s=yp(l);if(s.Qa){for(const u of n){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){at("SyncEngine","Adding an already active target "+u);continue}const p=yield Qf(s.localStore,u),_=yield Sl(s.localStore,p);yield lp(s,g_(p),_.targetId,!1,_.resumeToken),nu(s.remoteStore,_)}for(const u of i)s.Ma.has(u)&&(yield ms(s.localStore,u,!1).then(()=>{sl(s.remoteStore,u),kd(s,u)}).catch(hr))}})).apply(this,arguments)}function yp(l){const n=zt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=u_.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=o_.bind(null,n),n.Ca.d_=ip.bind(null,n.eventManager),n.Ca.$a=Zg.bind(null,n.eventManager),n}function Ip(l){const n=zt(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=w0.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=S0.bind(null,n),n}let Xh=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,pe.A)(function*(){s.serializer=Ba(i.databaseInfo.databaseId),s.sharedClientState=s.Wa(i),s.persistence=s.Ga(i),yield s.persistence.start(),s.localStore=s.za(i),s.gcScheduler=s.ja(i,s.localStore),s.indexBackfillerScheduler=s.Ha(i,s.localStore)})()}ja(i,s){return null}Ha(i,s){return null}za(i){return Xf(this.persistence,new Jl,i.initialUser,this.serializer)}Ga(i){return new Tc(wu.Zr,this.serializer)}Wa(i){return new bd}terminate(){var i=this;return(0,pe.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})();class dm extends Xh{constructor(n,i,s){super(),this.Ja=n,this.cacheSizeBytes=i,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,s=this;return(0,pe.A)(function*(){yield i().call(s,n),yield s.Ja.initialize(s,n),yield Ip(s.Ja.syncEngine),yield $a(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(n){return Xf(this.persistence,new Jl,n.initialUser,this.serializer)}ja(n,i){return new Zs(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Ha(n,i){const s=new ne(i,this.persistence);return new ar(n.asyncQueue,s)}Ga(n){const i=wc(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new wl(this.synchronizeTabs,i,n.clientId,s,n.asyncQueue,Fh(),xc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(n){return new bd}}class v_ extends dm{constructor(n,i){super(n,i,!1),this.Ja=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,s=this;return(0,pe.A)(function*(){yield i().call(s,n);const u=s.Ja.syncEngine;s.sharedClientState instanceof tu&&(s.sharedClientState.syncEngine={no:c_.bind(null,u),ro:um.bind(null,u),io:Vu.bind(null,u),Qi:m_.bind(null,u),eo:P0.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var p=(0,pe.A)(function*(_){yield function h_(l,n){return lm.apply(this,arguments)}(s.Ja.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}Wa(n){const i=Fh();if(!tu.D(i))throw new Le(Me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=wc(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new tu(i,n.asyncQueue,s,n.clientId,n.initialUser)}}let Vd=(()=>{class l{initialize(i,s){var u=this;return(0,pe.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>Uc(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=l_.bind(null,u.syncEngine),yield A(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new ya}createDatastore(i){const s=Ba(i.databaseInfo.databaseId),u=new qg(i.databaseInfo);return new Vh(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,p=this.datastore,_=i.asyncQueue,R=s=>Uc(this.syncEngine,s,0),O=kh.D()?new kh:new Jf,new np(u,p,_,R,O);var u,p,_,R,O}createSyncEngine(i,s){return function(p,_,R,O,K,le,we){const Je=new Wh(p,_,R,O,K,le);return we&&(Je.Qa=!0),Je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,pe.A)(function*(){var s,u,p;yield(p=(0,pe.A)(function*(R){const O=zt(R);at("RemoteStore","RemoteStore shutting down."),O.L_.add(5),yield ol(O),O.k_.shutdown(),O.q_.set("Unknown")}),function _(R){return p.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();function x0(l,n=10240){let i=0;return{read:()=>(0,pe.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+n),done:!1};return i+=n,s}return{done:!0}})(),cancel:()=>(0,pe.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class hm{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):rn("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class Ap{constructor(n,i){this.Xa=n,this.serializer=i,this.metadata=new Rt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var n=this;return(0,pe.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,pe.A)(function*(){return yield n.getMetadata(),n.tu()})()}tu(){var n=this;return(0,pe.A)(function*(){const i=yield n.nu();if(null===i)return null;const s=n.eu.decode(i),u=Number(s);isNaN(u)&&n.ru(`length string (${s}) is not valid number`);const p=yield n.iu(u);return new xl(JSON.parse(p),i.length+u)})()}su(){return this.buffer.findIndex(n=>123===n)}nu(){var n=this;return(0,pe.A)(function*(){for(;n.su()<0&&!(yield n.ou()););if(0===n.buffer.length)return null;const i=n.su();i<0&&n.ru("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),s})()}iu(n){var i=this;return(0,pe.A)(function*(){for(;i.buffer.length<n;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const s=i.eu.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),s})()}ru(n){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${n}`)}ou(){var n=this;return(0,pe.A)(function*(){const i=yield n.Xa.read();if(!i.done){const s=new Uint8Array(n.buffer.length+i.value.length);s.set(n.buffer),s.set(i.value,n.buffer.length),n.buffer=s}return i.done})()}}class N0{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,pe.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Le(Me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,pe.A)(function*(_,R){const O=zt(_),K={documents:R.map(Mt=>Al(O.serializer,Mt))},le=yield O.Lo("BatchGetDocuments",O.serializer.databaseId,Mn.emptyPath(),K,R.length),we=new Map;le.forEach(Mt=>{const tn=function D(l,n){return"found"in n?function(s,u){qt(!!u.found);const p=Oo(s,u.found.name),_=bi(u.found.updateTime),R=u.found.createTime?bi(u.found.createTime):cn.min(),O=new Yi({mapValue:{fields:u.found.fields}});return Mr.newFoundDocument(p,_,R,O)}(l,n):"missing"in n?function(s,u){qt(!!u.missing),qt(!!u.readTime);const p=Oo(s,u.missing),_=bi(u.readTime);return Mr.newNoDocument(p,_)}(l,n):Nt()}(O.serializer,Mt);we.set(tn.key.toString(),tn)});const Je=[];return R.forEach(Mt=>{const tn=we.get(Mt.toString());qt(!!tn),Je.push(tn)}),Je}),function p(_,R){return u.apply(this,arguments)})(i.datastore,n);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new sn(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,pe.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var s;n.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const p=Yt.fromPath(u);n.mutations.push(new Ln(p,n.precondition(p)))}),yield(s=(0,pe.A)(function*(p,_){const R=zt(p),O={writes:_.map(K=>N(R.serializer,K))};yield R.Mo("Commit",R.serializer.databaseId,Mn.emptyPath(),O)}),function u(p,_){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Nt();i=cn.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!i.isEqual(s))throw new Le(Me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(cn.min())?re.exists(!1):re.updateTime(i):re.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(cn.min()))throw new Le(Me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return re.updateTime(i)}return re.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class fm{constructor(n,i,s,u,p){this.asyncQueue=n,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=p,this._u=s.maxAttempts,this.t_=new na(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var n=this;this.t_.Go((0,pe.A)(function*(){const i=new N0(n.datastore),s=n.cu(i);s&&s.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(p=>{n.lu(p)}))}).catch(u=>{n.lu(u)})}))}cu(n){try{const i=this.updateFunction(n);return!ge(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(n){this._u>0&&this.hu(n)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(n)}hu(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!hs(i)}return!1}}class pm{constructor(n,i,s,u,p){var _=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Re.UNAUTHENTICATED,this.clientId=zr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(s,function(){var R=(0,pe.A)(function*(O){at("FirestoreClient","Received user=",O.uid),yield _.authCredentialListener(O),_.user=O});return function(O){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(s,R=>(at("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=Kt(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Lu(l,n){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,pe.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,pe.A)(function*(p){s.isEqual(p)||(yield Ed(n.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),Bc.apply(this,arguments)}function Qh(l,n){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,pe.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield $c(l);at("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(s=>h(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>h(n.remoteStore,u)),l._onlineComponents=n})).apply(this,arguments)}function $c(l){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,pe.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lu(l,l._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Me.FAILED_PRECONDITION||u.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;hn("Error using user provided cache. Falling back to memory cache: "+n),yield Lu(l,new Xh)}}else at("FirestoreClient","Using default OfflineComponentProvider"),yield Lu(l,new Xh);var u;return l._offlineComponents})).apply(this,arguments)}function Ld(l){return jc.apply(this,arguments)}function jc(){return(jc=(0,pe.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qh(l,l._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),yield Qh(l,new Vd))),l._onlineComponents})).apply(this,arguments)}function Hc(l){return $c(l).then(n=>n.persistence)}function iu(l){return $c(l).then(n=>n.localStore)}function O0(l){return Ld(l).then(n=>n.remoteStore)}function Yh(l){return Ld(l).then(n=>n.syncEngine)}function Bd(l){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,pe.A)(function*(l){const n=yield Ld(l),i=n.eventManager;return i.onListen=Kh.bind(null,n.syncEngine),i.onUnlisten=T0.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=em.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=rm.bind(null,n.syncEngine),i})).apply(this,arguments)}function mm(l,n,i={}){const s=new Rt;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function(p,_,R,O,K){const le=new hm({next:Je=>{le.Za(),_.enqueueAndForget(()=>xd(p,we));const Mt=Je.docs.has(R);!Mt&&Je.fromCache?K.reject(new Le(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):Mt&&Je.fromCache&&O&&"server"===O.source?K.reject(new Le(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Je)},error:Je=>K.reject(Je)}),we=new Gh(ds(R.path),le,{includeMetadataChanges:!0,_a:!0});return Pd(p,we)}(yield Bd(l),l.asyncQueue,n,i,s)})),s.promise}function __(l,n,i={}){const s=new Rt;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function(p,_,R,O,K){const le=new hm({next:Je=>{le.Za(),_.enqueueAndForget(()=>xd(p,we)),Je.fromCache&&"server"===O.source?K.reject(new Le(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Je)},error:Je=>K.reject(Je)}),we=new Gh(R,le,{includeMetadataChanges:!0,_a:!0});return Pd(p,we)}(yield Bd(l),l.asyncQueue,n,i,s)})),s.promise}function I_(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const ef=new Map;function tf(l,n,i){if(!i)throw new Le(Me.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function _m(l,n,i,s){if(!0===n&&!0===s)throw new Le(Me.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function E_(l){if(!Yt.isDocumentKey(l))throw new Le(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function ym(l){if(Yt.isDocumentKey(l))throw new Le(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function $d(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(s=l).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof l?"a function":Nt()}function Wr(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new Le(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$d(l);throw new Le(Me.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function $u(l,n){if(n<=0)throw new Le(Me.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class Im{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new Le(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Le(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}_m("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=I_(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class ju{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Im({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Le(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Im(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new On;switch(s.type){case"firstParty":return new Zn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Le(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,pe.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=ef.get(i);s&&(at("ComponentProvider","Removing Datastore"),ef.delete(i),s.terminate())}(this),Promise.resolve()}}class $o{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new $o(this.firestore,n,this._query)}}class $i{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new $i(this.firestore,n,this._key)}}class Ha extends $o{constructor(n,i,s){super(n,i,ds(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new $i(this.firestore,null,new Yt(n))}withConverter(n){return new Ha(this.firestore,n,this._path)}}function Am(l,n,...i){if(l=(0,nt.Ku)(l),tf("collection","path",n),l instanceof ju){const s=Mn.fromString(n,...i);return ym(s),new Ha(l,null,s)}{if(!(l instanceof $i||l instanceof Ha))throw new Le(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Mn.fromString(n,...i));return ym(s),new Ha(l.firestore,null,s)}}function jd(l,n,...i){if(l=(0,nt.Ku)(l),1===arguments.length&&(n=zr.newId()),tf("doc","path",n),l instanceof ju){const s=Mn.fromString(n,...i);return E_(s),new $i(l,null,new Yt(s))}{if(!(l instanceof $i||l instanceof Ha))throw new Le(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Mn.fromString(n,...i));return E_(s),new $i(l.firestore,l instanceof Ha?l.converter:null,new Yt(s))}}function zc(l,n){return l=(0,nt.Ku)(l),n=(0,nt.Ku)(n),(l instanceof $i||l instanceof Ha)&&(n instanceof $i||n instanceof Ha)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function Cm(l,n){return l=(0,nt.Ku)(l),n=(0,nt.Ku)(n),l instanceof $o&&n instanceof $o&&l.firestore===n.firestore&&fa(l._query,n._query)&&l.converter===n.converter}class A_{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new na(this,"async_queue_retry"),this.Vu=()=>{const s=xc();s&&at("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=n;const i=xc();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const i=xc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new Rt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}pu(){var n=this;return(0,pe.A)(function*(){if(0!==n.Pu.length){try{yield n.Pu[0](),n.Pu.shift(),n.t_.reset()}catch(i){if(!qr(i))throw i;at("AsyncQueue","Operation failed with retryable error: "+i)}n.Pu.length>0&&n.t_.Go(()=>n.pu())}})()}gu(n){const i=this.mu.then(()=>(this.du=!0,n().catch(s=>{throw this.Eu=s,this.du=!1,rn("INTERNAL UNHANDLED ERROR: ",function(_){let R=_.message||"";return _.stack&&(R=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),R}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(n,i,s){this.fu(),this.Ru.indexOf(n)>-1&&(i=0);const u=It.createAndSchedule(this,n,i,s,p=>this.yu(p));return this.Tu.push(u),u}fu(){this.Eu&&Nt()}verifyOperationInProgress(){}wu(){var n=this;return(0,pe.A)(function*(){let i;do{i=n.mu,yield i}while(i!==n.mu)})()}Su(n){for(const i of this.Tu)if(i.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const i=this.Tu.indexOf(n);this.Tu.splice(i,1)}}function C_(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(l)}class Tp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,s){this._progressObserver={next:n,error:i,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Si extends ju{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new A_,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var n=this;return(0,pe.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new A_(i),n._firestoreClient=void 0,yield i}})()}}function Wi(l){if(l._terminated)throw new Le(Me.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||D_(l),l._firestoreClient}function D_(l){var n,i,s;const u=l._freezeSettings(),p=(O=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new Vt(l._databaseId,O,l._persistenceKey,(le=u).host,le.ssl,le.experimentalForceLongPolling,le.experimentalAutoDetectLongPolling,I_(le.experimentalLongPollingOptions),le.useFetchStreams));var O,le;l._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new pm(l._authCredentials,l._appCheckCredentials,l._queue,p,l._componentsProvider&&function(R){const O=null==R?void 0:R._online.build();return{_offline:null==R?void 0:R._offline.build(O),_online:O}}(l._componentsProvider))}function Tm(){return(Tm=(0,pe.A)(function*(l){hn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=l._freezeSettings();T_(l,Vd.provider,{build:i=>new v_(i,n.cacheSizeBytes)})})).apply(this,arguments)}function T_(l,n,i){if((l=Wr(l,Si))._firestoreClient||l._terminated)throw new Le(Me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(l._componentsProvider||l._getSettings().localCache)throw new Le(Me.FAILED_PRECONDITION,"SDK cache is already specified.");l._componentsProvider={_online:n,_offline:i},D_(l)}class Nl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Nl(ni.fromBase64String(n))}catch(i){throw new Le(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new Nl(ni.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ou{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Le(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Gc{constructor(n){this._methodName=n}}class Hd{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Le(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Le(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return mn(this._lat,n._lat)||mn(this._long,n._long)}}class za{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,n._values)}}const rf=/^__.*__$/;class w_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new kr(n,this.data,this.fieldMask,i,this.fieldTransforms):new Zr(n,this.data,i,this.fieldTransforms)}}class bm{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new kr(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function wm(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class Sm{constructor(n,i,s,u,p,_){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new Sm(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:s,xu:!1});return u.Ou(n),u}Nu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return Kd(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(0===n.length)throw this.Bu("Document fields must not be empty");if(wm(this.Cu)&&rf.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class uA{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||Ba(n)}Qu(n,i,s,u=!1){return new Sm({Cu:n,methodName:i,qu:s,path:Jn.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(l){const n=l._freezeSettings(),i=Ba(l._databaseId);return new uA(l._databaseId,!!n.ignoreUndefinedProperties,i)}function Gd(l,n,i,s,u,p={}){const _=l.Qu(p.merge||p.mergeFields?2:0,n,i,u);Om("Data must be an object, but it was:",_,s);const R=Nm(s,_);let O,K;if(p.merge)O=new Nr(_.fieldMask),K=_.fieldTransforms;else if(p.mergeFields){const le=[];for(const we of p.mergeFields){const Je=Wd(n,we,i);if(!_.contains(Je))throw new Le(Me.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);P_(le,Je)||le.push(Je)}O=new Nr(le),K=_.fieldTransforms.filter(we=>O.covers(we.field))}else O=null,K=_.fieldTransforms;return new w_(new Yi(R),O,K)}class Wc extends Gc{_toFieldTransform(n){if(2!==n.Cu)throw n.Bu(1===n.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Wc}}function z0(l,n,i){return new Sm({Cu:3,qu:n.settings.qu,methodName:l._methodName,xu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class S_ extends Gc{_toFieldTransform(n){return new j(n.path,new Yo)}isEqual(n){return n instanceof S_}}class wp extends Gc{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=z0(this,n,!0),s=this.Ku.map(p=>zu(p,i)),u=new Zo(s);return new j(n.path,u)}isEqual(n){return n instanceof wp&&(0,nt.bD)(this.Ku,n.Ku)}}class Rm extends Gc{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=z0(this,n,!0),s=this.Ku.map(p=>zu(p,i)),u=new ao(s);return new j(n.path,u)}isEqual(n){return n instanceof Rm&&(0,nt.bD)(this.Ku,n.Ku)}}class Mm extends Gc{constructor(n,i){super(n),this.$u=i}_toFieldTransform(n){const i=new xa(n.serializer,vo(n.serializer,this.$u));return new j(n.path,i)}isEqual(n){return n instanceof Mm&&this.$u===n.$u}}function Pm(l,n,i,s){const u=l.Qu(1,n,i);Om("Data must be an object, but it was:",u,s);const p=[],_=Yi.empty();Xi(s,(O,K)=>{const le=Rp(n,O,i);K=(0,nt.Ku)(K);const we=u.Nu(le);if(K instanceof Wc)p.push(le);else{const Je=zu(K,we);null!=Je&&(p.push(le),_.set(le,Je))}});const R=new Nr(p);return new bm(_,R,u.fieldTransforms)}function xm(l,n,i,s,u,p){const _=l.Qu(1,n,i),R=[Wd(n,s,i)],O=[u];if(p.length%2!=0)throw new Le(Me.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<p.length;Je+=2)R.push(Wd(n,p[Je])),O.push(p[Je+1]);const K=[],le=Yi.empty();for(let Je=R.length-1;Je>=0;--Je)if(!P_(K,R[Je])){const Mt=R[Je];let tn=O[Je];tn=(0,nt.Ku)(tn);const pn=_.Nu(Mt);if(tn instanceof Wc)K.push(Mt);else{const un=zu(tn,pn);null!=un&&(K.push(Mt),le.set(Mt,un))}}const we=new Nr(K);return new bm(le,we,_.fieldTransforms)}function R_(l,n,i,s=!1){return zu(i,l.Qu(s?4:3,n))}function zu(l,n){if(M_(l=(0,nt.Ku)(l)))return Om("Unsupported field value:",n,l),Nm(l,n);if(l instanceof Gc)return function(s,u){if(!wm(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.xu&&4!==n.Cu)throw n.Bu("Nested arrays are not supported");return function(s,u){const p=[];let _=0;for(const R of s){let O=zu(R,u.Lu(_));null==O&&(O={nullValue:"NULL_VALUE"}),p.push(O),_++}return{arrayValue:{values:p}}}(l,n)}return function(s,u){if(null===(s=(0,nt.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return vo(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=ir.fromDate(s);return{timestampValue:Ui(u.serializer,p)}}if(s instanceof ir){const p=new ir(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ui(u.serializer,p)}}if(s instanceof Hd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nl)return{bytesValue:Oa(u.serializer,s._byteString)};if(s instanceof $i){const p=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(p))throw u.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:yo(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof za)return R=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(O=>{if("number"!=typeof O)throw R.Bu("VectorValues must only contain numeric values.");return zs(R.serializer,O)})}}}}};var R;throw u.Bu(`Unsupported field value: ${$d(s)}`)}(l,n)}function Nm(l,n){const i={};return Wo(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Xi(l,(s,u)=>{const p=zu(u,n.Mu(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function M_(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof ir||l instanceof Hd||l instanceof Nl||l instanceof $i||l instanceof Gc||l instanceof za)}function Om(l,n,i){if(!M_(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=$d(i);throw n.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function Wd(l,n,i){if((n=(0,nt.Ku)(n))instanceof ou)return n._internalPath;if("string"==typeof n)return Rp(l,n);throw Kd("Field path arguments must be of type string or ",l,!1,void 0,i)}const Sp=new RegExp("[~\\*/\\[\\]]");function Rp(l,n,i){if(n.search(Sp)>=0)throw Kd(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new ou(...n.split("."))._internalPath}catch{throw Kd(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function Kd(l,n,i,s,u){const p=s&&!s.isEmpty(),_=void 0!==u;let R=`Function ${n}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let O="";return(p||_)&&(O+=" (found",p&&(O+=` in field ${s}`),_&&(O+=` in document ${u}`),O+=")"),new Le(Me.INVALID_ARGUMENT,R+l+O)}function P_(l,n){return l.some(i=>i.isEqual(n))}class Ol{constructor(n,i,s,u,p){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new G0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Mp("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class G0 extends Ol{data(){return super.data()}}function Mp(l,n){return"string"==typeof n?Rp(l,n):n instanceof ou?n._internalPath:n._delegate._internalPath}function km(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Le(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pp{}class sf extends Pp{}function Gu(l,n,...i){let s=[];n instanceof Pp&&s.push(n),s=s.concat(i),function(p){const _=p.filter(O=>O instanceof Kc).length,R=p.filter(O=>O instanceof af).length;if(_>1||_>0&&R>0)throw new Le(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class af extends sf{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new af(n,i,s)}_apply(n){const i=this._parse(n);return Fp(n._query,i),new $o(n.firestore,n.converter,Hi(n._query,i))}_parse(n){const i=zd(n.firestore);return function(p,_,R,O,K,le,we){let Je;if(K.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new Le(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on documentId().`);if("in"===le||"not-in"===le){eI(we,le);const Mt=[];for(const tn of we)Mt.push(J0(O,p,tn));Je={arrayValue:{values:Mt}}}else Je=J0(O,p,we)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||eI(we,le),Je=R_(R,"where",we,"in"===le||"not-in"===le);return Kn.create(K,le,Je)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class Kc extends Pp{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Kc(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Cr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,p){let _=u;const R=p.getFlattenedFilters();for(const O of R)Fp(_,O),_=Hi(_,O)}(n._query,i),new $o(n.firestore,n.converter,Hi(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qc extends sf{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new qc(n,i)}_apply(n){const i=function(u,p,_){if(null!==u.startAt)throw new Le(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Le(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ro(p,_)}(n._query,this._field,this._direction);return new $o(n.firestore,n.converter,function(u,p){const _=u.explicitOrderBy.concat([p]);return new Rs(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}class xp extends sf{constructor(n,i,s){super(),this.type=n,this._limit=i,this._limitType=s}static _create(n,i,s){return new xp(n,i,s)}_apply(n){return new $o(n.firestore,n.converter,ha(n._query,this._limit,this._limitType))}}class Np extends sf{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new Np(n,i,s)}_apply(n){const i=kp(n,this.type,this._docOrFields,this._inclusive);return new $o(n.firestore,n.converter,(p=i,new Rs((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class Op extends sf{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new Op(n,i,s)}_apply(n){const i=kp(n,this.type,this._docOrFields,this._inclusive);return new $o(n.firestore,n.converter,(p=i,new Rs((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function kp(l,n,i,s){if(i[0]=(0,nt.Ku)(i[0]),i[0]instanceof Ol)return function(p,_,R,O,K){if(!O)throw new Le(Me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const le=[];for(const we of fr(p))if(we.field.isKeyField())le.push(vi(_,O.key));else{const Je=O.data.field(we.field);if(U(Je))throw new Le(Me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Je){const Mt=we.field.canonicalString();throw new Le(Me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Mt}' (used as the orderBy) does not exist.`)}le.push(Je)}return new lr(le,K)}(l._query,l.firestore._databaseId,n,i[0]._document,s);{const u=zd(l.firestore);return function(_,R,O,K,le,we){const Je=_.explicitOrderBy;if(le.length>Je.length)throw new Le(Me.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Mt=[];for(let tn=0;tn<le.length;tn++){const pn=le[tn];if(Je[tn].field.isKeyField()){if("string"!=typeof pn)throw new Le(Me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof pn}`);if(!Hs(_)&&-1!==pn.indexOf("/"))throw new Le(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${pn}' contains a slash.`);const un=_.path.child(Mn.fromString(pn));if(!Yt.isDocumentKey(un))throw new Le(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${un}' is not because it contains an odd number of segments.`);const Bn=new Yt(un);Mt.push(vi(R,Bn))}else{const un=R_(O,K,pn);Mt.push(un)}}return new lr(Mt,we)}(l._query,l.firestore._databaseId,u,n,i,s)}}function J0(l,n,i){if("string"==typeof(i=(0,nt.Ku)(i))){if(""===i)throw new Le(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hs(n)&&-1!==i.indexOf("/"))throw new Le(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(Mn.fromString(i));if(!Yt.isDocumentKey(s))throw new Le(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vi(l,new Yt(s))}if(i instanceof $i)return vi(l,i._key);throw new Le(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(i)}.`)}function eI(l,n){if(!Array.isArray(l)||0===l.length)throw new Le(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function Fp(l,n){const i=function(u,p){for(const _ of u)for(const R of _.getFlattenedFilters())if(p.indexOf(R.op)>=0)return R.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Le(Me.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class N_{convertValue(n,i="none"){switch(ln(n)){case 0:return null;case 1:return n.booleanValue;case 2:return M(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(C(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Nt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return Xi(n,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(n){var i,s,u;const p=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(_=>M(_.doubleValue));return new za(p)}convertGeoPoint(n){return new Hd(M(n.latitude),M(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=ee(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(He(n));default:return null}}convertTimestamp(n){const i=E(n);return new ir(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=Mn.fromString(n);qt(ko(s));const u=new mt(s.get(1),s.get(3)),p=new Yt(s.popFirst(5));return u.isEqual(i)||rn(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function Fm(l,n,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,s}class cA extends N_{constructor(n){super(),this.firestore=n}convertBytes(n){return new Nl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new $i(this.firestore,null,i)}}class Wu{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class kl extends Ol{constructor(n,i,s,u,p,_){super(n,i,s,u,_),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Mp("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class lf extends kl{data(n={}){return super.data(n)}}class Ku{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new Wu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new lf(this._firestore,this._userDataWriter,s.key,s,new Wu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Le(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(R=>({type:"added",doc:new lf(u._firestore,u._userDataWriter,R.doc.key,R.doc,new Wu(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(R=>p||3!==R.type).map(R=>{const O=new lf(u._firestore,u._userDataWriter,R.doc.key,R.doc,new Wu(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter);let K=-1,le=-1;return 0!==R.type&&(K=_.indexOf(R.doc.key),_=_.delete(R.doc.key)),1!==R.type&&(_=_.add(R.doc),le=_.indexOf(R.doc.key)),{type:O_(R.type),doc:O,oldIndex:K,newIndex:le}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function O_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function Xc(l,n){return l instanceof kl&&n instanceof kl?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof Ku&&n instanceof Ku&&l._firestore===n._firestore&&Cm(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}class fo extends N_{constructor(n){super(),this.firestore=n}convertBytes(n){return new Nl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new $i(this.firestore,null,i)}}function Lm(l,n,i){l=Wr(l,$i);const s=Wr(l.firestore,Si),u=Fm(l.converter,n,i);return qd(s,[Gd(zd(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,re.none())])}function Um(l,n,i,...s){l=Wr(l,$i);const u=Wr(l.firestore,Si),p=zd(u);let _;return _="string"==typeof(n=(0,nt.Ku)(n))||n instanceof ou?xm(p,"updateDoc",l._key,n,i,s):Pm(p,"updateDoc",l._key,n),qd(u,[_.toMutation(l._key,re.exists(!0))])}function Up(l,...n){var i,s,u;l=(0,nt.Ku)(l);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof n[_]||C_(n[_])||(p=n[_],_++);const R={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(C_(n[_])){const we=n[_];n[_]=null===(i=we.next)||void 0===i?void 0:i.bind(we),n[_+1]=null===(s=we.error)||void 0===s?void 0:s.bind(we),n[_+2]=null===(u=we.complete)||void 0===u?void 0:u.bind(we)}let O,K,le;if(l instanceof $i)K=Wr(l.firestore,Si),le=ds(l._key.path),O={next:we=>{n[_]&&n[_](qu(K,l,we))},error:n[_+1],complete:n[_+2]};else{const we=Wr(l,$o);K=Wr(we.firestore,Si),le=we._query;const Je=new fo(K);O={next:Mt=>{n[_]&&n[_](new Ku(K,Je,we,Mt))},error:n[_+1],complete:n[_+2]},km(l._query)}return function(Je,Mt,tn,pn){const un=new hm(pn),Bn=new Gh(Mt,un,tn);return Je.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return Pd(yield Bd(Je),Bn)})),()=>{un.Za(),Je.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return xd(yield Bd(Je),Bn)}))}}(Wi(K),le,R,O)}function qd(l,n){return function(s,u){const p=new Rt;return s.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function cp(l,n,i){return i_.apply(this,arguments)}(yield Yh(s),u,p)})),p.promise}(Wi(l),n)}function qu(l,n,i){const s=i.docs.get(n._key),u=new fo(l);return new kl(l,u,n._key,s,new Wu(i.hasPendingWrites,i.fromCache),n.converter)}const lI={maxAttempts:5};class U_{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=zd(n)}set(n,i,s){this._verifyNotCommitted();const u=Fl(n,this._firestore),p=Fm(u.converter,i,s),_=Gd(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,re.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const p=Fl(n,this._firestore);let _;return _="string"==typeof(i=(0,nt.Ku)(i))||i instanceof ou?xm(this._dataReader,"WriteBatch.update",p._key,i,s,u):Pm(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(_.toMutation(p._key,re.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Fl(n,this._firestore);return this._mutations=this._mutations.concat(new sn(i._key,re.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fl(l,n){if((l=(0,nt.Ku)(l)).firestore!==n)throw new Le(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class B_ extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=zd(i)}get(i){const s=Fl(i,this._firestore),u=new cA(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return Nt();const _=p[0];if(_.isFoundDocument())return new Ol(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new Ol(this._firestore,u,s._key,null,s.converter);throw Nt()})}set(i,s,u){const p=Fl(i,this._firestore),_=Fm(p.converter,s,u),R=Gd(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,u);return this._transaction.set(p._key,R),this}update(i,s,u,...p){const _=Fl(i,this._firestore);let R;return R="string"==typeof(s=(0,nt.Ku)(s))||s instanceof ou?xm(this._dataReader,"Transaction.update",_._key,s,u,p):Pm(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,R),this}delete(i){const s=Fl(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Fl(n,this._firestore),s=new fo(this._firestore);return super.get(n).then(u=>new kl(this._firestore,s,i._key,u._document,new Wu(!1,!1),i.converter))}}function Wp(l,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Le("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return n}function wr(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function qm(){if(!function bo(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){et=me.SDK_VERSION,(0,me._registerComponent)(new be.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const _=s.getProvider("app").getImmediate(),R=new Si(new Cn(s.getProvider("auth-internal")),new Gn(s.getProvider("app-check-internal")),function(K,le){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Le(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mt(K.options.projectId,le)}(_,u),_);return p=Object.assign({useFetchStreams:i},p),R._setSettings(p),R},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(je,"4.7.3",n),(0,me.registerVersion)(je,"4.7.3","esm2017")}();class Qd{constructor(n){this._delegate=n}static fromBase64String(n){return qm(),new Qd(Nl.fromBase64String(n))}static fromUint8Array(n){return wr(),new Qd(Nl.fromUint8Array(n))}toBase64(){return qm(),this._delegate.toBase64()}toUint8Array(){return wr(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xu(l){return function K_(l,n){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of n)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class q_{enableIndexedDbPersistence(n,i){return function $0(l,n){hn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings();return T_(l,Vd.provider,{build:s=>new dm(s,i.cacheSizeBytes,null==n?void 0:n.forceOwnership)}),Promise.resolve()}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function j0(l){return Tm.apply(this,arguments)}(n._delegate)}clearIndexedDbPersistence(n){return function Hu(l){if(l._initialized&&!l._terminated)throw new Le(Me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Rt;return l._queue.enqueueAndForgetEvenWhileRestricted((0,pe.A)(function*(){try{yield(i=(0,pe.A)(function*(u){if(!kn.D())return Promise.resolve();const p=u+"main";yield kn.delete(p)}),function s(u){return i.apply(this,arguments)})(wc(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class X_{constructor(n,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof mt||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&hn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,s={}){!function Em(l,n,i,s={}){var u;const p=(l=Wr(l,ju))._getSettings(),_=`${n}:${i}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),s.mockUserToken){let R,O;if("string"==typeof s.mockUserToken)R=s.mockUserToken,O=Re.MOCK_USER;else{R=(0,nt.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new Le(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Re(K)}l._authCredentials=new jn(new vt(R,O))}}(this._delegate,n,i,s)}enableNetwork(){return function H0(l){return function k0(l){return l.asyncQueue.enqueue((0,pe.A)(function*(){const n=yield Hc(l),i=yield O0(l);return n.setNetworkEnabled(!0),function(u){const p=zt(u);return p.L_.delete(0),il(p)}(i)}))}(Wi(l=Wr(l,Si)))}(this._delegate)}disableNetwork(){return function oA(l){return function F0(l){return l.asyncQueue.enqueue((0,pe.A)(function*(){const n=yield Hc(l),i=yield O0(l);return n.setNetworkEnabled(!1),(s=(0,pe.A)(function*(p){const _=zt(p);_.L_.add(0),yield ol(_),_.q_.set("Offline")}),function u(p){return s.apply(this,arguments)})(i);var s}))}(Wi(l=Wr(l,Si)))}(this._delegate)}enablePersistence(n){let i=!1,s=!1;return n&&(i=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,_m("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nf(l){return function(i){const s=new Rt;return i.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function R0(l,n){return pp.apply(this,arguments)}(yield Yh(i),s)})),s.promise}(Wi(l=Wr(l,Si)))}(this._delegate)}onSnapshotsInSync(n){return function Bm(l,n){return function y_(l,n){const i=new hm(n);return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return u=yield Bd(l),p=i,zt(u).Y_.add(p),void p.next();var u,p})),()=>{i.Za(),l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return u=yield Bd(l),p=i,void zt(u).Y_.delete(p);var u,p}))}}(Wi(l=Wr(l,Si)),C_(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Zd(this,Am(this._delegate,n))}catch(i){throw es(i,"collection()","Firestore.collection()")}}doc(n){try{return new ia(this,jd(this._delegate,n))}catch(i){throw es(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ns(this,function Dp(l,n){if(l=Wr(l,ju),tf("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Le(Me.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $o(l,null,(s=n,new Rs(Mn.emptyPath(),s)));var s}(this._delegate,n))}catch(i){throw es(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function Qc(l,n,i){l=Wr(l,Si);const s=Object.assign(Object.assign({},lI),i);return function(p){if(p.maxAttempts<1)throw new Le(Me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,_,R){const O=new Rt;return p.asyncQueue.enqueueAndForget((0,pe.A)(function*(){const K=yield function Ud(l){return Ld(l).then(n=>n.datastore)}(p);new fm(p.asyncQueue,K,R,_,O).au()})),O.promise}(Wi(l),u=>n(new B_(l,u)),s)}(this._delegate,i=>n(new Kp(this,i)))}batch(){return Wi(this._delegate),new Yd(new U_(this._delegate,n=>qd(this._delegate,n)))}loadBundle(n){return function sA(l,n){const i=Wi(l=Wr(l,Si)),s=new Tp;return function vm(l,n,i,s){const u=function(_,R){let O;return O="string"==typeof _?fs().encode(_):_,le=function(le){if(le instanceof Uint8Array)return x0(le,void 0);if(le instanceof ArrayBuffer)return x0(new Uint8Array(le),void 0);if(le instanceof ReadableStream)return le.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new Ap(le,R);var le}(i,Ba(n));l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){!function Ep(l,n,i){const s=zt(l);var u;(u=(0,pe.A)(function*(_,R,O){try{const K=yield R.getMetadata();if(yield function(tn,pn){const un=zt(tn),Bn=bi(pn.createTime);return un.persistence.runTransaction("hasNewerBundle","readonly",er=>un.Gr.getBundleMetadata(er,pn.id)).then(er=>!!er&&er.createTime.compareTo(Bn)>=0)}(_.localStore,K))return yield R.close(),O._completeWith({taskState:"Success",documentsLoaded:(tn=K).totalDocuments,bytesLoaded:tn.totalBytes,totalDocuments:tn.totalDocuments,totalBytes:tn.totalBytes}),Promise.resolve(new Set);O._updateProgress(e_(K));const le=new Jv(K,_.localStore,R.serializer);let we=yield R.Ua();for(;we;){const Mt=yield le.la(we);Mt&&O._updateProgress(Mt),we=yield R.Ua()}const Je=yield le.complete();return yield ja(_,Je.Ia,void 0),yield function(tn,pn){const un=zt(tn);return un.persistence.runTransaction("Save bundle","readwrite",Bn=>un.Gr.saveBundleMetadata(Bn,pn))}(_.localStore,K),O._completeWith(Je.progress),Promise.resolve(Je.Pa)}catch(K){return hn("SyncEngine",`Loading bundle failed with ${K}`),O._failWith(K),Promise.resolve(new Set)}var tn}),function p(_,R,O){return u.apply(this,arguments)})(s,n,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Yh(l),u,s)}))}(i,l._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function aA(l,n){return function L0(l,n){return l.asyncQueue.enqueue((0,pe.A)(function*(){return function(s,u){const p=zt(s);return p.persistence.runTransaction("Get named query","readonly",_=>p.Gr.getNamedQuery(_,u))}(yield iu(l),n)}))}(Wi(l=Wr(l,Si)),n).then(i=>i?new $o(l,null,i.query):null)}(this._delegate,n).then(i=>i?new Ns(this,i):null)}}class Yc extends N_{constructor(n){super(),this.firestore=n}convertBytes(n){return new Qd(new Nl(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return ia.forKey(i,this.firestore,null)}}class Kp{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new Yc(n)}get(n){const i=ed(n);return this._delegate.get(i).then(s=>new Jc(this._firestore,new kl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(n,i,s){const u=ed(n);return s?(Wp("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const p=ed(n);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(n){const i=ed(n);return this._delegate.delete(i),this}}class Yd{constructor(n){this._delegate=n}set(n,i,s){const u=ed(n);return s?(Wp("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const p=ed(n);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(n){const i=ed(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Qu{constructor(n,i,s){this._firestore=n,this._userDataWriter=i,this._delegate=s}fromFirestore(n,i){const s=new lf(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new cf(this._firestore,s),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const s=Qu.INSTANCES;let u=s.get(n);u||(u=new WeakMap,s.set(n,u));let p=u.get(i);return p||(p=new Qu(n,new Yc(n),i),u.set(i,p)),p}}Qu.INSTANCES=new WeakMap;class ia{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new Yc(n)}static forPath(n,i,s){if(n.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ia(i,new $i(i._delegate,s,new Yt(n)))}static forKey(n,i,s){return new ia(i,new $i(i._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new Zd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Zd(this.firestore,Am(this._delegate,n))}catch(i){throw es(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,nt.Ku)(n))instanceof $i&&zc(this._delegate,n)}set(n,i){i=Wp("DocumentReference.set",i);try{return i?Lm(this._delegate,n,i):Lm(this._delegate,n)}catch(s){throw es(s,"setDoc()","DocumentReference.set()")}}update(n,i,...s){try{return 1===arguments.length?Um(this._delegate,n):Um(this._delegate,n,i,...s)}catch(u){throw es(u,"updateDoc()","DocumentReference.update()")}}delete(){return function gA(l){return qd(Wr(l.firestore,Si),[new sn(l._key,re.none())])}(this._delegate)}onSnapshot(...n){const i=qp(n),s=Xm(n,u=>new Jc(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Up(this._delegate,i,s)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function k_(l){l=Wr(l,$i);const n=Wr(l.firestore,Si),i=Wi(n),s=new fo(n);return function gm(l,n){const i=new Rt;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return(s=(0,pe.A)(function*(p,_,R){try{const O=yield function(le,we){const Je=zt(le);return Je.persistence.runTransaction("read document","readonly",Mt=>Je.localDocuments.getDocument(Mt,we))}(p,_);O.isFoundDocument()?R.resolve(O):O.isNoDocument()?R.resolve(null):R.reject(new Le(Me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const K=Kt(O,`Failed to get document '${_} from cache`);R.reject(K)}}),function u(p,_,R){return s.apply(this,arguments)})(yield iu(l),n,i);var s})),i.promise}(i,l._key).then(u=>new kl(n,s,l._key,u,new Wu(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function hA(l){l=Wr(l,$i);const n=Wr(l.firestore,Si);return mm(Wi(n),l._key,{source:"server"}).then(i=>qu(n,l,i))}(this._delegate):function Ia(l){l=Wr(l,$i);const n=Wr(l.firestore,Si);return mm(Wi(n),l._key).then(i=>qu(n,l,i))}(this._delegate),i.then(s=>new Jc(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new ia(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}function es(l,n,i){return l.message=l.message.replace(n,i),l}function qp(l){for(const n of l)if("object"==typeof n&&!Xu(n))return n;return{}}function Xm(l,n){var i,s;let u;return u=Xu(l[0])?l[0]:Xu(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:p=>{u.next&&u.next(n(p))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Jc{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return Xc(this._delegate,n._delegate)}}class cf extends Jc{data(n){const i=this._delegate.data(n);return this._delegate._converter||function xn(l){l||Nt()}(void 0!==i),i}}class Ns{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new Yc(n)}where(n,i,s){try{return new Ns(this.firestore,Gu(this._delegate,function W0(l,n,i){const s=n,u=Mp("where",l);return af._create(u,s,i)}(n,i,s)))}catch(u){throw es(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new Ns(this.firestore,Gu(this._delegate,function K0(l,n="asc"){const i=n,s=Mp("orderBy",l);return qc._create(s,i)}(n,i)))}catch(s){throw es(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ns(this.firestore,Gu(this._delegate,function q0(l){return $u("limit",l),xp._create("limit",l,"F")}(n)))}catch(i){throw es(i,"limit()","Query.limit()")}}limitToLast(n){try{return new Ns(this.firestore,Gu(this._delegate,function x_(l){return $u("limitToLast",l),xp._create("limitToLast",l,"L")}(n)))}catch(i){throw es(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ns(this.firestore,Gu(this._delegate,function X0(...l){return Np._create("startAt",l,!0)}(...n)))}catch(i){throw es(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ns(this.firestore,Gu(this._delegate,function Q0(...l){return Np._create("startAfter",l,!1)}(...n)))}catch(i){throw es(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ns(this.firestore,Gu(this._delegate,function Y0(...l){return Op._create("endBefore",l,!1)}(...n)))}catch(i){throw es(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ns(this.firestore,Gu(this._delegate,function Z0(...l){return Op._create("endAt",l,!0)}(...n)))}catch(i){throw es(i,"endAt()","Query.endAt()")}}isEqual(n){return Cm(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function fA(l){l=Wr(l,$o);const n=Wr(l.firestore,Si),i=Wi(n),s=new fo(n);return function V0(l,n){const i=new Rt;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return(s=(0,pe.A)(function*(p,_,R){try{const O=yield Ua(p,_,!0),K=new t_(_,O.Ts),le=K.ma(O.documents),we=K.applyChanges(le,!1);R.resolve(we.snapshot)}catch(O){const K=Kt(O,`Failed to execute query '${_} against cache`);R.reject(K)}}),function u(p,_,R){return s.apply(this,arguments)})(yield iu(l),n,i);var s})),i.promise}(i,l._query).then(u=>new Ku(n,s,l,u))}(this._delegate):"server"===(null==n?void 0:n.source)?function pA(l){l=Wr(l,$o);const n=Wr(l.firestore,Si),i=Wi(n),s=new fo(n);return __(i,l._query,{source:"server"}).then(u=>new Ku(n,s,l,u))}(this._delegate):function rI(l){l=Wr(l,$o);const n=Wr(l.firestore,Si),i=Wi(n),s=new fo(n);return km(l._query),__(i,l._query).then(u=>new Ku(n,s,l,u))}(this._delegate),i.then(s=>new Xp(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const i=qp(n),s=Xm(n,u=>new Xp(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Up(this._delegate,i,s)}withConverter(n){return new Ns(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}class gI{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new cf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xp{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new cf(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new gI(this._firestore,i))}forEach(n,i){this._delegate.forEach(s=>{n.call(i,new cf(this._firestore,s))})}isEqual(n){return Xc(this._delegate,n._delegate)}}class Zd extends Ns{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ia(this.firestore,n):null}doc(n){try{return new ia(this.firestore,void 0===n?jd(this._delegate):jd(this._delegate,n))}catch(i){throw es(i,"doc()","CollectionReference.doc()")}}add(n){return function Lp(l,n){const i=Wr(l.firestore,Si),s=jd(l),u=Fm(l.converter,n);return qd(i,[Gd(zd(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,re.exists(!1))]).then(()=>s)}(this._delegate,n).then(i=>new ia(this.firestore,i))}isEqual(n){return zc(this._delegate,n._delegate)}withConverter(n){return new Zd(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}function ed(l){return Wr(l,$i)}class Qm{constructor(...n){this._delegate=new ou(...n)}static documentId(){return new Qm(Jn.keyField().canonicalString())}isEqual(n){return(n=(0,nt.Ku)(n))instanceof ou&&this._delegate._internalPath.isEqual(n._internalPath)}}class td{constructor(n){this._delegate=n}static serverTimestamp(){const n=function j_(){return new S_("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new td(n)}static delete(){const n=function $_(){return new Wc("deleteField")}();return n._methodName="FieldValue.delete",new td(n)}static arrayUnion(...n){const i=function Hm(...l){return new wp("arrayUnion",l)}(...n);return i._methodName="FieldValue.arrayUnion",new td(i)}static arrayRemove(...n){const i=function uI(...l){return new Rm("arrayRemove",l)}(...n);return i._methodName="FieldValue.arrayRemove",new td(i)}static increment(n){const i=function H_(l){return new Mm("increment",l)}(n);return i._methodName="FieldValue.increment",new td(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Q_={Firestore:X_,GeoPoint:Hd,Timestamp:ir,Blob:Qd,Transaction:Kp,WriteBatch:Yd,DocumentReference:ia,DocumentSnapshot:Jc,Query:Ns,QueryDocumentSnapshot:cf,QuerySnapshot:Xp,CollectionReference:Zd,FieldPath:Qm,FieldValue:td,setLogLevel:function Zc(l){!function yn(l){rt.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function mI(l){(function Y_(l,n){l.INTERNAL.registerComponent(new be.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return n(s,u)},"PUBLIC").setServiceProps(Object.assign({},Q_)))})(l,(n,i)=>new X_(n,i,new q_)),l.registerVersion("@firebase/firestore-compat","0.3.38")}(st.A);var vI=k(7935);function Z_(l,n){return function oa(l,n=ve.E){return new Oe.c(i=>{let s;return null!=n?n.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=s&&s()}})}(l,n)}function J_(l,n){return Z_(l,n).pipe((0,We.T)(i=>({payload:i,type:"query"})))}class Qp{constructor(n,i){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const s=this.ref.collection(n),{ref:u,query:p}=sy(s,i);return new ry(u,p,this.afs)}snapshotChanges(){return function _I(l,n){return Z_(l,n).pipe((0,ue.Z)(void 0),Ve(),(0,We.T)(i=>{const[s,u]=i;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,We.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,Be.H)(this.ref.get(n)).pipe(J.U0)}}function df(l,n){return J_(l,n).pipe((0,ue.Z)(void 0),Ve(),(0,We.T)(i=>{const[s,u]=i,p=u.payload.docChanges(),_=p.map(R=>({type:R.type,payload:R}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((R,O)=>{const K=p.find(we=>we.doc.ref.isEqual(R.ref)),le=null==s?void 0:s.payload.docs.find(we=>we.ref.isEqual(R.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(R.metadata)||!K&&le&&JSON.stringify(le.metadata)===JSON.stringify(R.metadata)||_.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:R}})}),_}))}function ey(l,n,i){return df(l,i).pipe((0,it.S)((s,u)=>function yI(l,n,i){return n.forEach(s=>{i.indexOf(s.type)>-1&&(l=function ty(l,n){switch(n.type){case"added":if(!l[n.newIndex]||!l[n.newIndex].doc.ref.isEqual(n.doc.ref))return Ym(l,n.newIndex,0,n);break;case"modified":if(null==l[n.oldIndex]||l[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=l.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return Ym(l,n.newIndex,1,n)}break;case"removed":if(l[n.oldIndex]&&l[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Ym(l,n.oldIndex,1)}return l}(l,s))}),l}(s,u.map(p=>p.payload),n),[]),(0,Ye.F)(),(0,We.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Ym(l,n,i,...s){const u=l.slice();return u.splice(n,i,...s),u}function ny(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class ry{constructor(n,i,s){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=s}stateChanges(n){let i=df(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,We.T)(s=>s.filter(u=>n.indexOf(u.type)>-1)))),i.pipe((0,ue.Z)(void 0),Ve(),(0,Ke.p)(([s,u])=>u.length>0||!s),(0,We.T)(([,s])=>s),J.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,it.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=ny(n);return ey(this.query,i,this.afs.schedulers.outsideAngular).pipe(J.U0)}valueChanges(n={}){return J_(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.T)(i=>i.payload.docs.map(s=>n.idField?{...s.data(),[n.idField]:s.id}:s.data())),J.U0)}get(n){return(0,Be.H)(this.query.get(n)).pipe(J.U0)}add(n){return this.ref.add(n)}doc(n){return new Qp(this.ref.doc(n),this.afs)}}class Zm{constructor(n,i){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?df(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.T)(i=>i.filter(s=>n.indexOf(s.type)>-1)),(0,Ke.p)(i=>i.length>0),J.U0):df(this.query,this.afs.schedulers.outsideAngular).pipe(J.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,it.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=ny(n);return ey(this.query,i,this.afs.schedulers.outsideAngular).pipe(J.U0)}valueChanges(n={}){return J_(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.T)(s=>s.payload.docs.map(u=>n.idField?{[n.idField]:u.id,...u.data()}:u.data())),J.U0)}get(n){return(0,Be.H)(this.query.get(n)).pipe(J.U0)}}const iy=new Y.nKC("angularfire2.enableFirestorePersistence"),oy=new Y.nKC("angularfire2.firestore.persistenceSettings"),II=new Y.nKC("angularfire2.firestore.settings"),EI=new Y.nKC("angularfire2.firestore.use-emulator");function sy(l,n=i=>i){return{query:n(l),ref:l}}let cl=(()=>{var l;class n{constructor(s,u,p,_,R,O,K,le,we,Je,Mt,tn,pn,un,Bn,er,$n){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=K;const sr=(0,se.iB)(s,O,u),Jr=we;Je&&(0,he.gF)(sr,O,Mt,pn,un,Bn,tn,er),[this.firestore,this.persistenceEnabled$]=(0,se.BM)(`${sr.name}.firestore`,"AngularFirestore",sr.name,()=>{const _r=O.runOutsideAngular(()=>sr.firestore());if(_&&_r.settings(_),Jr&&_r.useEmulator(...Jr),p&&!(0,f.Vy)(R)){const _t=()=>{try{return(0,Be.H)(_r.enablePersistence(le||void 0).then(()=>!0,()=>!1))}catch(Qe){return typeof console<"u"&&console.warn(Qe),(0,fe.of)(!1)}};return[_r,O.runOutsideAngular(_t)]}return[_r,(0,fe.of)(!1)]},[_,Jr,p])}collection(s,u){let p;p="string"==typeof s?this.firestore.collection(s):s;const{ref:_,query:R}=sy(p,u),O=this.schedulers.ngZone.run(()=>_);return new ry(O,R,this)}collectionGroup(s,u){const p=u||(R=>R),_=this.firestore.collectionGroup(s);return new Zm(p(_),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const p=this.schedulers.ngZone.run(()=>u);return new Qp(p,this)}createId(){return this.firestore.collection("_").doc().id}}return l=n,(0,d.A)(n,"\u0275fac",function(s){return new(s||l)(Y.KVO(se.rx),Y.KVO(se.uP,8),Y.KVO(iy,8),Y.KVO(II,8),Y.KVO(Y.Agw),Y.KVO(Y.SKi),Y.KVO(J.u0),Y.KVO(oy,8),Y.KVO(EI,8),Y.KVO(he.DS,8),Y.KVO(he.CP,8),Y.KVO(he.yy,8),Y.KVO(he.ZP,8),Y.KVO(he.$z,8),Y.KVO(he.AU,8),Y.KVO(he.UB,8),Y.KVO(J.Jv,8))}),(0,d.A)(n,"\u0275prov",Y.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),n})(),Jm=(()=>{var l;class n{constructor(){vI.A.registerVersion("angularfire",J.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:n,providers:[{provide:iy,useValue:!0},{provide:oy,useValue:s}]}}}return l=n,(0,d.A)(n,"\u0275fac",function(s){return new(s||l)}),(0,d.A)(n,"\u0275mod",Y.$C({type:l})),(0,d.A)(n,"\u0275inj",Y.G2t({providers:[cl]})),n})()},9253:(dn,pt,k)=>{"use strict";k.d(pt,{BM:()=>We,Gt:()=>he,bf:()=>Ve,e7:()=>ve,iB:()=>ue,rx:()=>Be,uP:()=>fe});var d=k(9842),f=k(4438),Y=k(1825),J=k(7935);const se=["ngOnDestroy"],he=(qe,st,pe,me={})=>new Proxy(qe,{get:(be,tt)=>pe.runOutsideAngular(()=>{var nt;if(qe[tt])return null!=me&&null!==(nt=me.spy)&&void 0!==nt&&nt.get&&me.spy.get(tt,qe[tt]),qe[tt];if(se.indexOf(tt)>-1)return()=>{};const Dt=st.toPromise().then($e=>{const xe=null==$e?void 0:$e[tt];return"function"==typeof xe?xe.bind($e):null!=xe&&xe.then?xe.then(kt=>pe.run(()=>kt)):pe.run(()=>xe)});return new Proxy(()=>{},{get:($e,xe)=>Dt[xe],apply:($e,xe,kt)=>Dt.then($t=>{var an;const Qt=null==$t?void 0:$t(...kt);return null!=me&&null!==(an=me.spy)&&void 0!==an&&an.apply&&me.spy.apply(tt,kt,Qt),Qt})})})}),ve=(qe,st)=>{st.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(me=>{Object.defineProperty(qe.prototype,me,Object.getOwnPropertyDescriptor(pe.prototype||pe,me))})})};class Oe{constructor(st){return st}}const Be=new f.nKC("angularfire2.app.options"),fe=new f.nKC("angularfire2.app.name");function ue(qe,st,pe){const be="object"==typeof pe&&pe||{};be.name=be.name||"string"==typeof pe&&pe||"[DEFAULT]";const nt=J.A.apps.filter(Dt=>Dt&&Dt.name===be.name)[0]||st.runOutsideAngular(()=>J.A.initializeApp(qe,be));try{if(JSON.stringify(qe)!==JSON.stringify(nt.options)){const Dt=!!module.hot;Se("error",`${nt.name} Firebase App already initialized with different options${Dt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Oe(nt)}const Se=(qe,...st)=>{(0,f.naY)()&&typeof console<"u"&&console[qe](...st)},Fe={provide:Oe,useFactory:ue,deps:[Be,f.SKi,[new f.Xx1,fe]]};let Ve=(()=>{var qe;class st{static initializeApp(me,be){return{ngModule:st,providers:[{provide:Be,useValue:me},{provide:fe,useValue:be}]}}constructor(me){J.A.registerVersion("angularfire",Y.xv.full,"core"),J.A.registerVersion("angularfire",Y.xv.full,"app-compat"),J.A.registerVersion("angular",f.xvI.full,me.toString())}}return qe=st,(0,d.A)(st,"\u0275fac",function(me){return new(me||qe)(f.KVO(f.Agw))}),(0,d.A)(st,"\u0275mod",f.$C({type:qe})),(0,d.A)(st,"\u0275inj",f.G2t({providers:[Fe]})),st})();function We(qe,st,pe,me,be){const[,tt,nt]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===qe)||[];if(tt)return function it(qe,st){try{return qe.toString()===st.toString()}catch{return qe===st}}(be,nt)||(Ke("error",`${st} was already initialized on the ${pe} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:be,was:nt})),tt;{const Dt=me();return globalThis.\u0275AngularfireInstanceCache.push([qe,Dt,be]),Dt}}const Ye=typeof module<"u"&&!!module.hot,Ke=(qe,...st)=>{(0,f.naY)()&&typeof console<"u"&&console[qe](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1825:(dn,pt,k)=>{"use strict";k.d(pt,{xv:()=>it,U0:()=>an,u0:()=>nt,Jv:()=>st});var d=k(9842),f=k(4438),Y=k(7852);(0,Y.registerVersion)("firebase","10.14.1","app");var he=k(6780),Oe=k(9687);const fe=new class Be extends Oe.q{}(class ve extends he.R{constructor(Ee,Ie){super(Ee,Ie),this.scheduler=Ee,this.work=Ie}schedule(Ee,Ie=0){return Ie>0?super.schedule(Ee,Ie):(this.delay=Ie,this.state=Ee,this.scheduler.flush(this),this)}execute(Ee,Ie){return Ie>0||this.closed?super.execute(Ee,Ie):this._execute(Ee,Ie)}requestAsyncId(Ee,Ie,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(Ee,Ie,Z):(Ee.flush(this),0)}});var Se=k(3236),Fe=k(8141),Ve=k(6745),We=k(941);const it=new f.RxE("ANGULARFIRE2_VERSION");class st{constructor(){return(De=>{const Ie=(0,Y.getApps)(),Z=[];return Ie.forEach(Ce=>{Ce.container.getProvider(De).instances.forEach(je=>{Z.includes(je)||Z.push(je)})}),Z})(pe)}}const pe="app-check";function me(){}class be{constructor(Ee,Ie=fe){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=Ee,this.delegate=Ie}now(){return this.delegate.now()}schedule(Ee,Ie,Z){const Ce=this.zone;return this.delegate.schedule(function(je){Ce.runGuarded(()=>{Ee.apply(this,[je])})},Ie,Z)}}class tt{constructor(Ee){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=Ee}call(Ee,Ie){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",me,{},me,me)),Ie.pipe((0,Fe.M)({next:Z,complete:Z,error:Z})).subscribe(Ee).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nt=(()=>{var De;class Ee{constructor(Z){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=Z.run(()=>new be(Zone.current,Se.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return De=Ee,(0,d.A)(Ee,"\u0275fac",function(Z){return new(Z||De)(f.KVO(f.SKi))}),(0,d.A)(Ee,"\u0275prov",f.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})),Ee})();function an(De){return function Qt(De){return function(Ie){return(Ie=Ie.lift(new tt(De.ngZone))).pipe((0,Ve._)(De.outsideAngular),(0,We.Q)(De.insideAngular))}}(function Dt(){const De=globalThis.\u0275AngularFireScheduler;if(!De)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return De}())(De)}},9417:(dn,pt,k)=>{"use strict";k.d(pt,{BC:()=>zt,JD:()=>Vt,VZ:()=>wo,X1:()=>$s,YN:()=>Ta,YS:()=>ks,cV:()=>jo,cb:()=>Me,cz:()=>Ke,j4:()=>P,k0:()=>pe,kq:()=>Be,ok:()=>ws,qT:()=>Xi,vO:()=>Sn,vS:()=>ss,zX:()=>to});var d=k(4438),f=k(177),Y=k(8455),J=k(7468),se=k(1413),he=k(6354);let ve=(()=>{var H;class x{constructor($,ce){this._renderer=$,this._elementRef=ce,this.onChange=en=>{},this.onTouched=()=>{}}setProperty($,ce){this._renderer.setProperty(this._elementRef.nativeElement,$,ce)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return(H=x).\u0275fac=function($){return new($||H)(d.rXU(d.sFG),d.rXU(d.aKT))},H.\u0275dir=d.FsC({type:H}),x})(),Oe=(()=>{var H;class x extends ve{}return(H=x).\u0275fac=(()=>{let te;return function(ce){return(te||(te=d.xGo(H)))(ce||H)}})(),H.\u0275dir=d.FsC({type:H,features:[d.Vt3]}),x})();const Be=new d.nKC(""),Se={provide:Be,useExisting:(0,d.Rfq)(()=>We),multi:!0},Ve=new d.nKC("");let We=(()=>{var H;class x extends ve{constructor($,ce,en){super($,ce),this._compositionMode=en,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fe(){const H=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue($){this.setProperty("value",null==$?"":$)}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return(H=x).\u0275fac=function($){return new($||H)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(Ve,8))},H.\u0275dir=d.FsC({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ce){1&$&&d.bIt("input",function(Hn){return ce._handleInput(Hn.target.value)})("blur",function(){return ce.onTouched()})("compositionstart",function(){return ce._compositionStart()})("compositionend",function(Hn){return ce._compositionEnd(Hn.target.value)})},features:[d.Jv_([Se]),d.Vt3]}),x})();function it(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function Ye(H){return null!=H&&"number"==typeof H.length}const Ke=new d.nKC(""),qe=new d.nKC(""),st=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pe{static min(x){return me(x)}static max(x){return be(x)}static required(x){return tt(x)}static requiredTrue(x){return function nt(H){return!0===H.value?null:{required:!0}}(x)}static email(x){return function Dt(H){return it(H.value)||st.test(H.value)?null:{email:!0}}(x)}static minLength(x){return function $e(H){return x=>it(x.value)||!Ye(x.value)?null:x.value.length<H?{minlength:{requiredLength:H,actualLength:x.value.length}}:null}(x)}static maxLength(x){return function xe(H){return x=>Ye(x.value)&&x.value.length>H?{maxlength:{requiredLength:H,actualLength:x.value.length}}:null}(x)}static pattern(x){return function kt(H){if(!H)return $t;let x,te;return"string"==typeof H?(te="","^"!==H.charAt(0)&&(te+="^"),te+=H,"$"!==H.charAt(H.length-1)&&(te+="$"),x=new RegExp(te)):(te=H.toString(),x=H),$=>{if(it($.value))return null;const ce=$.value;return x.test(ce)?null:{pattern:{requiredPattern:te,actualValue:ce}}}}(x)}static nullValidator(x){return null}static compose(x){return Ie(x)}static composeAsync(x){return Ce(x)}}function me(H){return x=>{if(it(x.value)||it(H))return null;const te=parseFloat(x.value);return!isNaN(te)&&te<H?{min:{min:H,actual:x.value}}:null}}function be(H){return x=>{if(it(x.value)||it(H))return null;const te=parseFloat(x.value);return!isNaN(te)&&te>H?{max:{max:H,actual:x.value}}:null}}function tt(H){return it(H.value)?{required:!0}:null}function $t(H){return null}function an(H){return null!=H}function Qt(H){return(0,d.jNT)(H)?(0,Y.H)(H):H}function Tn(H){let x={};return H.forEach(te=>{x=null!=te?{...x,...te}:x}),0===Object.keys(x).length?null:x}function Pt(H,x){return x.map(te=>te(H))}function Ee(H){return H.map(x=>function De(H){return!H.validate}(x)?x:te=>x.validate(te))}function Ie(H){if(!H)return null;const x=H.filter(an);return 0==x.length?null:function(te){return Tn(Pt(te,x))}}function Z(H){return null!=H?Ie(Ee(H)):null}function Ce(H){if(!H)return null;const x=H.filter(an);return 0==x.length?null:function(te){const $=Pt(te,x).map(Qt);return(0,J.p)($).pipe((0,he.T)(Tn))}}function Xe(H){return null!=H?Ce(Ee(H)):null}function je(H,x){return null===H?[x]:Array.isArray(H)?[...H,x]:[H,x]}function Re(H){return H._rawValidators}function et(H){return H._rawAsyncValidators}function rt(H){return H?Array.isArray(H)?H:[H]:[]}function Tt(H,x){return Array.isArray(H)?H.includes(x):H===x}function yn(H,x){const te=rt(x);return rt(H).forEach(ce=>{Tt(te,ce)||te.push(ce)}),te}function at(H,x){return rt(x).filter(te=>!Tt(H,te))}class rn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Z(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x=void 0){this.control&&this.control.reset(x)}hasError(x,te){return!!this.control&&this.control.hasError(x,te)}getError(x,te){return this.control?this.control.getError(x,te):null}}class hn extends rn{get formDirective(){return null}get path(){return null}}class Sn extends rn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nt{constructor(x){this._cd=x}get isTouched(){var x,te,$;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(te=x._touched)||void 0===te||te.call(x),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.touched)}get isUntouched(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.untouched)}get isPristine(){var x,te,$;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(te=x._pristine)||void 0===te||te.call(x),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.pristine)}get isDirty(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.dirty)}get isValid(){var x,te,$;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(te=x._status)||void 0===te||te.call(x),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.valid)}get isInvalid(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.invalid)}get isPending(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.pending)}get isSubmitted(){var x,te,$;return null===(x=this._cd)||void 0===x||null===(te=x._submitted)||void 0===te||te.call(x),!(null===($=this._cd)||void 0===$||!$.submitted)}}let zt=(()=>{var H;class x extends Nt{constructor($){super($)}}return(H=x).\u0275fac=function($){return new($||H)(d.rXU(Sn,2))},H.\u0275dir=d.FsC({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ce){2&$&&d.AVh("ng-untouched",ce.isUntouched)("ng-touched",ce.isTouched)("ng-pristine",ce.isPristine)("ng-dirty",ce.isDirty)("ng-valid",ce.isValid)("ng-invalid",ce.isInvalid)("ng-pending",ce.isPending)},features:[d.Vt3]}),x})(),Me=(()=>{var H;class x extends Nt{constructor($){super($)}}return(H=x).\u0275fac=function($){return new($||H)(d.rXU(hn,10))},H.\u0275dir=d.FsC({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,ce){2&$&&d.AVh("ng-untouched",ce.isUntouched)("ng-touched",ce.isTouched)("ng-pristine",ce.isPristine)("ng-dirty",ce.isDirty)("ng-valid",ce.isValid)("ng-invalid",ce.isInvalid)("ng-pending",ce.isPending)("ng-submitted",ce.isSubmitted)},features:[d.Vt3]}),x})();const Kr="VALID",Mn="INVALID",qn="PENDING",Jn="DISABLED";class Yt{}class bt extends Yt{constructor(x,te){super(),this.value=x,this.source=te}}class ut extends Yt{constructor(x,te){super(),this.pristine=x,this.source=te}}class xt extends Yt{constructor(x,te){super(),this.touched=x,this.source=te}}class ot extends Yt{constructor(x,te){super(),this.status=x,this.source=te}}class dt extends Yt{constructor(x){super(),this.source=x}}class Zt extends Yt{constructor(x){super(),this.source=x}}function Ae(H){return(gt(H)?H.validators:H)||null}function Ze(H,x){return(gt(x)?x.asyncValidators:H)||null}function gt(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}function vn(H,x,te){const $=H.controls;if(!(x?Object.keys($):$).length)throw new d.wOt(1e3,"");if(!$[te])throw new d.wOt(1001,"")}function En(H,x,te){H._forEachChild(($,ce)=>{if(void 0===te[ce])throw new d.wOt(1002,"")})}class hr{constructor(x,te){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new se.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(x),this._assignAsyncValidators(te)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(x){(0,d.O8t)(()=>this.statusReactive.set(x))}get valid(){return this.status===Kr}get invalid(){return this.status===Mn}get pending(){return this.status==qn}get disabled(){return this.status===Jn}get enabled(){return this.status!==Jn}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(x){(0,d.O8t)(()=>this.pristineReactive.set(x))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(x){(0,d.O8t)(()=>this.touchedReactive.set(x))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(yn(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(yn(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(at(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(at(x,this._rawAsyncValidators))}hasValidator(x){return Tt(this._rawValidators,x)}hasAsyncValidator(x){return Tt(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){var te;const $=!1===this.touched;this.touched=!0;const ce=null!==(te=x.sourceControl)&&void 0!==te?te:this;this._parent&&!x.onlySelf&&this._parent.markAsTouched({...x,sourceControl:ce}),$&&!1!==x.emitEvent&&this._events.next(new xt(!0,ce))}markAllAsTouched(x={}){this.markAsTouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:this}),this._forEachChild(te=>te.markAllAsTouched(x))}markAsUntouched(x={}){var te;const $=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ce=null!==(te=x.sourceControl)&&void 0!==te?te:this;this._forEachChild(en=>{en.markAsUntouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:ce})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,ce),$&&!1!==x.emitEvent&&this._events.next(new xt(!1,ce))}markAsDirty(x={}){var te;const $=!0===this.pristine;this.pristine=!1;const ce=null!==(te=x.sourceControl)&&void 0!==te?te:this;this._parent&&!x.onlySelf&&this._parent.markAsDirty({...x,sourceControl:ce}),$&&!1!==x.emitEvent&&this._events.next(new ut(!1,ce))}markAsPristine(x={}){var te;const $=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ce=null!==(te=x.sourceControl)&&void 0!==te?te:this;this._forEachChild(en=>{en.markAsPristine({onlySelf:!0,emitEvent:x.emitEvent})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x,ce),$&&!1!==x.emitEvent&&this._events.next(new ut(!0,ce))}markAsPending(x={}){var te;this.status=qn;const $=null!==(te=x.sourceControl)&&void 0!==te?te:this;!1!==x.emitEvent&&(this._events.next(new ot(this.status,$)),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.markAsPending({...x,sourceControl:$})}disable(x={}){var te;const $=this._parentMarkedDirty(x.onlySelf);this.status=Jn,this.errors=null,this._forEachChild(en=>{en.disable({...x,onlySelf:!0})}),this._updateValue();const ce=null!==(te=x.sourceControl)&&void 0!==te?te:this;!1!==x.emitEvent&&(this._events.next(new bt(this.value,ce)),this._events.next(new ot(this.status,ce)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:$},this),this._onDisabledChange.forEach(en=>en(!0))}enable(x={}){const te=this._parentMarkedDirty(x.onlySelf);this.status=Kr,this._forEachChild($=>{$.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:te},this),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(x,te){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine({},te),this._parent._updateTouched({},te))}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){var te;if(this._setInitialStatus(),this._updateValue(),this.enabled){const ce=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kr||this.status===qn)&&this._runAsyncValidator(ce,x.emitEvent)}const $=null!==(te=x.sourceControl)&&void 0!==te?te:this;!1!==x.emitEvent&&(this._events.next(new bt(this.value,$)),this._events.next(new ot(this.status,$)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity({...x,sourceControl:$})}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(te=>te._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jn:Kr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x,te){if(this.asyncValidator){this.status=qn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==te};const $=Qt(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(ce=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ce,{emitEvent:te,shouldHaveEmitted:x})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var x,te;this._asyncValidationSubscription.unsubscribe();const $=null!==(x=null===(te=this._hasOwnPendingAsyncValidator)||void 0===te?void 0:te.emitEvent)&&void 0!==x&&x;return this._hasOwnPendingAsyncValidator=null,$}return!1}setErrors(x,te={}){this.errors=x,this._updateControlsErrors(!1!==te.emitEvent,this,te.shouldHaveEmitted)}get(x){let te=x;return null==te||(Array.isArray(te)||(te=te.split(".")),0===te.length)?null:te.reduce(($,ce)=>$&&$._find(ce),this)}getError(x,te){const $=te?this.get(te):this;return $&&$.errors?$.errors[x]:null}hasError(x,te){return!!this.getError(x,te)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x,te,$){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),(x||$)&&this._events.next(new ot(this.status,te)),this._parent&&this._parent._updateControlsErrors(x,te,$)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?Jn:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qn)?qn:this._anyControlsHaveStatus(Mn)?Mn:Kr}_anyControlsHaveStatus(x){return this._anyControls(te=>te.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x,te){const $=!this._anyControlsDirty(),ce=this.pristine!==$;this.pristine=$,this._parent&&!x.onlySelf&&this._parent._updatePristine(x,te),ce&&this._events.next(new ut(this.pristine,te))}_updateTouched(x={},te){this.touched=this._anyControlsTouched(),this._events.next(new xt(this.touched,te)),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,te)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){gt(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function Pe(H){return Array.isArray(H)?Z(H):H||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function St(H){return Array.isArray(H)?Xe(H):H||null}(this._rawAsyncValidators)}}class Sr extends hr{constructor(x,te,$){super(Ae(te),Ze($,te)),this.controls=x,this._initObservables(),this._setUpdateStrategy(te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,te){return this.controls[x]?this.controls[x]:(this.controls[x]=te,te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange),te)}addControl(x,te,$={}){this.registerControl(x,te),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(x,te={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}setControl(x,te,$={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],te&&this.registerControl(x,te),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,te={}){En(this,0,x),Object.keys(x).forEach($=>{vn(this,!0,$),this.controls[$].setValue(x[$],{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te)}patchValue(x,te={}){null!=x&&(Object.keys(x).forEach($=>{const ce=this.controls[$];ce&&ce.patchValue(x[$],{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te))}reset(x={},te={}){this._forEachChild(($,ce)=>{$.reset(x?x[ce]:null,{onlySelf:!0,emitEvent:te.emitEvent})}),this._updatePristine(te,this),this._updateTouched(te,this),this.updateValueAndValidity(te)}getRawValue(){return this._reduceChildren({},(x,te,$)=>(x[$]=te.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(te,$)=>!!$._syncPendingControls()||te);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(te=>{const $=this.controls[te];$&&x($,te)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[te,$]of Object.entries(this.controls))if(this.contains(te)&&x($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(te,$,ce)=>(($.enabled||this.disabled)&&(te[ce]=$.value),te))}_reduceChildren(x,te){let $=x;return this._forEachChild((ce,en)=>{$=te($,ce,en)}),$}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}class Ur extends Sr{}const bn=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>qr}),qr="always";function di(H,x){return[...x.path,H]}function Xr(H,x,te=qr){var $,ce;ne(H,x),x.valueAccessor.writeValue(H.value),(H.disabled||"always"===te)&&(null===($=(ce=x.valueAccessor).setDisabledState)||void 0===$||$.call(ce,H.disabled)),function ge(H,x){x.valueAccessor.registerOnChange(te=>{H._pendingValue=te,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&Q(H,x)})}(H,x),function ye(H,x){const te=($,ce)=>{x.valueAccessor.writeValue($),ce&&x.viewToModelUpdate($)};H.registerOnChange(te),x._registerOnDestroy(()=>{H._unregisterOnChange(te)})}(H,x),function X(H,x){x.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&Q(H,x),"submit"!==H.updateOn&&H.markAsTouched()})}(H,x),function ar(H,x){if(x.valueAccessor.setDisabledState){const te=$=>{x.valueAccessor.setDisabledState($)};H.registerOnDisabledChange(te),x._registerOnDestroy(()=>{H._unregisterOnDisabledChange(te)})}}(H,x)}function Ri(H,x,te=!0){const $=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange($),x.valueAccessor.registerOnTouched($)),G(H,x),H&&(x._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function gi(H,x){H.forEach(te=>{te.registerOnValidatorChange&&te.registerOnValidatorChange(x)})}function ne(H,x){const te=Re(H);null!==x.validator?H.setValidators(je(te,x.validator)):"function"==typeof te&&H.setValidators([te]);const $=et(H);null!==x.asyncValidator?H.setAsyncValidators(je($,x.asyncValidator)):"function"==typeof $&&H.setAsyncValidators([$]);const ce=()=>H.updateValueAndValidity();gi(x._rawValidators,ce),gi(x._rawAsyncValidators,ce)}function G(H,x){let te=!1;if(null!==H){if(null!==x.validator){const ce=Re(H);if(Array.isArray(ce)&&ce.length>0){const en=ce.filter(Hn=>Hn!==x.validator);en.length!==ce.length&&(te=!0,H.setValidators(en))}}if(null!==x.asyncValidator){const ce=et(H);if(Array.isArray(ce)&&ce.length>0){const en=ce.filter(Hn=>Hn!==x.asyncValidator);en.length!==ce.length&&(te=!0,H.setAsyncValidators(en))}}}const $=()=>{};return gi(x._rawValidators,$),gi(x._rawAsyncValidators,$),te}function Q(H,x){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function ft(H,x){ne(H,x)}function Qn(H,x){if(!H.hasOwnProperty("model"))return!1;const te=H.model;return!!te.isFirstChange()||!Object.is(x,te.currentValue)}function ai(H,x){H._syncPendingControls(),x.forEach(te=>{const $=te.control;"submit"===$.updateOn&&$._pendingChange&&(te.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}function xi(H,x){if(!x)return null;let te,$,ce;return Array.isArray(x),x.forEach(en=>{en.constructor===We?te=en:function ei(H){return Object.getPrototypeOf(H.constructor)===Oe}(en)?$=en:ce=en}),ce||$||te||null}const Ei={provide:hn,useExisting:(0,d.Rfq)(()=>jo)},Ni=Promise.resolve();let jo=(()=>{var H;class x extends hn{get submitted(){return(0,d.O8t)(this.submittedReactive)}constructor($,ce,en){super(),this.callSetDisabledState=en,this._submitted=(0,d.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,d.vPA)(!1),this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new Sr({},Z($),Xe(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){Ni.then(()=>{const ce=this._findContainer($.path);$.control=ce.registerControl($.name,$.control),Xr($.control,$,this.callSetDisabledState),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){Ni.then(()=>{const ce=this._findContainer($.path);ce&&ce.removeControl($.name),this._directives.delete($)})}addFormGroup($){Ni.then(()=>{const ce=this._findContainer($.path),en=new Sr({});ft(en,$),ce.registerControl($.name,en),en.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){Ni.then(()=>{const ce=this._findContainer($.path);ce&&ce.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,ce){Ni.then(()=>{this.form.get($.path).setValue(ce)})}setValue($){this.control.setValue($)}onSubmit($){var ce;return this.submittedReactive.set(!0),ai(this.form,this._directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(ce=$.target)||void 0===ce?void 0:ce.method)}onReset(){this.resetForm()}resetForm($=void 0){this.form.reset($),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return(H=x).\u0275fac=function($){return new($||H)(d.rXU(Ke,10),d.rXU(qe,10),d.rXU(bn,8))},H.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,ce){1&$&&d.bIt("submit",function(Hn){return ce.onSubmit(Hn)})("reset",function(){return ce.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([Ei]),d.Vt3]}),x})();function Ho(H,x){const te=H.indexOf(x);te>-1&&H.splice(te,1)}function eo(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const Mi=class extends hr{constructor(x=null,te,$){super(Ae(te),Ze($,te)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(te),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gt(te)&&(te.nonNullable||te.initialValueIsDefault)&&(this.defaultValue=eo(x)?x.value:x)}setValue(x,te={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==te.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==te.emitViewToModelChange)),this.updateValueAndValidity(te)}patchValue(x,te={}){this.setValue(x,te)}reset(x=this.defaultValue,te={}){this._applyFormState(x),this.markAsPristine(te),this.markAsUntouched(te),this.setValue(this.value,te),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Ho(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Ho(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){eo(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},Go={provide:Sn,useExisting:(0,d.Rfq)(()=>ss)},jr=Promise.resolve();let ss=(()=>{var H;class x extends Sn{constructor($,ce,en,Hn,Di,co){super(),this._changeDetectorRef=Di,this.callSetDisabledState=co,this.control=new Mi,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=$,this._setValidators(ce),this._setAsyncValidators(en),this.valueAccessor=xi(0,Hn)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const ce=$.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),Qn($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){jr.then(()=>{var ce;this.control.setValue($,{emitViewToModelChange:!1}),null===(ce=this._changeDetectorRef)||void 0===ce||ce.markForCheck()})}_updateDisabled($){const ce=$.isDisabled.currentValue,en=0!==ce&&(0,d.L39)(ce);jr.then(()=>{var Hn;en&&!this.control.disabled?this.control.disable():!en&&this.control.disabled&&this.control.enable(),null===(Hn=this._changeDetectorRef)||void 0===Hn||Hn.markForCheck()})}_getPath($){return this._parent?di($,this._parent):[$]}}return(H=x).\u0275fac=function($){return new($||H)(d.rXU(hn,9),d.rXU(Ke,10),d.rXU(qe,10),d.rXU(Be,10),d.rXU(d.gRc,8),d.rXU(bn,8))},H.\u0275dir=d.FsC({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Go]),d.Vt3,d.OA$]}),x})(),Xi=(()=>{var H;class x{}return(H=x).\u0275fac=function($){return new($||H)},H.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const Nr=new d.nKC(""),ni={provide:hn,useExisting:(0,d.Rfq)(()=>P)};let P=(()=>{var H;class x extends hn{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted($){this._submittedReactive.set($)}constructor($,ce,en){super(),this.callSetDisabledState=en,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators($),this._setAsyncValidators(ce)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(G(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const ce=this.form.get($.path);return Xr(ce,$,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push($),ce}getControl($){return this.form.get($.path)}removeControl($){Ri($.control||null,$,!1),function oi(H,x){const te=H.indexOf(x);te>-1&&H.splice(te,1)}(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,ce){this.form.get($.path).setValue(ce)}onSubmit($){var ce;return this._submittedReactive.set(!0),ai(this.form,this.directives),this.ngSubmit.emit($),this.form._events.next(new dt(this.control)),"dialog"===(null==$||null===(ce=$.target)||void 0===ce?void 0:ce.method)}onReset(){this.resetForm()}resetForm($=void 0){this.form.reset($),this._submittedReactive.set(!1),this.form._events.next(new Zt(this.form))}_updateDomValue(){this.directives.forEach($=>{const ce=$.control,en=this.form.get($.path);ce!==en&&(Ri(ce||null,$),(H=>H instanceof Mi)(en)&&(Xr(en,$,this.callSetDisabledState),$.control=en))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const ce=this.form.get($.path);ft(ce,$),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const ce=this.form.get($.path);ce&&function Bt(H,x){return G(H,x)}(ce,$)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ne(this.form,this),this._oldForm&&G(this._oldForm,this)}_checkFormPresent(){}}return(H=x).\u0275fac=function($){return new($||H)(d.rXU(Ke,10),d.rXU(qe,10),d.rXU(bn,8))},H.\u0275dir=d.FsC({type:H,selectors:[["","formGroup",""]],hostBindings:function($,ce){1&$&&d.bIt("submit",function(Hn){return ce.onSubmit(Hn)})("reset",function(){return ce.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([ni]),d.Vt3,d.OA$]}),x})();const He={provide:Sn,useExisting:(0,d.Rfq)(()=>Vt)};let Vt=(()=>{var H;class x extends Sn{set isDisabled($){}constructor($,ce,en,Hn,Di){super(),this._ngModelWarningConfig=Di,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=$,this._setValidators(ce),this._setAsyncValidators(en),this.valueAccessor=xi(0,Hn)}ngOnChanges($){this._added||this._setUpControl(),Qn($,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}get path(){return di(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(H=x)._ngModelWarningSentOnce=!1,H.\u0275fac=function($){return new($||H)(d.rXU(hn,13),d.rXU(Ke,10),d.rXU(qe,10),d.rXU(Be,10),d.rXU(Nr,8))},H.\u0275dir=d.FsC({type:H,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([He]),d.Vt3,d.OA$]}),x})();function vi(H){return"number"==typeof H?H:parseFloat(H)}let _i=(()=>{var H;class x{constructor(){this._validator=$t}ngOnChanges($){if(this.inputName in $){const ce=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):$t,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return(H=x).\u0275fac=function($){return new($||H)},H.\u0275dir=d.FsC({type:H,features:[d.OA$]}),x})();const Oi={provide:Ke,useExisting:(0,d.Rfq)(()=>to),multi:!0};let to=(()=>{var H;class x extends _i{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=$=>vi($),this.createValidator=$=>be($)}}return(H=x).\u0275fac=(()=>{let te;return function(ce){return(te||(te=d.xGo(H)))(ce||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($,ce){2&$&&d.BMQ("max",ce._enabled?ce.max:null)},inputs:{max:"max"},features:[d.Jv_([Oi]),d.Vt3]}),x})();const so={provide:Ke,useExisting:(0,d.Rfq)(()=>wo),multi:!0};let wo=(()=>{var H;class x extends _i{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=$=>vi($),this.createValidator=$=>me($)}}return(H=x).\u0275fac=(()=>{let te;return function(ce){return(te||(te=d.xGo(H)))(ce||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($,ce){2&$&&d.BMQ("min",ce._enabled?ce.min:null)},inputs:{min:"min"},features:[d.Jv_([so]),d.Vt3]}),x})();const as={provide:Ke,useExisting:(0,d.Rfq)(()=>ks),multi:!0};let ks=(()=>{var H;class x extends _i{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=$=>tt}enabled($){return $}}return(H=x).\u0275fac=(()=>{let te;return function(ce){return(te||(te=d.xGo(H)))(ce||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,ce){2&$&&d.BMQ("required",ce._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([as]),d.Vt3]}),x})(),Vs=(()=>{var H;class x{}return(H=x).\u0275fac=function($){return new($||H)},H.\u0275mod=d.$C({type:H}),H.\u0275inj=d.G2t({}),x})();class us extends hr{constructor(x,te,$){super(Ae(te),Ze($,te)),this.controls=x,this._initObservables(),this._setUpdateStrategy(te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[this._adjustIndex(x)]}push(x,te={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}insert(x,te,$={}){this.controls.splice(x,0,te),this._registerControl(te),this.updateValueAndValidity({emitEvent:$.emitEvent})}removeAt(x,te={}){let $=this._adjustIndex(x);$<0&&($=0),this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:te.emitEvent})}setControl(x,te,$={}){let ce=this._adjustIndex(x);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),te&&(this.controls.splice(ce,0,te),this._registerControl(te)),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,te={}){En(this,0,x),x.forEach(($,ce)=>{vn(this,!1,ce),this.at(ce).setValue($,{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te)}patchValue(x,te={}){null!=x&&(x.forEach(($,ce)=>{this.at(ce)&&this.at(ce).patchValue($,{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te))}reset(x=[],te={}){this._forEachChild(($,ce)=>{$.reset(x[ce],{onlySelf:!0,emitEvent:te.emitEvent})}),this._updatePristine(te,this),this._updateTouched(te,this),this.updateValueAndValidity(te)}getRawValue(){return this.controls.map(x=>x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(te=>te._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_adjustIndex(x){return x<0?x+this.length:x}_syncPendingControls(){let x=this.controls.reduce((te,$)=>!!$._syncPendingControls()||te,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((te,$)=>{x(te,$)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(te=>te.enabled&&x(te))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}_find(x){var te;return null!==(te=this.at(x))&&void 0!==te?te:null}}function Ls(H){return!!H&&(void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn)}let ws=(()=>{var H;class x{constructor(){this.useNonNullable=!1}get nonNullable(){const $=new x;return $.useNonNullable=!0,$}group($,ce=null){const en=this._reduceControls($);let Hn={};return Ls(ce)?Hn=ce:null!==ce&&(Hn.validators=ce.validator,Hn.asyncValidators=ce.asyncValidator),new Sr(en,Hn)}record($,ce=null){const en=this._reduceControls($);return new Ur(en,ce)}control($,ce,en){let Hn={};return this.useNonNullable?(Ls(ce)?Hn=ce:(Hn.validators=ce,Hn.asyncValidators=en),new Mi($,{...Hn,nonNullable:!0})):new Mi($,ce,en)}array($,ce,en){const Hn=$.map(Di=>this._createControl(Di));return new us(Hn,ce,en)}_reduceControls($){const ce={};return Object.keys($).forEach(en=>{ce[en]=this._createControl($[en])}),ce}_createControl($){return $ instanceof Mi||$ instanceof hr?$:Array.isArray($)?this.control($[0],$.length>1?$[1]:null,$.length>2?$[2]:null):this.control($)}}return(H=x).\u0275fac=function($){return new($||H)},H.\u0275prov=d.jDH({token:H,factory:H.\u0275fac,providedIn:"root"}),x})(),Ta=(()=>{var H;class x{static withConfig($){var ce;return{ngModule:x,providers:[{provide:bn,useValue:null!==(ce=$.callSetDisabledState)&&void 0!==ce?ce:qr}]}}}return(H=x).\u0275fac=function($){return new($||H)},H.\u0275mod=d.$C({type:H}),H.\u0275inj=d.G2t({imports:[Vs]}),x})(),$s=(()=>{var H;class x{static withConfig($){var ce,en;return{ngModule:x,providers:[{provide:Nr,useValue:null!==(ce=$.warnOnNgModelWithFormControl)&&void 0!==ce?ce:"always"},{provide:bn,useValue:null!==(en=$.callSetDisabledState)&&void 0!==en?en:qr}]}}}return(H=x).\u0275fac=function($){return new($||H)},H.\u0275mod=d.$C({type:H}),H.\u0275inj=d.G2t({imports:[Vs]}),x})()},345:(dn,pt,k)=>{"use strict";k.d(pt,{Bb:()=>Sn,hE:()=>xn,sG:()=>yn});var d=k(177),f=k(4438);class Y extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends Y{static makeCurrent(){(0,d.ZD)(new J)}onAndCancel(ut,xt,ot){return ut.addEventListener(xt,ot),()=>{ut.removeEventListener(xt,ot)}}dispatchEvent(ut,xt){ut.dispatchEvent(xt)}remove(ut){ut.remove()}createElement(ut,xt){return(xt=xt||this.getDefaultDocument()).createElement(ut)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ut){return ut.nodeType===Node.ELEMENT_NODE}isShadowRoot(ut){return ut instanceof DocumentFragment}getGlobalEventTarget(ut,xt){return"window"===xt?window:"document"===xt?ut:"body"===xt?ut.body:null}getBaseHref(ut){const xt=function he(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==xt?null:function ve(bt){return new URL(bt,document.baseURI).pathname}(xt)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(ut){return(0,d._b)(document.cookie,ut)}}let se=null,Be=(()=>{var bt;class ut{build(){return new XMLHttpRequest}}return(bt=ut).\u0275fac=function(ot){return new(ot||bt)},bt.\u0275prov=f.jDH({token:bt,factory:bt.\u0275fac}),ut})();const fe=new f.nKC("");let ue=(()=>{var bt;class ut{constructor(ot,dt){this._zone=dt,this._eventNameToPlugin=new Map,ot.forEach(Zt=>{Zt.manager=this}),this._plugins=ot.slice().reverse()}addEventListener(ot,dt,Zt){return this._findPluginFor(dt).addEventListener(ot,dt,Zt)}getZone(){return this._zone}_findPluginFor(ot){let dt=this._eventNameToPlugin.get(ot);if(dt)return dt;if(dt=this._plugins.find(Ae=>Ae.supports(ot)),!dt)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(ot,dt),dt}}return(bt=ut).\u0275fac=function(ot){return new(ot||bt)(f.KVO(fe),f.KVO(f.SKi))},bt.\u0275prov=f.jDH({token:bt,factory:bt.\u0275fac}),ut})();class Se{constructor(ut){this._doc=ut}}const Fe="ng-app-id";let Ve=(()=>{var bt;class ut{constructor(ot,dt,Zt,Ae={}){this.doc=ot,this.appId=dt,this.nonce=Zt,this.platformId=Ae,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(Ae),this.resetHostNodes()}addStyles(ot){for(const dt of ot)1===this.changeUsageCount(dt,1)&&this.onStyleAdded(dt)}removeStyles(ot){for(const dt of ot)this.changeUsageCount(dt,-1)<=0&&this.onStyleRemoved(dt)}ngOnDestroy(){const ot=this.styleNodesInDOM;ot&&(ot.forEach(dt=>dt.remove()),ot.clear());for(const dt of this.getAllStyles())this.onStyleRemoved(dt);this.resetHostNodes()}addHost(ot){this.hostNodes.add(ot);for(const dt of this.getAllStyles())this.addStyleToHost(ot,dt)}removeHost(ot){this.hostNodes.delete(ot)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ot){for(const dt of this.hostNodes)this.addStyleToHost(dt,ot)}onStyleRemoved(ot){var dt;const Zt=this.styleRef;null===(dt=Zt.get(ot))||void 0===dt||null===(dt=dt.elements)||void 0===dt||dt.forEach(Ae=>Ae.remove()),Zt.delete(ot)}collectServerRenderedStyles(){var ot;const dt=null===(ot=this.doc.head)||void 0===ot?void 0:ot.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(null!=dt&&dt.length){const Zt=new Map;return dt.forEach(Ae=>{null!=Ae.textContent&&Zt.set(Ae.textContent,Ae)}),Zt}return null}changeUsageCount(ot,dt){const Zt=this.styleRef;if(Zt.has(ot)){const Ae=Zt.get(ot);return Ae.usage+=dt,Ae.usage}return Zt.set(ot,{usage:dt,elements:[]}),dt}getStyleElement(ot,dt){const Zt=this.styleNodesInDOM,Ae=null==Zt?void 0:Zt.get(dt);if((null==Ae?void 0:Ae.parentNode)===ot)return Zt.delete(dt),Ae.removeAttribute(Fe),Ae;{const Pe=this.doc.createElement("style");return this.nonce&&Pe.setAttribute("nonce",this.nonce),Pe.textContent=dt,this.platformIsServer&&Pe.setAttribute(Fe,this.appId),ot.appendChild(Pe),Pe}}addStyleToHost(ot,dt){var Zt;const Ae=this.getStyleElement(ot,dt),Pe=this.styleRef,Ze=null===(Zt=Pe.get(dt))||void 0===Zt?void 0:Zt.elements;Ze?Ze.push(Ae):Pe.set(dt,{elements:[Ae],usage:1})}resetHostNodes(){const ot=this.hostNodes;ot.clear(),ot.add(this.doc.head)}}return(bt=ut).\u0275fac=function(ot){return new(ot||bt)(f.KVO(d.qQ),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))},bt.\u0275prov=f.jDH({token:bt,factory:bt.\u0275fac}),ut})();const We={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},it=/%COMP%/g,pe=new f.nKC("",{providedIn:"root",factory:()=>!0});function tt(bt,ut){return ut.map(xt=>xt.replace(it,bt))}let nt=(()=>{var bt;class ut{constructor(ot,dt,Zt,Ae,Pe,Ze,St,gt=null){this.eventManager=ot,this.sharedStylesHost=dt,this.appId=Zt,this.removeStylesOnCompDestroy=Ae,this.doc=Pe,this.platformId=Ze,this.ngZone=St,this.nonce=gt,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(Ze),this.defaultRenderer=new Dt(ot,Pe,St,this.platformIsServer)}createRenderer(ot,dt){if(!ot||!dt)return this.defaultRenderer;this.platformIsServer&&dt.encapsulation===f.gXe.ShadowDom&&(dt={...dt,encapsulation:f.gXe.Emulated});const Zt=this.getOrCreateRenderer(ot,dt);return Zt instanceof Qt?Zt.applyToHost(ot):Zt instanceof an&&Zt.applyStyles(),Zt}getOrCreateRenderer(ot,dt){const Zt=this.rendererByCompId;let Ae=Zt.get(dt.id);if(!Ae){const Pe=this.doc,Ze=this.ngZone,St=this.eventManager,gt=this.sharedStylesHost,vn=this.removeStylesOnCompDestroy,En=this.platformIsServer;switch(dt.encapsulation){case f.gXe.Emulated:Ae=new Qt(St,gt,dt,this.appId,vn,Pe,Ze,En);break;case f.gXe.ShadowDom:return new $t(St,gt,ot,dt,Pe,Ze,this.nonce,En);default:Ae=new an(St,gt,dt,vn,Pe,Ze,En)}Zt.set(dt.id,Ae)}return Ae}ngOnDestroy(){this.rendererByCompId.clear()}}return(bt=ut).\u0275fac=function(ot){return new(ot||bt)(f.KVO(ue),f.KVO(Ve),f.KVO(f.sZ2),f.KVO(pe),f.KVO(d.qQ),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))},bt.\u0275prov=f.jDH({token:bt,factory:bt.\u0275fac}),ut})();class Dt{constructor(ut,xt,ot,dt){this.eventManager=ut,this.doc=xt,this.ngZone=ot,this.platformIsServer=dt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ut,xt){return xt?this.doc.createElementNS(We[xt]||xt,ut):this.doc.createElement(ut)}createComment(ut){return this.doc.createComment(ut)}createText(ut){return this.doc.createTextNode(ut)}appendChild(ut,xt){(kt(ut)?ut.content:ut).appendChild(xt)}insertBefore(ut,xt,ot){ut&&(kt(ut)?ut.content:ut).insertBefore(xt,ot)}removeChild(ut,xt){xt.remove()}selectRootElement(ut,xt){let ot="string"==typeof ut?this.doc.querySelector(ut):ut;if(!ot)throw new f.wOt(-5104,!1);return xt||(ot.textContent=""),ot}parentNode(ut){return ut.parentNode}nextSibling(ut){return ut.nextSibling}setAttribute(ut,xt,ot,dt){if(dt){xt=dt+":"+xt;const Zt=We[dt];Zt?ut.setAttributeNS(Zt,xt,ot):ut.setAttribute(xt,ot)}else ut.setAttribute(xt,ot)}removeAttribute(ut,xt,ot){if(ot){const dt=We[ot];dt?ut.removeAttributeNS(dt,xt):ut.removeAttribute(`${ot}:${xt}`)}else ut.removeAttribute(xt)}addClass(ut,xt){ut.classList.add(xt)}removeClass(ut,xt){ut.classList.remove(xt)}setStyle(ut,xt,ot,dt){dt&(f.czy.DashCase|f.czy.Important)?ut.style.setProperty(xt,ot,dt&f.czy.Important?"important":""):ut.style[xt]=ot}removeStyle(ut,xt,ot){ot&f.czy.DashCase?ut.style.removeProperty(xt):ut.style[xt]=""}setProperty(ut,xt,ot){null!=ut&&(ut[xt]=ot)}setValue(ut,xt){ut.nodeValue=xt}listen(ut,xt,ot){if("string"==typeof ut&&!(ut=(0,d.QT)().getGlobalEventTarget(this.doc,ut)))throw new Error(`Unsupported event target ${ut} for event ${xt}`);return this.eventManager.addEventListener(ut,xt,this.decoratePreventDefault(ot))}decoratePreventDefault(ut){return xt=>{if("__ngUnwrap__"===xt)return ut;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ut(xt)):ut(xt))&&xt.preventDefault()}}}function kt(bt){return"TEMPLATE"===bt.tagName&&void 0!==bt.content}class $t extends Dt{constructor(ut,xt,ot,dt,Zt,Ae,Pe,Ze){super(ut,Zt,Ae,Ze),this.sharedStylesHost=xt,this.hostEl=ot,this.shadowRoot=ot.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=tt(dt.id,dt.styles);for(const gt of St){const vn=document.createElement("style");Pe&&vn.setAttribute("nonce",Pe),vn.textContent=gt,this.shadowRoot.appendChild(vn)}}nodeOrShadowRoot(ut){return ut===this.hostEl?this.shadowRoot:ut}appendChild(ut,xt){return super.appendChild(this.nodeOrShadowRoot(ut),xt)}insertBefore(ut,xt,ot){return super.insertBefore(this.nodeOrShadowRoot(ut),xt,ot)}removeChild(ut,xt){return super.removeChild(null,xt)}parentNode(ut){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ut)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class an extends Dt{constructor(ut,xt,ot,dt,Zt,Ae,Pe,Ze){super(ut,Zt,Ae,Pe),this.sharedStylesHost=xt,this.removeStylesOnCompDestroy=dt,this.styles=Ze?tt(Ze,ot.styles):ot.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Qt extends an{constructor(ut,xt,ot,dt,Zt,Ae,Pe,Ze){const St=dt+"-"+ot.id;super(ut,xt,ot,Zt,Ae,Pe,Ze,St),this.contentAttr=function me(bt){return"_ngcontent-%COMP%".replace(it,bt)}(St),this.hostAttr=function be(bt){return"_nghost-%COMP%".replace(it,bt)}(St)}applyToHost(ut){this.applyStyles(),this.setAttribute(ut,this.hostAttr,"")}createElement(ut,xt){const ot=super.createElement(ut,xt);return super.setAttribute(ot,this.contentAttr,""),ot}}let Tn=(()=>{var bt;class ut extends Se{constructor(ot){super(ot)}supports(ot){return!0}addEventListener(ot,dt,Zt){return ot.addEventListener(dt,Zt,!1),()=>this.removeEventListener(ot,dt,Zt)}removeEventListener(ot,dt,Zt){return ot.removeEventListener(dt,Zt)}}return(bt=ut).\u0275fac=function(ot){return new(ot||bt)(f.KVO(d.qQ))},bt.\u0275prov=f.jDH({token:bt,factory:bt.\u0275fac}),ut})();const Pt=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ee={alt:bt=>bt.altKey,control:bt=>bt.ctrlKey,meta:bt=>bt.metaKey,shift:bt=>bt.shiftKey};let Ie=(()=>{var bt;class ut extends Se{constructor(ot){super(ot)}supports(ot){return null!=ut.parseEventName(ot)}addEventListener(ot,dt,Zt){const Ae=ut.parseEventName(dt),Pe=ut.eventCallback(Ae.fullKey,Zt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(ot,Ae.domEventName,Pe))}static parseEventName(ot){const dt=ot.toLowerCase().split("."),Zt=dt.shift();if(0===dt.length||"keydown"!==Zt&&"keyup"!==Zt)return null;const Ae=ut._normalizeKey(dt.pop());let Pe="",Ze=dt.indexOf("code");if(Ze>-1&&(dt.splice(Ze,1),Pe="code."),Pt.forEach(gt=>{const vn=dt.indexOf(gt);vn>-1&&(dt.splice(vn,1),Pe+=gt+".")}),Pe+=Ae,0!=dt.length||0===Ae.length)return null;const St={};return St.domEventName=Zt,St.fullKey=Pe,St}static matchEventFullKeyCode(ot,dt){let Zt=De[ot.key]||ot.key,Ae="";return dt.indexOf("code.")>-1&&(Zt=ot.code,Ae="code."),!(null==Zt||!Zt)&&(Zt=Zt.toLowerCase()," "===Zt?Zt="space":"."===Zt&&(Zt="dot"),Pt.forEach(Pe=>{Pe!==Zt&&(0,Ee[Pe])(ot)&&(Ae+=Pe+".")}),Ae+=Zt,Ae===dt)}static eventCallback(ot,dt,Zt){return Ae=>{ut.matchEventFullKeyCode(Ae,ot)&&Zt.runGuarded(()=>dt(Ae))}}static _normalizeKey(ot){return"esc"===ot?"escape":ot}}return(bt=ut).\u0275fac=function(ot){return new(ot||bt)(f.KVO(d.qQ))},bt.\u0275prov=f.jDH({token:bt,factory:bt.\u0275fac}),ut})();const yn=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:d.AJ},{provide:f.PLl,useValue:function Re(){J.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function rt(){return(0,f.TL$)(document),document},deps:[]}]),at=new f.nKC(""),rn=[{provide:f.e01,useClass:class Oe{addToWindow(ut){f.JZv.getAngularTestability=(ot,dt=!0)=>{const Zt=ut.findTestabilityInTree(ot,dt);if(null==Zt)throw new f.wOt(5103,!1);return Zt},f.JZv.getAllAngularTestabilities=()=>ut.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>ut.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(ot=>{const dt=f.JZv.getAllAngularTestabilities();let Zt=dt.length;const Ae=function(){Zt--,0==Zt&&ot()};dt.forEach(Pe=>{Pe.whenStable(Ae)})})}findTestabilityInTree(ut,xt,ot){if(null==xt)return null;const dt=ut.getTestability(xt);return null!=dt?dt:ot?(0,d.QT)().isShadowRoot(xt)?this.findTestabilityInTree(ut,xt.host,!0):this.findTestabilityInTree(ut,xt.parentElement,!0):null}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],hn=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function et(){return new f.zcH},deps:[]},{provide:fe,useClass:Tn,multi:!0,deps:[d.qQ,f.SKi,f.Agw]},{provide:fe,useClass:Ie,multi:!0,deps:[d.qQ]},nt,Ve,ue,{provide:f._9s,useExisting:nt},{provide:d.N0,useClass:Be,deps:[]},[]];let Sn=(()=>{var bt;class ut{constructor(ot){}static withServerTransition(ot){return{ngModule:ut,providers:[{provide:f.sZ2,useValue:ot.appId}]}}}return(bt=ut).\u0275fac=function(ot){return new(ot||bt)(f.KVO(at,12))},bt.\u0275mod=f.$C({type:bt}),bt.\u0275inj=f.G2t({providers:[...hn,...rn],imports:[d.MD,f.Hbi]}),ut})(),xn=(()=>{var bt;class ut{constructor(ot){this._doc=ot}getTitle(){return this._doc.title}setTitle(ot){this._doc.title=ot||""}}return(bt=ut).\u0275fac=function(ot){return new(ot||bt)(f.KVO(d.qQ))},bt.\u0275prov=f.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"}),ut})()},4964:(dn,pt,k)=>{"use strict";k.d(pt,{nX:()=>Lt,Zp:()=>P,Z:()=>ai,Xk:()=>Tt,Kp:()=>Zi,b:()=>ke,Ix:()=>mi,Wk:()=>Ln,iI:()=>Oa,Sd:()=>Wn});var d=k(4438),f=k(1985),Y=k(8071),se=k(8455),he=k(7673),ve=k(4412),Oe=k(4572),Be=k(9350),fe=k(8793),ue=k(8750);function Se(D){return new f.c(S=>{(0,ue.Tg)(D()).subscribe(S)})}var Fe=k(1203);function Ve(D,S){const N=(0,Y.T)(D)?D:()=>D,w=F=>F.error(N());return new f.c(S?F=>S.schedule(w,0,F):w)}var We=k(983),it=k(8359),Ye=k(9974),Ke=k(4360);function qe(){return(0,Ye.N)((D,S)=>{let N=null;D._refCount++;const w=(0,Ke._)(S,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(N=null);const F=D._connection,ae=N;N=null,F&&(!ae||F===ae)&&F.unsubscribe(),S.unsubscribe()});D.subscribe(w),w.closed||(N=D.connect())})}class st extends f.c{constructor(S,N){super(),this.source=S,this.subjectFactory=N,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,null==S||S.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new it.yU;const N=this.getSubject();S.add(this.source.subscribe((0,Ke._)(N,void 0,()=>{this._teardown(),N.complete()},w=>{this._teardown(),N.error(w)},()=>this._teardown()))),S.closed&&(this._connection=null,S=it.yU.EMPTY)}return S}refCount(){return qe()(this)}}var pe=k(1413),me=k(177),be=k(6354),tt=k(5558),nt=k(6697),Dt=k(9172),$e=k(5964),xe=k(1397),kt=k(1594);function $t(D,S){return(0,Y.T)(S)?(0,xe.Z)(D,S,1):(0,xe.Z)(D,1)}var an=k(8141);function Qt(D){return(0,Ye.N)((S,N)=>{let ae,w=null,F=!1;w=S.subscribe((0,Ke._)(N,void 0,void 0,de=>{ae=(0,ue.Tg)(D(de,Qt(D)(S))),w?(w.unsubscribe(),w=null,ae.subscribe(N)):F=!0})),F&&(w.unsubscribe(),w=null,ae.subscribe(N))})}var Tn=k(2816),Pt=k(9901);function De(D){return D<=0?()=>We.w:(0,Ye.N)((S,N)=>{let w=[];S.subscribe((0,Ke._)(N,F=>{w.push(F),D<w.length&&w.shift()},()=>{for(const F of w)N.next(F);N.complete()},void 0,()=>{w=null}))})}var Ee=k(3774),Ie=k(3669);function Xe(D){return(0,Ye.N)((S,N)=>{try{S.subscribe(N)}finally{N.add(D)}})}var je=k(5343),et=k(6365),rt=k(345);const Tt="primary",yn=Symbol("RouteTitle");class at{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const N=this.params[S];return Array.isArray(N)?N[0]:N}return null}getAll(S){if(this.has(S)){const N=this.params[S];return Array.isArray(N)?N:[N]}return[]}get keys(){return Object.keys(this.params)}}function rn(D){return new at(D)}function hn(D,S,N){const w=N.path.split("/");if(w.length>D.length||"full"===N.pathMatch&&(S.hasChildren()||w.length<D.length))return null;const F={};for(let ae=0;ae<w.length;ae++){const de=w[ae],yt=D[ae];if(":"===de[0])F[de.substring(1)]=yt;else if(de!==yt.path)return null}return{consumed:D.slice(0,w.length),posParams:F}}function Nt(D,S){const N=D?qt(D):void 0,w=S?qt(S):void 0;if(!N||!w||N.length!=w.length)return!1;let F;for(let ae=0;ae<N.length;ae++)if(F=N[ae],!xn(D[F],S[F]))return!1;return!0}function qt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function xn(D,S){if(Array.isArray(D)&&Array.isArray(S)){if(D.length!==S.length)return!1;const N=[...D].sort(),w=[...S].sort();return N.every((F,ae)=>w[ae]===F)}return D===S}function zt(D){return D.length>0?D[D.length-1]:null}function Me(D){return function J(D){return!!D&&(D instanceof f.c||(0,Y.T)(D.lift)&&(0,Y.T)(D.subscribe))}(D)?D:(0,d.jNT)(D)?(0,se.H)(Promise.resolve(D)):(0,he.of)(D)}const Le={exact:function jn(D,S,N){if(!mn(D.segments,S.segments)||!Xn(D.segments,S.segments,N)||D.numberOfChildren!==S.numberOfChildren)return!1;for(const w in S.children)if(!D.children[w]||!jn(D.children[w],S.children[w],N))return!1;return!0},subset:gn},Rt={exact:function On(D,S){return Nt(D,S)},subset:function Cn(D,S){return Object.keys(S).length<=Object.keys(D).length&&Object.keys(S).every(N=>xn(D[N],S[N]))},ignored:()=>!0};function vt(D,S,N){return Le[N.paths](D.root,S.root,N.matrixParams)&&Rt[N.queryParams](D.queryParams,S.queryParams)&&!("exact"===N.fragment&&D.fragment!==S.fragment)}function gn(D,S,N){return Zn(D,S,S.segments,N)}function Zn(D,S,N,w){if(D.segments.length>N.length){const F=D.segments.slice(0,N.length);return!(!mn(F,N)||S.hasChildren()||!Xn(F,N,w))}if(D.segments.length===N.length){if(!mn(D.segments,N)||!Xn(D.segments,N,w))return!1;for(const F in S.children)if(!D.children[F]||!gn(D.children[F],S.children[F],w))return!1;return!0}{const F=N.slice(0,D.segments.length),ae=N.slice(D.segments.length);return!!(mn(D.segments,F)&&Xn(D.segments,F,w)&&D.children[Tt])&&Zn(D.children[Tt],S,ae,w)}}function Xn(D,S,N){return S.every((w,F)=>Rt[N](D[F].parameters,w.parameters))}class Gn{constructor(S=new tr([],{}),N={},w=null){this.root=S,this.queryParams=N,this.fragment=w}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return cn.serialize(this)}}class tr{constructor(S,N){this.segments=S,this.children=N,this.parent=null,Object.values(N).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kr(this)}}class Dr{constructor(S,N){this.path=S,this.parameters=N}get parameterMap(){var S;return null!==(S=this._parameterMap)&&void 0!==S||(this._parameterMap=rn(this.parameters)),this._parameterMap}toString(){return ot(this)}}function mn(D,S){return D.length===S.length&&D.every((N,w)=>N.path===S[w].path)}let Wn=(()=>{var D;class S{}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:()=>new ir,providedIn:"root"}),S})();class ir{parse(S){const N=new Sr(S);return new Gn(N.parseRootSegment(),N.parseQueryParams(),N.parseFragment())}serialize(S){const N=`/${Mn(S.root,!0)}`,w=function Zt(D){const S=Object.entries(D).map(([N,w])=>Array.isArray(w)?w.map(F=>`${Jn(N)}=${Jn(F)}`).join("&"):`${Jn(N)}=${Jn(w)}`).filter(N=>N);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${N}${w}${"string"==typeof S.fragment?`#${function Yt(D){return encodeURI(D)}(S.fragment)}`:""}`}}const cn=new ir;function Kr(D){return D.segments.map(S=>ot(S)).join("/")}function Mn(D,S){if(!D.hasChildren())return Kr(D);if(S){const N=D.children[Tt]?Mn(D.children[Tt],!1):"",w=[];return Object.entries(D.children).forEach(([F,ae])=>{F!==Tt&&w.push(`${F}:${Mn(ae,!1)}`)}),w.length>0?`${N}(${w.join("//")})`:N}{const N=function xr(D,S){let N=[];return Object.entries(D.children).forEach(([w,F])=>{w===Tt&&(N=N.concat(S(F,w)))}),Object.entries(D.children).forEach(([w,F])=>{w!==Tt&&(N=N.concat(S(F,w)))}),N}(D,(w,F)=>F===Tt?[Mn(D.children[Tt],!1)]:[`${F}:${Mn(w,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Tt]?`${Kr(D)}/${N[0]}`:`${Kr(D)}/(${N.join("//")})`}}function qn(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jn(D){return qn(D).replace(/%3B/gi,";")}function bt(D){return qn(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ut(D){return decodeURIComponent(D)}function xt(D){return ut(D.replace(/\+/g,"%20"))}function ot(D){return`${bt(D.path)}${function dt(D){return Object.entries(D).map(([S,N])=>`;${bt(S)}=${bt(N)}`).join("")}(D.parameters)}`}const Ae=/^[^\/()?;#]+/;function Pe(D){const S=D.match(Ae);return S?S[0]:""}const Ze=/^[^\/()?;=#]+/,gt=/^[^=?&#]+/,En=/^[^&#]+/;class Sr{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tr([],{}):new tr([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let N={};this.peekStartsWith("/(")&&(this.capture("/"),N=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(S.length>0||Object.keys(N).length>0)&&(w[Tt]=new tr(S,N)),w}parseSegment(){const S=Pe(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(S),new Dr(ut(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const N=function St(D){const S=D.match(Ze);return S?S[0]:""}(this.remaining);if(!N)return;this.capture(N);let w="";if(this.consumeOptional("=")){const F=Pe(this.remaining);F&&(w=F,this.capture(w))}S[ut(N)]=ut(w)}parseQueryParam(S){const N=function vn(D){const S=D.match(gt);return S?S[0]:""}(this.remaining);if(!N)return;this.capture(N);let w="";if(this.consumeOptional("=")){const de=function hr(D){const S=D.match(En);return S?S[0]:""}(this.remaining);de&&(w=de,this.capture(w))}const F=xt(N),ae=xt(w);if(S.hasOwnProperty(F)){let de=S[F];Array.isArray(de)||(de=[de],S[F]=de),de.push(ae)}else S[F]=ae}parseParens(S){const N={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=Pe(this.remaining),F=this.remaining[w.length];if("/"!==F&&")"!==F&&";"!==F)throw new d.wOt(4010,!1);let ae;w.indexOf(":")>-1?(ae=w.slice(0,w.indexOf(":")),this.capture(ae),this.capture(":")):S&&(ae=Tt);const de=this.parseChildren();N[ae]=1===Object.keys(de).length?de[Tt]:new tr([],de),this.consumeOptional("//")}return N}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new d.wOt(4011,!1)}}function lt(D){return D.segments.length>0?new tr([],{[Tt]:D}):D}function gr(D){const S={};for(const[w,F]of Object.entries(D.children)){const ae=gr(F);if(w===Tt&&0===ae.segments.length&&ae.hasChildren())for(const[de,yt]of Object.entries(ae.children))S[de]=yt;else(ae.segments.length>0||ae.hasChildren())&&(S[w]=ae)}return function kn(D){if(1===D.numberOfChildren&&D.children[Tt]){const S=D.children[Tt];return new tr(D.segments.concat(S.segments),S.children)}return D}(new tr(D.segments,S))}function Ur(D){return D instanceof Gn}function bn(D){var S;let N;const ae=lt(function w(de){const yt={};for(const At of de.children){const An=w(At);yt[At.outlet]=An}const Xt=new tr(de.url,yt);return de===D&&(N=Xt),Xt}(D.root));return null!==(S=N)&&void 0!==S?S:ae}function qr(D,S,N,w){let F=D;for(;F.parent;)F=F.parent;if(0===S.length)return Ri(F,F,F,N,w);const ae=function ne(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new ar(!0,0,D);let S=0,N=!1;const w=D.reduce((F,ae,de)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const yt={};return Object.entries(ae.outlets).forEach(([Xt,At])=>{yt[Xt]="string"==typeof At?At.split("/"):At}),[...F,{outlets:yt}]}if(ae.segmentPath)return[...F,ae.segmentPath]}return"string"!=typeof ae?[...F,ae]:0===de?(ae.split("/").forEach((yt,Xt)=>{0==Xt&&"."===yt||(0==Xt&&""===yt?N=!0:".."===yt?S++:""!=yt&&F.push(yt))}),F):[...F,ae]},[]);return new ar(N,S,w)}(S);if(ae.toRoot())return Ri(F,F,new tr([],{}),N,w);const de=function ge(D,S,N){if(D.isAbsolute)return new G(S,!0,0);if(!N)return new G(S,!1,NaN);if(null===N.parent)return new G(N,!0,0);const w=di(D.commands[0])?0:1;return function X(D,S,N){let w=D,F=S,ae=N;for(;ae>F;){if(ae-=F,w=w.parent,!w)throw new d.wOt(4005,!1);F=w.segments.length}return new G(w,!1,F-ae)}(N,N.segments.length-1+w,D.numberOfDoubleDots)}(ae,F,D),yt=de.processChildren?ft(de.segmentGroup,de.index,ae.commands):ye(de.segmentGroup,de.index,ae.commands);return Ri(F,de.segmentGroup,yt,N,w)}function di(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Xr(D){return"object"==typeof D&&null!=D&&D.outlets}function Ri(D,S,N,w,F){let de,ae={};w&&Object.entries(w).forEach(([Xt,At])=>{ae[Xt]=Array.isArray(At)?At.map(An=>`${An}`):`${At}`}),de=D===S?N:gi(D,S,N);const yt=lt(gr(de));return new Gn(yt,ae,F)}function gi(D,S,N){const w={};return Object.entries(D.children).forEach(([F,ae])=>{w[F]=ae===S?N:gi(ae,S,N)}),new tr(D.segments,w)}class ar{constructor(S,N,w){if(this.isAbsolute=S,this.numberOfDoubleDots=N,this.commands=w,S&&w.length>0&&di(w[0]))throw new d.wOt(4003,!1);const F=w.find(Xr);if(F&&F!==zt(w))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class G{constructor(S,N,w){this.segmentGroup=S,this.processChildren=N,this.index=w}}function ye(D,S,N){var w;if(null!==(w=D)&&void 0!==w||(D=new tr([],{})),0===D.segments.length&&D.hasChildren())return ft(D,S,N);const F=function Bt(D,S,N){let w=0,F=S;const ae={match:!1,pathIndex:0,commandIndex:0};for(;F<D.segments.length;){if(w>=N.length)return ae;const de=D.segments[F],yt=N[w];if(Xr(yt))break;const Xt=`${yt}`,At=w<N.length-1?N[w+1]:null;if(F>0&&void 0===Xt)break;if(Xt&&At&&"object"==typeof At&&void 0===At.outlets){if(!Vn(Xt,At,de))return ae;w+=2}else{if(!Vn(Xt,{},de))return ae;w++}F++}return{match:!0,pathIndex:F,commandIndex:w}}(D,S,N),ae=N.slice(F.commandIndex);if(F.match&&F.pathIndex<D.segments.length){const de=new tr(D.segments.slice(0,F.pathIndex),{});return de.children[Tt]=new tr(D.segments.slice(F.pathIndex),D.children),ft(de,0,ae)}return F.match&&0===ae.length?new tr(D.segments,{}):F.match&&!D.hasChildren()?Jt(D,S,N):F.match?ft(D,0,ae):Jt(D,S,N)}function ft(D,S,N){if(0===N.length)return new tr(D.segments,{});{const w=function Q(D){return Xr(D[0])?D[0].outlets:{[Tt]:D}}(N),F={};if(Object.keys(w).some(ae=>ae!==Tt)&&D.children[Tt]&&1===D.numberOfChildren&&0===D.children[Tt].segments.length){const ae=ft(D.children[Tt],S,N);return new tr(D.segments,ae.children)}return Object.entries(w).forEach(([ae,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(F[ae]=ye(D.children[ae],S,de))}),Object.entries(D.children).forEach(([ae,de])=>{void 0===w[ae]&&(F[ae]=de)}),new tr(D.segments,F)}}function Jt(D,S,N){const w=D.segments.slice(0,S);let F=0;for(;F<N.length;){const ae=N[F];if(Xr(ae)){const Xt=Fn(ae.outlets);return new tr(w,Xt)}if(0===F&&di(N[0])){w.push(new Dr(D.segments[S].path,Dn(N[0]))),F++;continue}const de=Xr(ae)?ae.outlets[Tt]:`${ae}`,yt=F<N.length-1?N[F+1]:null;de&&yt&&di(yt)?(w.push(new Dr(de,Dn(yt))),F+=2):(w.push(new Dr(de,{})),F++)}return new tr(w,{})}function Fn(D){const S={};return Object.entries(D).forEach(([N,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(S[N]=Jt(new tr([],{}),0,w))}),S}function Dn(D){const S={};return Object.entries(D).forEach(([N,w])=>S[N]=`${w}`),S}function Vn(D,S,N){return D==N.path&&Nt(S,N.parameters)}const ii="imperative";var Qn=function(D){return D[D.NavigationStart=0]="NavigationStart",D[D.NavigationEnd=1]="NavigationEnd",D[D.NavigationCancel=2]="NavigationCancel",D[D.NavigationError=3]="NavigationError",D[D.RoutesRecognized=4]="RoutesRecognized",D[D.ResolveStart=5]="ResolveStart",D[D.ResolveEnd=6]="ResolveEnd",D[D.GuardsCheckStart=7]="GuardsCheckStart",D[D.GuardsCheckEnd=8]="GuardsCheckEnd",D[D.RouteConfigLoadStart=9]="RouteConfigLoadStart",D[D.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",D[D.ChildActivationStart=11]="ChildActivationStart",D[D.ChildActivationEnd=12]="ChildActivationEnd",D[D.ActivationStart=13]="ActivationStart",D[D.ActivationEnd=14]="ActivationEnd",D[D.Scroll=15]="Scroll",D[D.NavigationSkipped=16]="NavigationSkipped",D}(Qn||{});class ei{constructor(S,N){this.id=S,this.url=N}}class ai extends ei{constructor(S,N,w="imperative",F=null){super(S,N),this.type=Qn.NavigationStart,this.navigationTrigger=w,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xi extends ei{constructor(S,N,w){super(S,N),this.urlAfterRedirects=w,this.type=Qn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var oi=function(D){return D[D.Redirect=0]="Redirect",D[D.SupersededByNewNavigation=1]="SupersededByNewNavigation",D[D.NoDataFromResolver=2]="NoDataFromResolver",D[D.GuardRejected=3]="GuardRejected",D}(oi||{}),ro=function(D){return D[D.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",D[D.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",D}(ro||{});class Ei extends ei{constructor(S,N,w,F){super(S,N),this.reason=w,this.code=F,this.type=Qn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ni extends ei{constructor(S,N,w,F){super(S,N),this.reason=w,this.code=F,this.type=Qn.NavigationSkipped}}class jo extends ei{constructor(S,N,w,F){super(S,N),this.error=w,this.target=F,this.type=Qn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ho extends ei{constructor(S,N,w,F){super(S,N),this.urlAfterRedirects=w,this.state=F,this.type=Qn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends ei{constructor(S,N,w,F){super(S,N),this.urlAfterRedirects=w,this.state=F,this.type=Qn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends ei{constructor(S,N,w,F,ae){super(S,N),this.urlAfterRedirects=w,this.state=F,this.shouldActivate=ae,this.type=Qn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Do extends ei{constructor(S,N,w,F){super(S,N),this.urlAfterRedirects=w,this.state=F,this.type=Qn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ds extends ei{constructor(S,N,w,F){super(S,N),this.urlAfterRedirects=w,this.state=F,this.type=Qn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi{constructor(S){this.route=S,this.type=Qn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ai{constructor(S){this.route=S,this.type=Qn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Os{constructor(S){this.snapshot=S,this.type=Qn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nr{constructor(S){this.snapshot=S,this.type=Qn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(S){this.snapshot=S,this.type=Qn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(S){this.snapshot=S,this.type=Qn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(S,N,w){this.routerEvent=S,this.position=N,this.anchor=w,this.type=Qn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Go{}class jr{constructor(S,N){this.url=S,this.navigationBehaviorOptions=N}}function Nr(D){return D.outlet||Tt}function bo(D){var S;if(!D)return null;if(null!==(S=D.routeConfig)&&void 0!==S&&S._injector)return D.routeConfig._injector;for(let N=D.parent;N;N=N.parent){const w=N.routeConfig;if(null!=w&&w._loadedInjector)return w._loadedInjector;if(null!=w&&w._injector)return w._injector}return null}class ni{get injector(){var S,N;return null!==(S=bo(null===(N=this.route)||void 0===N?void 0:N.snapshot))&&void 0!==S?S:this.rootInjector}set injector(S){}constructor(S){this.rootInjector=S,this.outlet=null,this.route=null,this.children=new P(this.rootInjector),this.attachRef=null}}let P=(()=>{var D;class S{constructor(w){this.rootInjector=w,this.contexts=new Map}onChildOutletCreated(w,F){const ae=this.getOrCreateContext(w);ae.outlet=F,this.contexts.set(w,ae)}onChildOutletDestroyed(w){const F=this.getContext(w);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let F=this.getContext(w);return F||(F=new ni(this.rootInjector),this.contexts.set(w,F)),F}getContext(w){return this.contexts.get(w)||null}}return(D=S).\u0275fac=function(w){return new(w||D)(d.KVO(d.uvJ))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();class E{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const N=this.pathFromRoot(S);return N.length>1?N[N.length-2]:null}children(S){const N=M(S,this._root);return N?N.children.map(w=>w.value):[]}firstChild(S){const N=M(S,this._root);return N&&N.children.length>0?N.children[0].value:null}siblings(S){const N=C(S,this._root);return N.length<2?[]:N[N.length-2].children.map(F=>F.value).filter(F=>F!==S)}pathFromRoot(S){return C(S,this._root).map(N=>N.value)}}function M(D,S){if(D===S.value)return S;for(const N of S.children){const w=M(D,N);if(w)return w}return null}function C(D,S){if(D===S.value)return[S];for(const N of S.children){const w=C(D,N);if(w.length)return w.unshift(S),w}return[]}class U{constructor(S,N){this.value=S,this.children=N}toString(){return`TreeNode(${this.value})`}}function ee(D){const S={};return D&&D.children.forEach(N=>S[N.value.outlet]=N),S}class He extends E{constructor(S,N){super(S),this.snapshot=N,Nn(this,S)}toString(){return this.snapshot.toString()}}function Vt(D){const S=function mt(D){const ae=new ln([],{},{},"",{},Tt,D,null,{});return new _n("",new U(ae,[]))}(D),N=new ve.t([new Dr("",{})]),w=new ve.t({}),F=new ve.t({}),ae=new ve.t({}),de=new ve.t(""),yt=new Lt(N,w,ae,de,F,Tt,D,S.root);return yt.snapshot=S.root,new He(new U(yt,[]),S)}class Lt{constructor(S,N,w,F,ae,de,yt,Xt){var At,An;this.urlSubject=S,this.paramsSubject=N,this.queryParamsSubject=w,this.fragmentSubject=F,this.dataSubject=ae,this.outlet=de,this.component=yt,this._futureSnapshot=Xt,this.title=null!==(At=null===(An=this.dataSubject)||void 0===An?void 0:An.pipe((0,be.T)(cr=>cr[yn])))&&void 0!==At?At:(0,he.of)(void 0),this.url=S,this.params=N,this.queryParams=w,this.fragment=F,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var S;return null!==(S=this._paramMap)&&void 0!==S||(this._paramMap=this.params.pipe((0,be.T)(N=>rn(N)))),this._paramMap}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=this.queryParams.pipe((0,be.T)(N=>rn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wt(D,S,N="emptyOnly"){var w;let F;const{routeConfig:ae}=D;var de;return F=null===S||"always"!==N&&""!==(null==ae?void 0:ae.path)&&(S.component||null!==(w=S.routeConfig)&&void 0!==w&&w.loadComponent)?{params:{...D.params},data:{...D.data},resolve:{...D.data,...null!==(de=D._resolvedData)&&void 0!==de?de:{}}}:{params:{...S.params,...D.params},data:{...S.data,...D.data},resolve:{...D.data,...S.data,...null==ae?void 0:ae.data,...D._resolvedData}},ae&&Gr(ae)&&(F.resolve[yn]=ae.title),F}class ln{get title(){var S;return null===(S=this.data)||void 0===S?void 0:S[yn]}constructor(S,N,w,F,ae,de,yt,Xt,At){this.url=S,this.params=N,this.queryParams=w,this.fragment=F,this.data=ae,this.outlet=de,this.component=yt,this.routeConfig=Xt,this._resolve=At}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var S;return null!==(S=this._paramMap)&&void 0!==S||(this._paramMap=rn(this.params)),this._paramMap}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _n extends E{constructor(S,N){super(N),this.url=S,Nn(this,N)}toString(){return Rn(this._root)}}function Nn(D,S){S.value._routerState=D,S.children.forEach(N=>Nn(D,N))}function Rn(D){const S=D.children.length>0?` { ${D.children.map(Rn).join(", ")} } `:"";return`${D.value}${S}`}function Or(D){if(D.snapshot){const S=D.snapshot,N=D._futureSnapshot;D.snapshot=N,Nt(S.queryParams,N.queryParams)||D.queryParamsSubject.next(N.queryParams),S.fragment!==N.fragment&&D.fragmentSubject.next(N.fragment),Nt(S.params,N.params)||D.paramsSubject.next(N.params),function Sn(D,S){if(D.length!==S.length)return!1;for(let N=0;N<D.length;++N)if(!Nt(D[N],S[N]))return!1;return!0}(S.url,N.url)||D.urlSubject.next(N.url),Nt(S.data,N.data)||D.dataSubject.next(N.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Qr(D,S){const N=Nt(D.params,S.params)&&function zr(D,S){return mn(D,S)&&D.every((N,w)=>Nt(N.parameters,S[w].parameters))}(D.url,S.url);return N&&!(!D.parent!=!S.parent)&&(!D.parent||Qr(D.parent,S.parent))}function Gr(D){return"string"==typeof D.title||null===D.title}let Hr=(()=>{var D;class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(P),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(vi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:F,previousValue:ae}=w.name;if(F)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){var w;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(w=this.inputBinder)||void 0===w||w.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){var F;return(null===(F=this.parentContexts.getContext(w))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,F){var ae;this.activated=w,this._activatedRoute=F,this.location.insert(w.hostView),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,F){var ae;if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=w;const de=this.location,Xt=w.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,An=new Yr(w,At,de.injector);this.activated=de.createComponent(Xt,{index:de.length,injector:An,environmentInjector:F}),this.changeDetector.markForCheck(),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275dir=d.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]}),S})();class Yr{__ngOutletInjector(S){return new Yr(this.route,this.childContexts,S)}constructor(S,N,w){this.route=S,this.childContexts=N,this.parent=w}get(S,N){return S===Lt?this.route:S===P?this.childContexts:this.parent.get(S,N)}}const vi=new d.nKC("");let _i=(()=>{var D;class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){var F;null===(F=this.outletDataSubscriptions.get(w))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:F}=w,ae=(0,Oe.z)([F.queryParams,F.params,F.data]).pipe((0,tt.n)(([de,yt,Xt],At)=>(Xt={...de,...yt,...Xt},0===At?(0,he.of)(Xt):Promise.resolve(Xt)))).subscribe(de=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(w);const yt=(0,d.HJs)(F.component);if(yt)for(const{templateName:Xt}of yt.inputs)w.activatedComponentRef.setInput(Xt,de[Xt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,ae)}}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac}),S})();function to(D,S,N){if(N&&D.shouldReuseRoute(S.value,N.value.snapshot)){const w=N.value;w._futureSnapshot=S.value;const F=function so(D,S,N){return S.children.map(w=>{for(const F of N.children)if(D.shouldReuseRoute(w.value,F.value.snapshot))return to(D,w,F);return to(D,w)})}(D,S,N);return new U(w,F)}{if(D.shouldAttach(S.value)){const ae=D.retrieve(S.value);if(null!==ae){const de=ae.route;return de.value._futureSnapshot=S.value,de.children=S.children.map(yt=>to(D,yt)),de}}const w=function wo(D){return new Lt(new ve.t(D.url),new ve.t(D.params),new ve.t(D.queryParams),new ve.t(D.fragment),new ve.t(D.data),D.outlet,D.component,D)}(S.value),F=S.children.map(ae=>to(D,ae));return new U(w,F)}}class as{constructor(S,N){this.redirectTo=S,this.navigationBehaviorOptions=N}}const uo="ngNavigationCancelingError";function ks(D,S){const{redirectTo:N,navigationBehaviorOptions:w}=Ur(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,F=Fs(!1,oi.Redirect);return F.url=N,F.navigationBehaviorOptions=w,F}function Fs(D,S){const N=new Error(`NavigationCancelingError: ${D||""}`);return N[uo]=!0,N.cancellationCode=S,N}function Ci(D){return!!D&&D[uo]}class Yi{constructor(S,N,w,F,ae){this.routeReuseStrategy=S,this.futureState=N,this.currState=w,this.forwardEvent=F,this.inputBindingEnabled=ae}activate(S){const N=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(N,w,S),Or(this.futureState.root),this.activateChildRoutes(N,w,S)}deactivateChildRoutes(S,N,w){const F=ee(N);S.children.forEach(ae=>{const de=ae.value.outlet;this.deactivateRoutes(ae,F[de],w),delete F[de]}),Object.values(F).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,w)})}deactivateRoutes(S,N,w){const F=S.value,ae=N?N.value:null;if(F===ae)if(F.component){const de=w.getContext(F.outlet);de&&this.deactivateChildRoutes(S,N,de.children)}else this.deactivateChildRoutes(S,N,w);else ae&&this.deactivateRouteAndItsChildren(N,w)}deactivateRouteAndItsChildren(S,N){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,N):this.deactivateRouteAndOutlet(S,N)}detachAndStoreRouteSubtree(S,N){const w=N.getContext(S.value.outlet),F=w&&S.value.component?w.children:N,ae=ee(S);for(const de of Object.values(ae))this.deactivateRouteAndItsChildren(de,F);if(w&&w.outlet){const de=w.outlet.detach(),yt=w.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:de,route:S,contexts:yt})}}deactivateRouteAndOutlet(S,N){const w=N.getContext(S.value.outlet),F=w&&S.value.component?w.children:N,ae=ee(S);for(const de of Object.values(ae))this.deactivateRouteAndItsChildren(de,F);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(S,N,w){const F=ee(N);S.children.forEach(ae=>{this.activateRoutes(ae,F[ae.value.outlet],w),this.forwardEvent(new Da(ae.value.snapshot))}),S.children.length&&this.forwardEvent(new nr(S.value.snapshot))}activateRoutes(S,N,w){const F=S.value,ae=N?N.value:null;if(Or(F),F===ae)if(F.component){const de=w.getOrCreateContext(F.outlet);this.activateChildRoutes(S,N,de.children)}else this.activateChildRoutes(S,N,w);else if(F.component){const de=w.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const yt=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),de.children.onOutletReAttached(yt.contexts),de.attachRef=yt.componentRef,de.route=yt.route.value,de.outlet&&de.outlet.attach(yt.componentRef,yt.route.value),Or(yt.route.value),this.activateChildRoutes(S,null,de.children)}else de.attachRef=null,de.route=F,de.outlet&&de.outlet.activateWith(F,de.injector),this.activateChildRoutes(S,null,de.children)}else this.activateChildRoutes(S,null,w)}}class la{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Mr{constructor(S,N){this.component=S,this.route=N}}function lr(D,S,N){const w=D._root;return Ro(w,S?S._root:null,N,[w.value])}function qo(D,S){const N=Symbol(),w=S.get(D,N);return w===N?"function"!=typeof D||(0,d.LfX)(D)?S.get(D):D:w}function Ro(D,S,N,w,F={canDeactivateChecks:[],canActivateChecks:[]}){const ae=ee(S);return D.children.forEach(de=>{(function Vs(D,S,N,w,F={canDeactivateChecks:[],canActivateChecks:[]}){const ae=D.value,de=S?S.value:null,yt=N?N.getContext(D.value.outlet):null;if(de&&ae.routeConfig===de.routeConfig){const Xt=function us(D,S,N){if("function"==typeof N)return N(D,S);switch(N){case"pathParamsChange":return!mn(D.url,S.url);case"pathParamsOrQueryParamsChange":return!mn(D.url,S.url)||!Nt(D.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qr(D,S)||!Nt(D.queryParams,S.queryParams);default:return!Qr(D,S)}}(de,ae,ae.routeConfig.runGuardsAndResolvers);Xt?F.canActivateChecks.push(new la(w)):(ae.data=de.data,ae._resolvedData=de._resolvedData),Ro(D,S,ae.component?yt?yt.children:null:N,w,F),Xt&&yt&&yt.outlet&&yt.outlet.isActivated&&F.canDeactivateChecks.push(new Mr(yt.outlet.component,de))}else de&&Kn(S,yt,F),F.canActivateChecks.push(new la(w)),Ro(D,null,ae.component?yt?yt.children:null:N,w,F)})(de,ae[de.value.outlet],N,w.concat([de.value]),F),delete ae[de.value.outlet]}),Object.entries(ae).forEach(([de,yt])=>Kn(yt,N.getContext(de),F)),F}function Kn(D,S,N){const w=ee(D),F=D.value;Object.entries(w).forEach(([ae,de])=>{Kn(de,F.component?S?S.children.getContext(ae):null:S,N)}),N.canDeactivateChecks.push(new Mr(F.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,F))}function Cr(D){return"function"==typeof D}function $s(D){return D instanceof Be.G||"EmptyError"===(null==D?void 0:D.name)}const H=Symbol("INITIAL_VALUE");function x(){return(0,tt.n)(D=>(0,Oe.z)(D.map(S=>S.pipe((0,nt.s)(1),(0,Dt.Z)(H)))).pipe((0,be.T)(S=>{for(const N of S)if(!0!==N){if(N===H)return H;if(!1===N||te(N))return N}return!0}),(0,$e.p)(S=>S!==H),(0,nt.s)(1)))}function te(D){return Ur(D)||D instanceof as}function js(D){return(0,Fe.F)((0,an.M)(S=>{if("boolean"!=typeof S)throw ks(0,S)}),(0,be.T)(S=>!0===S))}class wa{constructor(S){this.segmentGroup=S||null}}class cs extends Error{constructor(S){super(),this.urlTree=S}}function Xo(D){return Ve(new wa(D))}class Sa{constructor(S,N){this.urlSerializer=S,this.urlTree=N}lineralizeSegments(S,N){let w=[],F=N.root;for(;;){if(w=w.concat(F.segments),0===F.numberOfChildren)return(0,he.of)(w);if(F.numberOfChildren>1||!F.children[Tt])return Ve(new d.wOt(4e3,!1));F=F.children[Tt]}}applyRedirectCommands(S,N,w,F,ae){if("string"!=typeof N){const yt=N,{queryParams:Xt,fragment:At,routeConfig:An,url:cr,outlet:ri,params:yr,data:ui,title:no}=F,Io=(0,d.N4e)(ae,()=>yt({params:yr,data:ui,queryParams:Xt,fragment:At,routeConfig:An,url:cr,outlet:ri,title:no}));if(Io instanceof Gn)throw new cs(Io);N=Io}const de=this.applyRedirectCreateUrlTree(N,this.urlSerializer.parse(N),S,w);if("/"===N[0])throw new cs(de);return de}applyRedirectCreateUrlTree(S,N,w,F){const ae=this.createSegmentGroup(S,N.root,w,F);return new Gn(ae,this.createQueryParams(N.queryParams,this.urlTree.queryParams),N.fragment)}createQueryParams(S,N){const w={};return Object.entries(S).forEach(([F,ae])=>{if("string"==typeof ae&&":"===ae[0]){const yt=ae.substring(1);w[F]=N[yt]}else w[F]=ae}),w}createSegmentGroup(S,N,w,F){const ae=this.createSegments(S,N.segments,w,F);let de={};return Object.entries(N.children).forEach(([yt,Xt])=>{de[yt]=this.createSegmentGroup(S,Xt,w,F)}),new tr(ae,de)}createSegments(S,N,w,F){return N.map(ae=>":"===ae.path[0]?this.findPosParam(S,ae,F):this.findOrReturn(ae,w))}findPosParam(S,N,w){const F=w[N.path.substring(1)];if(!F)throw new d.wOt(4001,!1);return F}findOrReturn(S,N){let w=0;for(const F of N){if(F.path===S.path)return N.splice(w),F;w++}return S}}const Hs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fr(D,S,N,w,F){const ae=Lr(D,S,N);return ae.matched?(w=function Xi(D,S){var N;return D.providers&&!D._injector&&(D._injector=(0,d.Ol2)(D.providers,S,`Route: ${D.path}`)),null!==(N=D._injector)&&void 0!==N?N:S}(S,w),function ba(D,S,N,w){const F=S.canMatch;if(!F||0===F.length)return(0,he.of)(!0);const ae=F.map(de=>{const yt=qo(de,D);return Me(function Ta(D){return D&&Cr(D.canMatch)}(yt)?yt.canMatch(S,N):(0,d.N4e)(D,()=>yt(S,N)))});return(0,he.of)(ae).pipe(x(),js())}(w,S,N).pipe((0,be.T)(de=>!0===de?ae:{...Hs}))):(0,he.of)(ae)}function Lr(D,S,N){var w,F;if("**"===S.path)return function ki(D){return{matched:!0,parameters:D.length>0?zt(D).parameters:{},consumedSegments:D,remainingSegments:[],positionalParamSegments:{}}}(N);if(""===S.path)return"full"===S.pathMatch&&(D.hasChildren()||N.length>0)?{...Hs}:{matched:!0,consumedSegments:[],remainingSegments:N,parameters:{},positionalParamSegments:{}};const de=(S.matcher||hn)(N,D,S);if(!de)return{...Hs};const yt={};Object.entries(null!==(w=de.posParams)&&void 0!==w?w:{}).forEach(([At,An])=>{yt[At]=An.path});const Xt=de.consumed.length>0?{...yt,...de.consumed[de.consumed.length-1].parameters}:yt;return{matched:!0,consumedSegments:de.consumed,remainingSegments:N.slice(de.consumed.length),parameters:Xt,positionalParamSegments:null!==(F=de.posParams)&&void 0!==F?F:{}}}function go(D,S,N,w){return N.length>0&&function fa(D,S,N){return N.some(w=>Ms(D,S,w)&&Nr(w)!==Tt)}(D,N,w)?{segmentGroup:new tr(S,ha(w,new tr(N,D.children))),slicedSegments:[]}:0===N.length&&function Mo(D,S,N){return N.some(w=>Ms(D,S,w))}(D,N,w)?{segmentGroup:new tr(D.segments,Hi(D,N,w,D.children)),slicedSegments:N}:{segmentGroup:new tr(D.segments,D.children),slicedSegments:N}}function Hi(D,S,N,w){const F={};for(const ae of N)if(Ms(D,S,ae)&&!w[Nr(ae)]){const de=new tr([],{});F[Nr(ae)]=de}return{...w,...F}}function ha(D,S){const N={};N[Tt]=S;for(const w of D)if(""===w.path&&Nr(w)!==Tt){const F=new tr([],{});N[Nr(w)]=F}return N}function Ms(D,S,N){return(!(D.hasChildren()||S.length>0)||"full"!==N.pathMatch)&&""===N.path}class pl{}class Qo{constructor(S,N,w,F,ae,de,yt){this.injector=S,this.configLoader=N,this.rootComponentType=w,this.config=F,this.urlTree=ae,this.paramsInheritanceStrategy=de,this.urlSerializer=yt,this.applyRedirects=new Sa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(S){return new d.wOt(4002,`'${S.segmentGroup}'`)}recognize(){const S=go(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(S).pipe((0,be.T)(({children:N,rootSnapshot:w})=>{const F=new U(w,N),ae=new _n("",F),de=function $r(D,S,N=null,w=null){return qr(bn(D),S,N,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return de.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(de),{state:ae,tree:de}}))}match(S){const N=new ln([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Tt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,S,Tt,N).pipe((0,be.T)(w=>({children:w,rootSnapshot:N})),Qt(w=>{if(w instanceof cs)return this.urlTree=w.urlTree,this.match(w.urlTree.root);throw w instanceof wa?this.noMatchError(w):w}))}processSegmentGroup(S,N,w,F,ae){return 0===w.segments.length&&w.hasChildren()?this.processChildren(S,N,w,ae):this.processSegment(S,N,w,w.segments,F,!0,ae).pipe((0,be.T)(de=>de instanceof U?[de]:[]))}processChildren(S,N,w,F){const ae=[];for(const de of Object.keys(w.children))"primary"===de?ae.unshift(de):ae.push(de);return(0,se.H)(ae).pipe($t(de=>{const yt=w.children[de],Xt=function To(D,S){const N=D.filter(w=>Nr(w)===S);return N.push(...D.filter(w=>Nr(w)!==S)),N}(N,de);return this.processSegmentGroup(S,Xt,yt,de,F)}),(0,Tn.S)((de,yt)=>(de.push(...yt),de)),(0,Pt.U)(null),function Z(D,S){const N=arguments.length>=2;return w=>w.pipe(D?(0,$e.p)((F,ae)=>D(F,ae,w)):Ie.D,De(1),N?(0,Pt.U)(S):(0,Ee.v)(()=>new Be.G))}(),(0,xe.Z)(de=>{if(null===de)return Xo(w);const yt=pa(de);return function Bl(D){D.sort((S,N)=>S.value.outlet===Tt?-1:N.value.outlet===Tt?1:S.value.outlet.localeCompare(N.value.outlet))}(yt),(0,he.of)(yt)}))}processSegment(S,N,w,F,ae,de,yt){return(0,se.H)(N).pipe($t(Xt=>{var At;return this.processSegmentAgainstRoute(null!==(At=Xt._injector)&&void 0!==At?At:S,N,Xt,w,F,ae,de,yt).pipe(Qt(An=>{if(An instanceof wa)return(0,he.of)(null);throw An}))}),(0,kt.$)(Xt=>!!Xt),Qt(Xt=>{if($s(Xt))return function Ra(D,S,N){return 0===S.length&&!D.children[N]}(w,F,ae)?(0,he.of)(new pl):Xo(w);throw Xt}))}processSegmentAgainstRoute(S,N,w,F,ae,de,yt,Xt){return Nr(w)===de||de!==Tt&&Ms(F,ae,w)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(S,F,w,ae,de,Xt):this.allowRedirects&&yt?this.expandSegmentAgainstRouteUsingRedirect(S,F,N,w,ae,de,Xt):Xo(F):Xo(F)}expandSegmentAgainstRouteUsingRedirect(S,N,w,F,ae,de,yt){var Xt,At;const{matched:An,parameters:cr,consumedSegments:ri,positionalParamSegments:yr,remainingSegments:ui}=Lr(N,F,ae);if(!An)return Xo(N);"string"==typeof F.redirectTo&&"/"===F.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const no=new ln(ae,cr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ka(F),Nr(F),null!==(Xt=null!==(At=F.component)&&void 0!==At?At:F._loadedComponent)&&void 0!==Xt?Xt:null,F,mo(F)),Io=Wt(no,yt,this.paramsInheritanceStrategy);no.params=Object.freeze(Io.params),no.data=Object.freeze(Io.data);const ga=this.applyRedirects.applyRedirectCommands(ri,F.redirectTo,yr,no,S);return this.applyRedirects.lineralizeSegments(F,ga).pipe((0,xe.Z)(ko=>this.processSegment(S,w,N,ko.concat(ui),de,!1,yt)))}matchSegmentAgainstRoute(S,N,w,F,ae,de){const yt=fr(N,w,F,S);return"**"===w.path&&(N.children={}),yt.pipe((0,tt.n)(Xt=>{var At;return Xt.matched?(S=null!==(At=w._injector)&&void 0!==At?At:S,this.getChildConfig(S,w,F).pipe((0,tt.n)(({routes:An})=>{var cr,ri,yr;const ui=null!==(cr=w._loadedInjector)&&void 0!==cr?cr:S,{parameters:no,consumedSegments:Io,remainingSegments:ga}=Xt,ko=new ln(Io,no,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ka(w),Nr(w),null!==(ri=null!==(yr=w.component)&&void 0!==yr?yr:w._loadedComponent)&&void 0!==ri?ri:null,w,mo(w)),Fo=Wt(ko,de,this.paramsInheritanceStrategy);ko.params=Object.freeze(Fo.params),ko.data=Object.freeze(Fo.data);const{segmentGroup:Eu,slicedSegments:Cl}=go(N,Io,ga,An);if(0===Cl.length&&Eu.hasChildren())return this.processChildren(ui,An,Eu,ko).pipe((0,be.T)(ma=>new U(ko,ma)));if(0===An.length&&0===Cl.length)return(0,he.of)(new U(ko,[]));const gc=Nr(w)===ae;return this.processSegment(ui,An,Eu,Cl,gc?Tt:ae,!0,ko).pipe((0,be.T)(ma=>new U(ko,ma instanceof U?[ma]:[])))}))):Xo(N)}))}getChildConfig(S,N,w){return N.children?(0,he.of)({routes:N.children,injector:S}):N.loadChildren?void 0!==N._loadedRoutes?(0,he.of)({routes:N._loadedRoutes,injector:N._loadedInjector}):function Ss(D,S,N,w){const F=S.canLoad;if(void 0===F||0===F.length)return(0,he.of)(!0);const ae=F.map(de=>{const yt=qo(de,D);return Me(function ws(D){return D&&Cr(D.canLoad)}(yt)?yt.canLoad(S,N):(0,d.N4e)(D,()=>yt(S,N)))});return(0,he.of)(ae).pipe(x(),js())}(S,N,w).pipe((0,xe.Z)(F=>F?this.configLoader.loadChildren(S,N).pipe((0,an.M)(ae=>{N._loadedRoutes=ae.routes,N._loadedInjector=ae.injector})):function ds(){return Ve(Fs(!1,oi.GuardRejected))}())):(0,he.of)({routes:[],injector:S})}}function Po(D){const S=D.value.routeConfig;return S&&""===S.path}function pa(D){const S=[],N=new Set;for(const w of D){if(!Po(w)){S.push(w);continue}const F=S.find(ae=>w.value.routeConfig===ae.value.routeConfig);void 0!==F?(F.children.push(...w.children),N.add(F)):S.push(w)}for(const w of N){const F=pa(w.children);S.push(new U(w.value,F))}return S.filter(w=>!N.has(w))}function Ka(D){return D.data||{}}function mo(D){return D.resolve||{}}function vu(D){const S=D.children.map(N=>vu(N)).flat();return[D,...S]}function Ma(D){return(0,tt.n)(S=>{const N=D(S);return N?(0,se.H)(N).pipe((0,be.T)(()=>S)):(0,he.of)(S)})}let zs=(()=>{var D;class S{buildTitle(w){let F,ae=w.root;for(;void 0!==ae;){var de;F=null!==(de=this.getResolvedTitleForRoute(ae))&&void 0!==de?de:F,ae=ae.children.find(yt=>yt.outlet===Tt)}return F}getResolvedTitleForRoute(w){return w.data[yn]}}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(No),providedIn:"root"}),S})(),No=(()=>{var D;class S extends zs{constructor(w){super(),this.title=w}updateTitle(w){const F=this.buildTitle(w);void 0!==F&&this.title.setTitle(F)}}return(D=S).\u0275fac=function(w){return new(w||D)(d.KVO(rt.hE))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();const vo=new d.nKC("",{providedIn:"root",factory:()=>({})});let Pa=(()=>{var D;class S{}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275cmp=d.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(w,F){1&w&&d.nrm(0,"router-outlet")},dependencies:[Hr],encapsulation:2}),S})();function ml(D){const S=D.children&&D.children.map(ml),N=S?{...D,children:S}:{...D};return!N.component&&!N.loadComponent&&(S||N.loadChildren)&&N.outlet&&N.outlet!==Tt&&(N.component=Pa),N}const Xa=new d.nKC("");let vl=(()=>{var D;class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,he.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const F=Me(w.loadComponent()).pipe((0,be.T)(yu),(0,an.M)(de=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=de}),Xe(()=>{this.componentLoaders.delete(w)})),ae=new st(F,()=>new pe.B).pipe(qe());return this.componentLoaders.set(w,ae),ae}loadChildren(w,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,he.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const de=function Yo(D,S,N,w){return Me(D.loadChildren()).pipe((0,be.T)(yu),(0,xe.Z)(F=>F instanceof d.Co$||Array.isArray(F)?(0,he.of)(F):(0,se.H)(S.compileModuleAsync(F))),(0,be.T)(F=>{w&&w(D);let ae,de,yt=!1;return Array.isArray(F)?(de=F,!0):(ae=F.create(N).injector,de=ae.get(Xa,[],{optional:!0,self:!0}).flat()),{routes:de.map(ml),injector:ae}}))}(F,this.compiler,w,this.onLoadEndListener).pipe(Xe(()=>{this.childrenLoaders.delete(F)})),yt=new st(de,()=>new pe.B).pipe(qe());return this.childrenLoaders.set(F,yt),yt}}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();function yu(D){return function Zo(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let ao=(()=>{var D;class S{}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(Gs),providedIn:"root"}),S})(),Gs=(()=>{var D;class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,F){return w}}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();const xa=new d.nKC(""),jl=new d.nKC("");function b(D,S,N){const w=D.get(jl),F=D.get(me.qQ);return D.get(d.SKi).runOutsideAngular(()=>{if(!F.startViewTransition||w.skipNextTransition)return w.skipNextTransition=!1,new Promise(At=>setTimeout(At));let ae;const de=new Promise(At=>{ae=At}),yt=F.startViewTransition(()=>(ae(),function j(D){return new Promise(S=>{(0,d.mal)({read:()=>setTimeout(S)},{injector:D})})}(D))),{onViewTransitionCreated:Xt}=w;return Xt&&(0,d.N4e)(D,()=>Xt({transition:yt,from:S,to:N})),de})}const Te=new d.nKC("");let B=(()=>{var D;class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe.B,this.transitionAbortSubject=new pe.B,this.configLoader=(0,d.WQX)(vl),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Wn),this.rootContexts=(0,d.WQX)(P),this.location=(0,d.WQX)(me.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(vi,{optional:!0}),this.titleStrategy=(0,d.WQX)(zs),this.options=(0,d.WQX)(vo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(ao),this.createViewTransition=(0,d.WQX)(xa,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(Te,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new Ai(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new qi(ae))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var F;const ae=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...w,id:ae})}setupNavigations(w,F,ae){return this.transitions=new ve.t({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ii,restoredState:null,currentSnapshot:ae.snapshot,targetSnapshot:null,currentRouterState:ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.p)(de=>0!==de.id),(0,be.T)(de=>({...de,extractedUrl:this.urlHandlingStrategy.extract(de.rawUrl)})),(0,tt.n)(de=>{let yt=!1,Xt=!1;return(0,he.of)(de).pipe((0,tt.n)(At=>{var An;if(this.navigationId>de.id)return this.cancelNavigationTransition(de,"",oi.SupersededByNewNavigation),We.w;this.currentTransition=de,this.currentNavigation={id:At.id,initialUrl:At.rawUrl,extractedUrl:At.extractedUrl,targetBrowserUrl:"string"==typeof At.extras.browserUrl?this.urlSerializer.parse(At.extras.browserUrl):At.extras.browserUrl,trigger:At.source,extras:At.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const cr=!w.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ri=null!==(An=At.extras.onSameUrlNavigation)&&void 0!==An?An:w.onSameUrlNavigation;if(!cr&&"reload"!==ri){const yr="";return this.events.next(new Ni(At.id,this.urlSerializer.serialize(At.rawUrl),yr,ro.IgnoredSameUrlNavigation)),At.resolve(!1),We.w}if(this.urlHandlingStrategy.shouldProcessUrl(At.rawUrl))return(0,he.of)(At).pipe((0,tt.n)(yr=>{var ui,no;const Io=null===(ui=this.transitions)||void 0===ui?void 0:ui.getValue();return this.events.next(new ai(yr.id,this.urlSerializer.serialize(yr.extractedUrl),yr.source,yr.restoredState)),Io!==(null===(no=this.transitions)||void 0===no?void 0:no.getValue())?We.w:Promise.resolve(yr)}),function $l(D,S,N,w,F,ae){return(0,xe.Z)(de=>function Ul(D,S,N,w,F,ae,de="emptyOnly"){return new Qo(D,S,N,w,F,de,ae).recognize()}(D,S,N,w,de.extractedUrl,F,ae).pipe((0,be.T)(({state:yt,tree:Xt})=>({...de,targetSnapshot:yt,urlAfterRedirects:Xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,an.M)(yr=>{de.targetSnapshot=yr.targetSnapshot,de.urlAfterRedirects=yr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:yr.urlAfterRedirects};const ui=new Ho(yr.id,this.urlSerializer.serialize(yr.extractedUrl),this.urlSerializer.serialize(yr.urlAfterRedirects),yr.targetSnapshot);this.events.next(ui)}));if(cr&&this.urlHandlingStrategy.shouldProcessUrl(At.currentRawUrl)){const{id:yr,extractedUrl:ui,source:no,restoredState:Io,extras:ga}=At,ko=new ai(yr,this.urlSerializer.serialize(ui),no,Io);this.events.next(ko);const Fo=Vt(this.rootComponentType).snapshot;return this.currentTransition=de={...At,targetSnapshot:Fo,urlAfterRedirects:ui,extras:{...ga,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ui,(0,he.of)(de)}{const yr="";return this.events.next(new Ni(At.id,this.urlSerializer.serialize(At.extractedUrl),yr,ro.IgnoredByUrlHandlingStrategy)),At.resolve(!1),We.w}}),(0,an.M)(At=>{const An=new eo(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(An)}),(0,be.T)(At=>(this.currentTransition=de={...At,guards:lr(At.targetSnapshot,At.currentSnapshot,this.rootContexts)},de)),function $(D,S){return(0,xe.Z)(N=>{const{targetSnapshot:w,currentSnapshot:F,guards:{canActivateChecks:ae,canDeactivateChecks:de}}=N;return 0===de.length&&0===ae.length?(0,he.of)({...N,guardsResult:!0}):function ce(D,S,N,w){return(0,se.H)(D).pipe((0,xe.Z)(F=>function ca(D,S,N,w,F){const ae=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,he.of)(!0);const de=ae.map(yt=>{var Xt;const At=null!==(Xt=bo(S))&&void 0!==Xt?Xt:F,An=qo(yt,At);return Me(function Bs(D){return D&&Cr(D.canDeactivate)}(An)?An.canDeactivate(D,S,N,w):(0,d.N4e)(At,()=>An(D,S,N,w))).pipe((0,kt.$)())});return(0,he.of)(de).pipe(x())}(F.component,F.route,N,S,w)),(0,kt.$)(F=>!0!==F,!0))}(de,w,F,D).pipe((0,xe.Z)(yt=>yt&&function Ls(D){return"boolean"==typeof D}(yt)?function en(D,S,N,w){return(0,se.H)(S).pipe($t(F=>(0,fe.x)(function Di(D,S){return null!==D&&S&&S(new Os(D)),(0,he.of)(!0)}(F.route.parent,w),function Hn(D,S){return null!==D&&S&&S(new Rr(D)),(0,he.of)(!0)}(F.route,w),function ua(D,S,N){const w=S[S.length-1],ae=S.slice(0,S.length-1).reverse().map(de=>function So(D){const S=D.routeConfig?D.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:D,guards:S}:null}(de)).filter(de=>null!==de).map(de=>Se(()=>{const yt=de.guards.map(Xt=>{var At;const An=null!==(At=bo(de.node))&&void 0!==At?At:N,cr=qo(Xt,An);return Me(function Wa(D){return D&&Cr(D.canActivateChild)}(cr)?cr.canActivateChild(w,D):(0,d.N4e)(An,()=>cr(w,D))).pipe((0,kt.$)())});return(0,he.of)(yt).pipe(x())}));return(0,he.of)(ae).pipe(x())}(D,F.path,N),function co(D,S,N){const w=S.routeConfig?S.routeConfig.canActivate:null;if(!w||0===w.length)return(0,he.of)(!0);const F=w.map(ae=>Se(()=>{var de;const yt=null!==(de=bo(S))&&void 0!==de?de:N,Xt=qo(ae,yt);return Me(function Us(D){return D&&Cr(D.canActivate)}(Xt)?Xt.canActivate(S,D):(0,d.N4e)(yt,()=>Xt(S,D))).pipe((0,kt.$)())}));return(0,he.of)(F).pipe(x())}(D,F.route,N))),(0,kt.$)(F=>!0!==F,!0))}(w,ae,D,S):(0,he.of)(yt)),(0,be.T)(yt=>({...N,guardsResult:yt})))})}(this.environmentInjector,At=>this.events.next(At)),(0,an.M)(At=>{if(de.guardsResult=At.guardsResult,At.guardsResult&&"boolean"!=typeof At.guardsResult)throw ks(0,At.guardsResult);const An=new Mi(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot,!!At.guardsResult);this.events.next(An)}),(0,$e.p)(At=>!!At.guardsResult||(this.cancelNavigationTransition(At,"",oi.GuardRejected),!1)),Ma(At=>{if(At.guards.canActivateChecks.length)return(0,he.of)(At).pipe((0,an.M)(An=>{const cr=new Do(An.id,this.urlSerializer.serialize(An.extractedUrl),this.urlSerializer.serialize(An.urlAfterRedirects),An.targetSnapshot);this.events.next(cr)}),(0,tt.n)(An=>{let cr=!1;return(0,he.of)(An).pipe(function xo(D,S){return(0,xe.Z)(N=>{const{targetSnapshot:w,guards:{canActivateChecks:F}}=N;if(!F.length)return(0,he.of)(N);const ae=new Set(F.map(Xt=>Xt.route)),de=new Set;for(const Xt of ae)if(!de.has(Xt))for(const At of vu(Xt))de.add(At);let yt=0;return(0,se.H)(de).pipe($t(Xt=>ae.has(Xt)?function qa(D,S,N,w){const F=D.routeConfig,ae=D._resolve;return void 0!==(null==F?void 0:F.title)&&!Gr(F)&&(ae[yn]=F.title),function mr(D,S,N,w){const F=qt(D);if(0===F.length)return(0,he.of)({});const ae={};return(0,se.H)(F).pipe((0,xe.Z)(de=>function _u(D,S,N,w){var F;const ae=null!==(F=bo(S))&&void 0!==F?F:w,de=qo(D,ae);return Me(de.resolve?de.resolve(S,N):(0,d.N4e)(ae,()=>de(S,N)))}(D[de],S,N,w).pipe((0,kt.$)(),(0,an.M)(yt=>{if(yt instanceof as)throw ks(new ir,yt);ae[de]=yt}))),De(1),function Ce(D){return(0,be.T)(()=>D)}(ae),Qt(de=>$s(de)?We.w:Ve(de)))}(ae,D,S,w).pipe((0,be.T)(de=>(D._resolvedData=de,D.data=Wt(D,D.parent,N).resolve,null)))}(Xt,w,D,S):(Xt.data=Wt(Xt,Xt.parent,D).resolve,(0,he.of)(void 0))),(0,an.M)(()=>yt++),De(1),(0,xe.Z)(Xt=>yt===de.size?(0,he.of)(N):We.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,an.M)({next:()=>cr=!0,complete:()=>{cr||this.cancelNavigationTransition(An,"",oi.NoDataFromResolver)}}))}),(0,an.M)(An=>{const cr=new Ds(An.id,this.urlSerializer.serialize(An.extractedUrl),this.urlSerializer.serialize(An.urlAfterRedirects),An.targetSnapshot);this.events.next(cr)}))}),Ma(At=>{const An=cr=>{var ri;const yr=[];null!==(ri=cr.routeConfig)&&void 0!==ri&&ri.loadComponent&&!cr.routeConfig._loadedComponent&&yr.push(this.configLoader.loadComponent(cr.routeConfig).pipe((0,an.M)(ui=>{cr.component=ui}),(0,be.T)(()=>{})));for(const ui of cr.children)yr.push(...An(ui));return yr};return(0,Oe.z)(An(At.targetSnapshot.root)).pipe((0,Pt.U)(null),(0,nt.s)(1))}),Ma(()=>this.afterPreactivation()),(0,tt.n)(()=>{var At;const{currentSnapshot:An,targetSnapshot:cr}=de,ri=null===(At=this.createViewTransition)||void 0===At?void 0:At.call(this,this.environmentInjector,An.root,cr.root);return ri?(0,se.H)(ri).pipe((0,be.T)(()=>de)):(0,he.of)(de)}),(0,be.T)(At=>{const An=function Oi(D,S,N){const w=to(D,S._root,N?N._root:void 0);return new He(w,S)}(w.routeReuseStrategy,At.targetSnapshot,At.currentRouterState);return this.currentTransition=de={...At,targetRouterState:An},this.currentNavigation.targetRouterState=An,de}),(0,an.M)(()=>{this.events.next(new Go)}),((D,S,N,w)=>(0,be.T)(F=>(new Yi(S,F.targetRouterState,F.currentRouterState,N,w).activate(D),F)))(this.rootContexts,w.routeReuseStrategy,At=>this.events.next(At),this.inputBindingEnabled),(0,nt.s)(1),(0,an.M)({next:At=>{var An;yt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xi(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects))),null===(An=this.titleStrategy)||void 0===An||An.updateTitle(At.targetRouterState.snapshot),At.resolve(!0)},complete:()=>{yt=!0}}),function Re(D){return(0,Ye.N)((S,N)=>{(0,ue.Tg)(D).subscribe((0,Ke._)(N,()=>N.complete(),je.l)),!N.closed&&S.subscribe(N)})}(this.transitionAbortSubject.pipe((0,an.M)(At=>{throw At}))),Xe(()=>{var At;!yt&&!Xt&&this.cancelNavigationTransition(de,"",oi.SupersededByNewNavigation),(null===(At=this.currentTransition)||void 0===At?void 0:At.id)===de.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qt(At=>{if(Xt=!0,Ci(At))this.events.next(new Ei(de.id,this.urlSerializer.serialize(de.extractedUrl),At.message,At.cancellationCode)),function bs(D){return Ci(D)&&Ur(D.url)}(At)?this.events.next(new jr(At.url,At.navigationBehaviorOptions)):de.resolve(!1);else{var An;const cr=new jo(de.id,this.urlSerializer.serialize(de.extractedUrl),At,null!==(An=de.targetSnapshot)&&void 0!==An?An:void 0);try{const ri=(0,d.N4e)(this.environmentInjector,()=>{var yr;return null===(yr=this.navigationErrorHandler)||void 0===yr?void 0:yr.call(this,cr)});if(ri instanceof as){const{message:yr,cancellationCode:ui}=ks(0,ri);this.events.next(new Ei(de.id,this.urlSerializer.serialize(de.extractedUrl),yr,ui)),this.events.next(new jr(ri.redirectTo,ri.navigationBehaviorOptions))}else{this.events.next(cr);const yr=w.errorHandler(At);de.resolve(!!yr)}}catch(ri){this.options.resolveNavigationPromiseOnError?de.resolve(!1):de.reject(ri)}}return We.w}))}))}cancelNavigationTransition(w,F,ae){const de=new Ei(w.id,this.urlSerializer.serialize(w.extractedUrl),F,ae);this.events.next(de),w.resolve(!1)}isUpdatingInternalState(){var w,F;return(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())!==(null===(F=this.currentTransition)||void 0===F?void 0:F.currentUrlTree.toString())}isUpdatedBrowserUrl(){var w,F,ae,de;const yt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Xt=null!==(w=null===(F=this.currentNavigation)||void 0===F?void 0:F.targetBrowserUrl)&&void 0!==w?w:null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.extractedUrl;return yt.toString()!==(null==Xt?void 0:Xt.toString())&&!(null!==(de=this.currentNavigation)&&void 0!==de&&de.extras.skipLocationChange)}}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();function re(D){return D!==ii}let ke=(()=>{var D;class S{}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(on),providedIn:"root"}),S})();class Ft{shouldDetach(S){return!1}store(S,N){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,N){return S.routeConfig===N.routeConfig}}let on=(()=>{var D;class S extends Ft{}return(D=S).\u0275fac=(()=>{let N;return function(F){return(N||(N=d.xGo(D)))(F||D)}})(),D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})(),rr=(()=>{var D;class S{}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(Pr),providedIn:"root"}),S})(),Pr=(()=>{var D;class S extends rr{constructor(){super(...arguments),this.location=(0,d.WQX)(me.aZ),this.urlSerializer=(0,d.WQX)(Wn),this.options=(0,d.WQX)(vo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(ao),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Vt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var w,F;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(w=null===(F=this.restoredState())||void 0===F?void 0:F.\u0275routerPageId)&&void 0!==w?w:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(w){return this.location.subscribe(F=>{"popstate"===F.type&&w(F.url,F.state)})}handleRouterEvent(w,F){if(w instanceof ai)this.stateMemento=this.createStateMemento();else if(w instanceof Ni)this.rawUrlTree=F.initialUrl;else if(w instanceof Ho){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){var ae;const yt=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(null!==(ae=F.targetBrowserUrl)&&void 0!==ae?ae:yt,F)}}else if(w instanceof Go){var de;this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"!==this.urlUpdateStrategy||F.extras.skipLocationChange||this.setBrowserUrl(null!==(de=F.targetBrowserUrl)&&void 0!==de?de:this.rawUrlTree,F)}else w instanceof Ei&&(w.code===oi.GuardRejected||w.code===oi.NoDataFromResolver)?this.restoreHistory(F):w instanceof jo?this.restoreHistory(F,!0):w instanceof xi&&(this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId)}setBrowserUrl(w,F){const ae=w instanceof Gn?this.urlSerializer.serialize(w):w;if(this.location.isCurrentPathEqualTo(ae)||F.extras.replaceUrl){const yt={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(ae,"",yt)}else{const de={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(ae,"",de)}}restoreHistory(w,F=!1){if("computed"===this.canceledNavigationResolution){const de=this.currentPageId-this.browserPageId;0!==de?this.location.historyGo(de):this.currentUrlTree===w.finalUrl&&0===de&&(this.resetState(w),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){var F;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(F=w.finalUrl)&&void 0!==F?F:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,F){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:F}:{navigationId:w}}}return(D=S).\u0275fac=(()=>{let N;return function(F){return(N||(N=d.xGo(D)))(F||D)}})(),D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();var Br=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Br||{});function Tr(D,S){D.events.pipe((0,$e.p)(N=>N instanceof xi||N instanceof Ei||N instanceof jo||N instanceof Ni),(0,be.T)(N=>N instanceof xi||N instanceof Ni?Br.COMPLETE:N instanceof Ei&&(N.code===oi.Redirect||N.code===oi.SupersededByNewNavigation)?Br.REDIRECTING:Br.FAILED),(0,$e.p)(N=>N!==Br.REDIRECTING),(0,nt.s)(1)).subscribe(()=>{S()})}function Zr(D){throw D}const kr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ti={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{var D;class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var w,F;this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(rr),this.options=(0,d.WQX)(vo,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(B),this.urlSerializer=(0,d.WQX)(Wn),this.location=(0,d.WQX)(me.aZ),this.urlHandlingStrategy=(0,d.WQX)(ao),this._events=new pe.B,this.errorHandler=this.options.errorHandler||Zr,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(ke),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(w=null===(F=(0,d.WQX)(Xa,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==w?w:[],this.componentInputBindingEnabled=!!(0,d.WQX)(vi,{optional:!0}),this.eventsSubscription=new it.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ae=>{this.console.warn(ae)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(F=>{try{const ae=this.navigationTransitions.currentTransition,de=this.navigationTransitions.currentNavigation;if(null!==ae&&null!==de)if(this.stateManager.handleRouterEvent(F,de),F instanceof Ei&&F.code!==oi.Redirect&&F.code!==oi.SupersededByNewNavigation)this.navigated=!0;else if(F instanceof xi)this.navigated=!0;else if(F instanceof jr){const yt=F.navigationBehaviorOptions,Xt=this.urlHandlingStrategy.merge(F.url,ae.currentRawUrl),At={browserUrl:ae.extras.browserUrl,info:ae.extras.info,skipLocationChange:ae.extras.skipLocationChange,replaceUrl:ae.extras.replaceUrl||"eager"===this.urlUpdateStrategy||re(ae.source),...yt};this.scheduleNavigation(Xt,ii,null,At,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})}(function sn(D){return!(D instanceof Go||D instanceof jr)})(F)&&this._events.next(F)}catch(ae){this.navigationTransitions.transitionAbortSubject.next(ae)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ii,this.stateManager.restoredState())}setUpLocationChangeListener(){var w;null!==(w=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==w||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((F,ae)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(F,"popstate",ae)},0)}))}navigateToSyncWithBrowser(w,F,ae){const de={replaceUrl:!0},yt=null!=ae&&ae.navigationId?ae:null;if(ae){const At={...ae};delete At.navigationId,delete At.\u0275routerPageId,0!==Object.keys(At).length&&(de.state=At)}const Xt=this.parseUrl(w);this.scheduleNavigation(Xt,F,yt,de)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(ml),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,F={}){const{relativeTo:ae,queryParams:de,fragment:yt,queryParamsHandling:Xt,preserveFragment:At}=F,An=At?this.currentUrlTree.fragment:yt;let ri,cr=null;switch(null!=Xt?Xt:this.options.defaultQueryParamsHandling){case"merge":cr={...this.currentUrlTree.queryParams,...de};break;case"preserve":cr=this.currentUrlTree.queryParams;break;default:cr=de||null}null!==cr&&(cr=this.removeEmptyProps(cr));try{ri=bn(ae?ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||"/"!==w[0][0])&&(w=[]),ri=this.currentUrlTree.root}return qr(ri,w,cr,null!=An?An:null)}navigateByUrl(w,F={skipLocationChange:!1}){const ae=Ur(w)?w:this.parseUrl(w),de=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(de,ii,null,F)}navigate(w,F={skipLocationChange:!1}){return function br(D){for(let S=0;S<D.length;S++)if(null==D[S])throw new d.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,F),F)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){try{return this.urlSerializer.parse(w)}catch{return this.urlSerializer.parse("/")}}isActive(w,F){let ae;if(ae=!0===F?{...kr}:!1===F?{...Ti}:F,Ur(w))return vt(this.currentUrlTree,w,ae);const de=this.parseUrl(w);return vt(this.currentUrlTree,de,ae)}removeEmptyProps(w){return Object.entries(w).reduce((F,[ae,de])=>(null!=de&&(F[ae]=de),F),{})}scheduleNavigation(w,F,ae,de,yt){if(this.disposed)return Promise.resolve(!1);let Xt,At,An;yt?(Xt=yt.resolve,At=yt.reject,An=yt.promise):An=new Promise((ri,yr)=>{Xt=ri,At=yr});const cr=this.pendingTasks.add();return Tr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(cr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:de,resolve:Xt,reject:At,promise:An,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),An.catch(ri=>Promise.reject(ri))}}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})(),Ln=(()=>{var D;class S{constructor(w,F,ae,de,yt,Xt){var At;this.router=w,this.route=F,this.tabIndexAttribute=ae,this.renderer=de,this.el=yt,this.locationStrategy=Xt,this.href=null,this.onChanges=new pe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const An=null===(At=yt.nativeElement.tagName)||void 0===At?void 0:At.toLowerCase();this.isAnchorElement="a"===An||"area"===An,this.isAnchorElement?this.subscription=w.events.subscribe(cr=>{cr instanceof xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null==w?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ur(w)||Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0"))}onClick(w,F,ae,de,yt){const Xt=this.urlTree;return!!(null===Xt||this.isAnchorElement&&(0!==w||F||ae||de||yt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Xt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;const F=this.urlTree;this.href=null!==F&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(F)):null;const ae=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ae)}applyAttributeValue(w,F){const ae=this.renderer,de=this.el.nativeElement;null!==F?ae.setAttribute(de,w,F):ae.removeAttribute(de,w)}get urlTree(){return null===this.routerLinkInput?null:Ur(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(D=S).\u0275fac=function(w){return new(w||D)(d.rXU(mi),d.rXU(Lt),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(me.hb))},D.\u0275dir=d.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,F){1&w&&d.bIt("click",function(de){return F.onClick(de.button,de.ctrlKey,de.shiftKey,de.altKey,de.metaKey)}),2&w&&d.BMQ("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]}),S})();class pi{}let Zi=(()=>{var D;class S{preload(w,F){return F().pipe(Qt(()=>(0,he.of)(null)))}}return(D=S).\u0275fac=function(w){return new(w||D)},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})(),pr=(()=>{var D;class S{constructor(w,F,ae,de,yt){this.router=w,this.injector=ae,this.preloadingStrategy=de,this.loader=yt}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.p)(w=>w instanceof xi),$t(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,F){const ae=[];for(const At of F){var de,yt;At.providers&&!At._injector&&(At._injector=(0,d.Ol2)(At.providers,w,`Route: ${At.path}`));const An=null!==(de=At._injector)&&void 0!==de?de:w,cr=null!==(yt=At._loadedInjector)&&void 0!==yt?yt:An;var Xt;(At.loadChildren&&!At._loadedRoutes&&void 0===At.canLoad||At.loadComponent&&!At._loadedComponent)&&ae.push(this.preloadConfig(An,At)),(At.children||At._loadedRoutes)&&ae.push(this.processRoutes(cr,null!==(Xt=At.children)&&void 0!==Xt?Xt:At._loadedRoutes))}return(0,se.H)(ae).pipe((0,et.U)())}preloadConfig(w,F){return this.preloadingStrategy.preload(F,()=>{let ae;ae=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(w,F):(0,he.of)(null);const de=ae.pipe((0,xe.Z)(yt=>{var Xt;return null===yt?(0,he.of)(void 0):(F._loadedRoutes=yt.routes,F._loadedInjector=yt.injector,this.processRoutes(null!==(Xt=yt.injector)&&void 0!==Xt?Xt:w,yt.routes))}));if(F.loadComponent&&!F._loadedComponent){const yt=this.loader.loadComponent(F);return(0,se.H)([de,yt]).pipe((0,et.U)())}return de})}}return(D=S).\u0275fac=function(w){return new(w||D)(d.KVO(mi),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(pi),d.KVO(vl))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),S})();const Yn=new d.nKC("");let hs=(()=>{var D;class S{constructor(w,F,ae,de,yt={}){this.urlSerializer=w,this.transitions=F,this.viewportScroller=ae,this.zone=de,this.options=yt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},yt.scrollPositionRestoration||(yt.scrollPositionRestoration="disabled"),yt.anchorScrolling||(yt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ai?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof xi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ni&&w.code===ro.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof zo&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zo(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){var w,F;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return(D=S).\u0275fac=function(w){d.QTQ()},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac}),S})();function fs(D,S){return{\u0275kind:D,\u0275providers:S}}function Vi(){const D=(0,d.WQX)(d.zZn);return S=>{var N,w;const F=D.get(d.o8S);if(S!==F.components[0])return;const ae=D.get(mi),de=D.get(Ps);1===D.get(Na)&&ae.initialNavigation(),null===(N=D.get(zn,null,d.$GK.Optional))||void 0===N||N.setUpPreloading(),null===(w=D.get(Yn,null,d.$GK.Optional))||void 0===w||w.init(),ae.resetRootComponentType(F.componentTypes[0]),de.closed||(de.next(),de.complete(),de.unsubscribe())}}const Ps=new d.nKC("",{factory:()=>new pe.B}),Na=new d.nKC("",{providedIn:"root",factory:()=>1}),zn=new d.nKC("");function Hl(D){return fs(0,[{provide:zn,useExisting:pr},{provide:pi,useExisting:D}])}function Li(D){return fs(9,[{provide:xa,useValue:b},{provide:jl,useValue:{skipNextTransition:!(null==D||!D.skipInitialTransition),...D}}])}const yi=new d.nKC("ROUTER_FORROOT_GUARD"),Ui=[me.aZ,{provide:Wn,useClass:ir},mi,P,{provide:Lt,useFactory:function Ks(D){return D.routerState.root},deps:[mi]},vl,[]];let Oa=(()=>{var D;class S{constructor(w){}static forRoot(w,F){return{ngModule:S,providers:[Ui,[],{provide:Xa,multi:!0,useValue:w},{provide:yi,useFactory:ka,deps:[[mi,new d.Xx1,new d.kdw]]},{provide:vo,useValue:F||{}},null!=F&&F.useHash?{provide:me.hb,useClass:me.fw}:{provide:me.hb,useClass:me.Sm},{provide:Yn,useFactory:()=>{const D=(0,d.WQX)(me.Xr),S=(0,d.WQX)(d.SKi),N=(0,d.WQX)(vo),w=(0,d.WQX)(B),F=(0,d.WQX)(Wn);return N.scrollOffset&&D.setOffset(N.scrollOffset),new hs(F,w,D,S,N)}},null!=F&&F.preloadingStrategy?Hl(F.preloadingStrategy).\u0275providers:[],null!=F&&F.initialNavigation?Gl(F):[],null!=F&&F.bindToComponentInputs?fs(8,[_i,{provide:vi,useExisting:_i}]).\u0275providers:[],null!=F&&F.enableViewTransitions?Li().\u0275providers:[],[{provide:Al,useFactory:Vi},{provide:d.iLQ,multi:!0,useExisting:Al}]]}}static forChild(w){return{ngModule:S,providers:[{provide:Xa,multi:!0,useValue:w}]}}}return(D=S).\u0275fac=function(w){return new(w||D)(d.KVO(yi,8))},D.\u0275mod=d.$C({type:D}),D.\u0275inj=d.G2t({}),S})();function ka(D){return"guarded"}function Gl(D){return["disabled"===D.initialNavigation?fs(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const S=(0,d.WQX)(mi);return()=>{S.setUpLocationChangeListener()}}},{provide:Na,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?fs(2,[{provide:Na,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:S=>{const N=S.get(me.hj,Promise.resolve());return()=>N.then(()=>new Promise(w=>{const F=S.get(mi),ae=S.get(Ps);Tr(F,()=>{w(!0)}),S.get(B).afterPreactivation=()=>(w(!0),ae.closed?(0,he.of)(void 0):ae),F.initialNavigation()}))}}]).\u0275providers:[]]}const Al=new d.nKC("")},3345:(dn,pt,k)=>{"use strict";k.d(pt,{A:()=>We});var d=k(1076),f=k(1362),Y=k(7852),J=k(8041);class se{constructor(Ye,Ke){this._delegate=Ye,this.firebase=Ke,(0,Y._addComponent)(Ye,new f.uA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(Ye,Ke=Y._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(Ye);return!st.isInitialized()&&"EXPLICIT"===(null===(qe=st.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&st.initialize(),st.getImmediate({identifier:Ke})}_removeServiceInstance(Ye,Ke=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Ke)}_addComponent(Ye){(0,Y._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,Y._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function Be(){const it=function Oe(it){const Ye={},Ke={__esModule:!0,initializeApp:function pe(nt,Dt={}){const $e=Y.initializeApp(nt,Dt);if((0,d.gR)(Ye,$e.name))return Ye[$e.name];const xe=new it($e,Ke);return Ye[$e.name]=xe,xe},app:st,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function be(nt){const Dt=nt.name,$e=Dt.replace("-compat","");if(Y._registerComponent(nt)&&"PUBLIC"===nt.type){const xe=(kt=st())=>{if("function"!=typeof kt[$e])throw ve.create("invalid-app-argument",{appName:Dt});return kt[$e]()};void 0!==nt.serviceProps&&(0,d.zw)(xe,nt.serviceProps),Ke[$e]=xe,it.prototype[$e]=function(...kt){return this._getService.bind(this,Dt).apply(this,nt.multipleInstances?kt:[])}}return"PUBLIC"===nt.type?Ke[$e]:null},removeApp:function qe(nt){delete Ye[nt]},useAsService:function tt(nt,Dt){return"serverAuth"===Dt?null:Dt},modularAPIs:Y}};function st(nt){if(!(0,d.gR)(Ye,nt=nt||Y._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:nt});return Ye[nt]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function me(){return Object.keys(Ye).map(nt=>Ye[nt])}}),st.App=it,Ke}(se);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:Be,extendNamespace:function Ye(Ke){(0,d.zw)(it,Ke)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),it}(),ue=new J.Vy("@firebase/app-compat");try{const it=(0,d.mS)();if(void 0!==it.firebase){ue.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ye=it.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&ue.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const We=fe;!function Ve(it){(0,Y.registerVersion)("@firebase/app-compat","0.2.43",it)}()},7852:(dn,pt,k)=>{"use strict";k.r(pt),k.d(pt,{FirebaseError:()=>J.g,SDK_VERSION:()=>Yt,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>tr,_addOrOverwriteComponent:()=>Dr,_apps:()=>Zn,_clearComponents:()=>cn,_components:()=>Gn,_getProvider:()=>mn,_isFirebaseApp:()=>Wn,_isFirebaseServerApp:()=>ir,_registerComponent:()=>zr,_removeServiceInstance:()=>xr,_serverApps:()=>Xn,deleteApp:()=>dt,getApp:()=>xt,getApps:()=>ot,initializeApp:()=>bt,initializeServerApp:()=>ut,onLog:()=>Pe,registerVersion:()=>Ae,setLogLevel:()=>Ze});var d=k(467),f=k(1362),Y=k(8041),J=k(1076);const se=(ne,G)=>G.some(ge=>ne instanceof ge);let he,ve;const fe=new WeakMap,ue=new WeakMap,Se=new WeakMap,Fe=new WeakMap,Ve=new WeakMap;let Ye={get(ne,G,ge){if(ne instanceof IDBTransaction){if("done"===G)return ue.get(ne);if("objectStoreNames"===G)return ne.objectStoreNames||Se.get(ne);if("store"===G)return ge.objectStoreNames[1]?void 0:ge.objectStore(ge.objectStoreNames[0])}return pe(ne[G])},set:(ne,G,ge)=>(ne[G]=ge,!0),has:(ne,G)=>ne instanceof IDBTransaction&&("done"===G||"store"===G)||G in ne};function st(ne){return"function"==typeof ne?function qe(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...G){return ne.apply(me(this),G),pe(fe.get(this))}:function(...G){return pe(ne.apply(me(this),G))}:function(G,...ge){const X=ne.call(me(this),G,...ge);return Se.set(X,G.sort?G.sort():[G]),pe(X)}}(ne):(ne instanceof IDBTransaction&&function it(ne){if(ue.has(ne))return;const G=new Promise((ge,X)=>{const Q=()=>{ne.removeEventListener("complete",ye),ne.removeEventListener("error",ft),ne.removeEventListener("abort",ft)},ye=()=>{ge(),Q()},ft=()=>{X(ne.error||new DOMException("AbortError","AbortError")),Q()};ne.addEventListener("complete",ye),ne.addEventListener("error",ft),ne.addEventListener("abort",ft)});ue.set(ne,G)}(ne),se(ne,function Oe(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Ye):ne)}function pe(ne){if(ne instanceof IDBRequest)return function We(ne){const G=new Promise((ge,X)=>{const Q=()=>{ne.removeEventListener("success",ye),ne.removeEventListener("error",ft)},ye=()=>{ge(pe(ne.result)),Q()},ft=()=>{X(ne.error),Q()};ne.addEventListener("success",ye),ne.addEventListener("error",ft)});return G.then(ge=>{ge instanceof IDBCursor&&fe.set(ge,ne)}).catch(()=>{}),Ve.set(G,ne),G}(ne);if(Fe.has(ne))return Fe.get(ne);const G=st(ne);return G!==ne&&(Fe.set(ne,G),Ve.set(G,ne)),G}const me=ne=>Ve.get(ne),nt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],$e=new Map;function xe(ne,G){if(!(ne instanceof IDBDatabase)||G in ne||"string"!=typeof G)return;if($e.get(G))return $e.get(G);const ge=G.replace(/FromIndex$/,""),X=G!==ge,Q=Dt.includes(ge);if(!(ge in(X?IDBIndex:IDBObjectStore).prototype)||!Q&&!nt.includes(ge))return;const ye=function(){var ft=(0,d.A)(function*(Bt,...Jt){const Fn=this.transaction(Bt,Q?"readwrite":"readonly");let Dn=Fn.store;return X&&(Dn=Dn.index(Jt.shift())),(yield Promise.all([Dn[ge](...Jt),Q&&Fn.done]))[0]});return function(Jt){return ft.apply(this,arguments)}}();return $e.set(G,ye),ye}!function Ke(ne){Ye=ne(Ye)}(ne=>({...ne,get:(G,ge,X)=>xe(G,ge)||ne.get(G,ge,X),has:(G,ge)=>!!xe(G,ge)||ne.has(G,ge)}));class kt{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ge=>{if(function $t(ne){const G=ne.getComponent();return"VERSION"===(null==G?void 0:G.type)}(ge)){const X=ge.getImmediate();return`${X.library}/${X.version}`}return null}).filter(ge=>ge).join(" ")}}const an="@firebase/app",Qt="0.10.13",Tn=new Y.Vy("@firebase/app"),Pt="@firebase/app-compat",De="@firebase/analytics-compat",Ee="@firebase/analytics",Ie="@firebase/app-check-compat",Z="@firebase/app-check",Ce="@firebase/auth",Xe="@firebase/auth-compat",je="@firebase/database",Re="@firebase/data-connect",et="@firebase/database-compat",rt="@firebase/functions",Tt="@firebase/functions-compat",yn="@firebase/installations",at="@firebase/installations-compat",rn="@firebase/messaging",hn="@firebase/messaging-compat",Sn="@firebase/performance",Nt="@firebase/performance-compat",qt="@firebase/remote-config",xn="@firebase/remote-config-compat",zt="@firebase/storage",Me="@firebase/storage-compat",Le="@firebase/firestore",Rt="@firebase/vertexai-preview",vt="@firebase/firestore-compat",On="firebase",Cn="[DEFAULT]",gn={[an]:"fire-core",[Pt]:"fire-core-compat",[Ee]:"fire-analytics",[De]:"fire-analytics-compat",[Z]:"fire-app-check",[Ie]:"fire-app-check-compat",[Ce]:"fire-auth",[Xe]:"fire-auth-compat",[je]:"fire-rtdb",[Re]:"fire-data-connect",[et]:"fire-rtdb-compat",[rt]:"fire-fn",[Tt]:"fire-fn-compat",[yn]:"fire-iid",[at]:"fire-iid-compat",[rn]:"fire-fcm",[hn]:"fire-fcm-compat",[Sn]:"fire-perf",[Nt]:"fire-perf-compat",[qt]:"fire-rc",[xn]:"fire-rc-compat",[zt]:"fire-gcs",[Me]:"fire-gcs-compat",[Le]:"fire-fst",[vt]:"fire-fst-compat",[Rt]:"fire-vertex","fire-js":"fire-js",[On]:"fire-js-all"},Zn=new Map,Xn=new Map,Gn=new Map;function tr(ne,G){try{ne.container.addComponent(G)}catch(ge){Tn.debug(`Component ${G.name} failed to register with FirebaseApp ${ne.name}`,ge)}}function Dr(ne,G){ne.container.addOrOverwriteComponent(G)}function zr(ne){const G=ne.name;if(Gn.has(G))return Tn.debug(`There were multiple attempts to register component ${G}.`),!1;Gn.set(G,ne);for(const ge of Zn.values())tr(ge,ne);for(const ge of Xn.values())tr(ge,ne);return!0}function mn(ne,G){const ge=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return ge&&ge.triggerHeartbeat(),ne.container.getProvider(G)}function xr(ne,G,ge=Cn){mn(ne,G).clearInstance(ge)}function Wn(ne){return void 0!==ne.options}function ir(ne){return void 0!==ne.settings}function cn(){Gn.clear()}const Mn=new J.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class qn{constructor(G,ge,X){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},ge),this._name=ge.name,this._automaticDataCollectionEnabled=ge.automaticDataCollectionEnabled,this._container=X,this.container.addComponent(new f.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}class Jn extends qn{constructor(G,ge,X,Q){const ye=void 0!==ge.automaticDataCollectionEnabled&&ge.automaticDataCollectionEnabled,ft={name:X,automaticDataCollectionEnabled:ye};super(void 0!==G.apiKey?G:G.options,ft,Q),this._serverConfig=Object.assign({automaticDataCollectionEnabled:ye},ge),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,ge.releaseOnDeref=void 0,Ae(an,Qt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(G){this.isDeleted||(this._refCount++,void 0!==G&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(G,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){dt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Mn.create("server-app-deleted")}}const Yt="10.14.1";function bt(ne,G={}){let ge=ne;"object"!=typeof G&&(G={name:G});const X=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},G),Q=X.name;if("string"!=typeof Q||!Q)throw Mn.create("bad-app-name",{appName:String(Q)});if(ge||(ge=(0,J.T9)()),!ge)throw Mn.create("no-options");const ye=Zn.get(Q);if(ye){if((0,J.bD)(ge,ye.options)&&(0,J.bD)(X,ye.config))return ye;throw Mn.create("duplicate-app",{appName:Q})}const ft=new f.h1(Q);for(const Jt of Gn.values())ft.addComponent(Jt);const Bt=new qn(ge,X,ft);return Zn.set(Q,Bt),Bt}function ut(ne,G){if((0,J.Bd)()&&!(0,J.p7)())throw Mn.create("invalid-server-app-environment");let ge;void 0===G.automaticDataCollectionEnabled&&(G.automaticDataCollectionEnabled=!1),ge=Wn(ne)?ne.options:ne;const X=Object.assign(Object.assign({},G),ge);if(void 0!==X.releaseOnDeref&&delete X.releaseOnDeref,void 0!==G.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Mn.create("finalization-registry-not-supported",{});const ye=""+(Fn=JSON.stringify(X),[...Fn].reduce((Dn,Vn)=>Math.imul(31,Dn)+Vn.charCodeAt(0)|0,0)),ft=Xn.get(ye);var Fn;if(ft)return ft.incRefCount(G.releaseOnDeref),ft;const Bt=new f.h1(ye);for(const Fn of Gn.values())Bt.addComponent(Fn);const Jt=new Jn(ge,G,ye,Bt);return Xn.set(ye,Jt),Jt}function xt(ne=Cn){const G=Zn.get(ne);if(!G&&ne===Cn&&(0,J.T9)())return bt();if(!G)throw Mn.create("no-app",{appName:ne});return G}function ot(){return Array.from(Zn.values())}function dt(ne){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,d.A)(function*(ne){let G=!1;const ge=ne.name;Zn.has(ge)?(G=!0,Zn.delete(ge)):Xn.has(ge)&&ne.decRefCount()<=0&&(Xn.delete(ge),G=!0),G&&(yield Promise.all(ne.container.getProviders().map(X=>X.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function Ae(ne,G,ge){var X;let Q=null!==(X=gn[ne])&&void 0!==X?X:ne;ge&&(Q+=`-${ge}`);const ye=Q.match(/\s|\//),ft=G.match(/\s|\//);if(ye||ft){const Bt=[`Unable to register library "${Q}" with version "${G}":`];return ye&&Bt.push(`library name "${Q}" contains illegal characters (whitespace or "/")`),ye&&ft&&Bt.push("and"),ft&&Bt.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void Tn.warn(Bt.join(" "))}zr(new f.uA(`${Q}-version`,()=>({library:Q,version:G}),"VERSION"))}function Pe(ne,G){if(null!==ne&&"function"!=typeof ne)throw Mn.create("invalid-log-argument");(0,Y.Ey)(ne,G)}function Ze(ne){(0,Y.He)(ne)}const St="firebase-heartbeat-database",gt=1,vn="firebase-heartbeat-store";let En=null;function hr(){return En||(En=function be(ne,G,{blocked:ge,upgrade:X,blocking:Q,terminated:ye}={}){const ft=indexedDB.open(ne,G),Bt=pe(ft);return X&&ft.addEventListener("upgradeneeded",Jt=>{X(pe(ft.result),Jt.oldVersion,Jt.newVersion,pe(ft.transaction),Jt)}),ge&&ft.addEventListener("blocked",Jt=>ge(Jt.oldVersion,Jt.newVersion,Jt)),Bt.then(Jt=>{ye&&Jt.addEventListener("close",()=>ye()),Q&&Jt.addEventListener("versionchange",Fn=>Q(Fn.oldVersion,Fn.newVersion,Fn))}).catch(()=>{}),Bt}(St,gt,{upgrade:(ne,G)=>{if(0===G)try{ne.createObjectStore(vn)}catch(ge){console.warn(ge)}}}).catch(ne=>{throw Mn.create("idb-open",{originalErrorMessage:ne.message})})),En}function lt(){return(lt=(0,d.A)(function*(ne){try{const ge=(yield hr()).transaction(vn),X=yield ge.objectStore(vn).get(Ur(ne));return yield ge.done,X}catch(G){if(G instanceof J.g)Tn.warn(G.message);else{const ge=Mn.create("idb-get",{originalErrorMessage:null==G?void 0:G.message});Tn.warn(ge.message)}}})).apply(this,arguments)}function gr(ne,G){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.A)(function*(ne,G){try{const X=(yield hr()).transaction(vn,"readwrite");yield X.objectStore(vn).put(G,Ur(ne)),yield X.done}catch(ge){if(ge instanceof J.g)Tn.warn(ge.message);else{const X=Mn.create("idb-set",{originalErrorMessage:null==ge?void 0:ge.message});Tn.warn(X.message)}}})).apply(this,arguments)}function Ur(ne){return`${ne.name}!${ne.options.appId}`}class qr{constructor(G){this.container=G,this._heartbeatsCache=null;const ge=this.container.getProvider("app").getImmediate();this._storage=new Ri(ge),this._heartbeatsCachePromise=this._storage.read().then(X=>(this._heartbeatsCache=X,X))}triggerHeartbeat(){var G=this;return(0,d.A)(function*(){var ge,X;try{const ye=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ft=di();return null==(null===(ge=G._heartbeatsCache)||void 0===ge?void 0:ge.heartbeats)&&(G._heartbeatsCache=yield G._heartbeatsCachePromise,null==(null===(X=G._heartbeatsCache)||void 0===X?void 0:X.heartbeats))||G._heartbeatsCache.lastSentHeartbeatDate===ft||G._heartbeatsCache.heartbeats.some(Bt=>Bt.date===ft)?void 0:(G._heartbeatsCache.heartbeats.push({date:ft,agent:ye}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(Bt=>{const Jt=new Date(Bt.date).valueOf();return Date.now()-Jt<=2592e6}),G._storage.overwrite(G._heartbeatsCache))}catch(Q){Tn.warn(Q)}})()}getHeartbeatsHeader(){var G=this;return(0,d.A)(function*(){var ge;try{if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null==(null===(ge=G._heartbeatsCache)||void 0===ge?void 0:ge.heartbeats)||0===G._heartbeatsCache.heartbeats.length)return"";const X=di(),{heartbeatsToSend:Q,unsentEntries:ye}=function Xr(ne,G=1024){const ge=[];let X=ne.slice();for(const Q of ne){const ye=ge.find(ft=>ft.agent===Q.agent);if(ye){if(ye.dates.push(Q.date),gi(ge)>G){ye.dates.pop();break}}else if(ge.push({agent:Q.agent,dates:[Q.date]}),gi(ge)>G){ge.pop();break}X=X.slice(1)}return{heartbeatsToSend:ge,unsentEntries:X}}(G._heartbeatsCache.heartbeats),ft=(0,J.Uj)(JSON.stringify({version:2,heartbeats:Q}));return G._heartbeatsCache.lastSentHeartbeatDate=X,ye.length>0?(G._heartbeatsCache.heartbeats=ye,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),ft}catch(X){return Tn.warn(X),""}})()}}function di(){return(new Date).toISOString().substring(0,10)}class Ri{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,J.zW)()&&(0,J.eX)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,d.A)(function*(){if(yield G._canUseIndexedDBPromise){const X=yield function Sr(ne){return lt.apply(this,arguments)}(G.app);return null!=X&&X.heartbeats?X:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(G){var ge=this;return(0,d.A)(function*(){var X;if(yield ge._canUseIndexedDBPromise){const ye=yield ge.read();return gr(ge.app,{lastSentHeartbeatDate:null!==(X=G.lastSentHeartbeatDate)&&void 0!==X?X:ye.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ge=this;return(0,d.A)(function*(){var X;if(yield ge._canUseIndexedDBPromise){const ye=yield ge.read();return gr(ge.app,{lastSentHeartbeatDate:null!==(X=G.lastSentHeartbeatDate)&&void 0!==X?X:ye.lastSentHeartbeatDate,heartbeats:[...ye.heartbeats,...G.heartbeats]})}})()}}function gi(ne){return(0,J.Uj)(JSON.stringify({version:2,heartbeats:ne})).length}!function ar(ne){zr(new f.uA("platform-logger",G=>new kt(G),"PRIVATE")),zr(new f.uA("heartbeat",G=>new qr(G),"PRIVATE")),Ae(an,Qt,ne),Ae(an,Qt,"esm2017"),Ae("fire-js","")}("")},1362:(dn,pt,k)=>{"use strict";k.d(pt,{h1:()=>Oe,uA:()=>Y});var d=k(467),f=k(1076);class Y{constructor(fe,ue,Se){this.name=fe,this.instanceFactory=ue,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const J="[DEFAULT]";class se{constructor(fe,ue){this.name=fe,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const ue=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ue)){const Se=new f.cY;if(this.instancesDeferred.set(ue,Se),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:ue});Fe&&Se.resolve(Fe)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(fe){var ue;const Se=this.normalizeInstanceIdentifier(null==fe?void 0:fe.identifier),Fe=null!==(ue=null==fe?void 0:fe.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Ve){if(Fe)return null;throw Ve}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function ve(Be){return"EAGER"===Be.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[ue,Se]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(ue);try{const Ve=this.getOrInitializeService({instanceIdentifier:Fe});Se.resolve(Ve)}catch{}}}}clearInstance(fe=J){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,d.A)(function*(){const ue=Array.from(fe.instances.values());yield Promise.all([...ue.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...ue.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=J){return this.instances.has(fe)}getOptions(fe=J){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:ue={}}=fe,Se=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Se,options:ue});for(const[Ve,We]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Ve)&&We.resolve(Fe);return Fe}onInit(fe,ue){var Se;const Fe=this.normalizeInstanceIdentifier(ue),Ve=null!==(Se=this.onInitCallbacks.get(Fe))&&void 0!==Se?Se:new Set;Ve.add(fe),this.onInitCallbacks.set(Fe,Ve);const We=this.instances.get(Fe);return We&&fe(We,Fe),()=>{Ve.delete(fe)}}invokeOnInitCallbacks(fe,ue){const Se=this.onInitCallbacks.get(ue);if(Se)for(const Fe of Se)try{Fe(fe,ue)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:ue={}}){let Se=this.instances.get(fe);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=fe,Be===J?void 0:Be),options:ue}),this.instances.set(fe,Se),this.instancesOptions.set(fe,ue),this.invokeOnInitCallbacks(Se,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Se)}catch{}var Be;return Se||null}normalizeInstanceIdentifier(fe=J){return this.component?this.component.multipleInstances?fe:J:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const ue=this.getProvider(fe.name);if(ue.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);ue.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const ue=new se(fe,this);return this.providers.set(fe,ue),ue}getProviders(){return Array.from(this.providers.values())}}},8041:(dn,pt,k)=>{"use strict";k.d(pt,{$b:()=>f,Ey:()=>Be,He:()=>Oe,Vy:()=>ve});const d=[];var f=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(f||{});const Y={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},J=f.INFO,se={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},he=(fe,ue,...Se)=>{if(ue<fe.logLevel)return;const Fe=(new Date).toISOString(),Ve=se[ue];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Ve](`[${Fe}]  ${fe.name}:`,...Se)};class ve{constructor(ue){this.name=ue,this._logLevel=J,this._logHandler=he,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in f))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?Y[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...ue),this._logHandler(this,f.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...ue),this._logHandler(this,f.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,f.INFO,...ue),this._logHandler(this,f.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,f.WARN,...ue),this._logHandler(this,f.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...ue),this._logHandler(this,f.ERROR,...ue)}}function Oe(fe){d.forEach(ue=>{ue.setLogLevel(fe)})}function Be(fe,ue){for(const Se of d){let Fe=null;ue&&ue.level&&(Fe=Y[ue.level]),Se.userLogHandler=null===fe?null:(Ve,We,...it)=>{const Ye=it.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch{return null}}).filter(Ke=>Ke).join(" ");We>=(null!=Fe?Fe:Ve.logLevel)&&fe({level:f[We].toLowerCase(),message:Ye,args:it,type:Ve.name})}}}},2872:(dn,pt,k)=>{"use strict";k.d(pt,{Yq:()=>zt,TS:()=>Sn,sR:()=>Nt,el:()=>En,Sb:()=>Wn,QE:()=>kn,CF:()=>zr,Rg:()=>Zt,p4:()=>Ur,jM:()=>gi,q9:()=>yn,Kb:()=>ar,CE:()=>hr,pF:()=>Sr,fL:()=>bn,YV:()=>St,er:()=>$r,z3:()=>qr});var d=k(467),f=k(9842),Y=k(4438),J=k(4964),se=k(177),he=k(5531),ve=k(4442);var kt=k(1413),$t=k(3726),an=k(4412),Qt=k(4572),Tn=k(7673),Pt=k(1635),De=k(5964),Ee=k(5558),Ie=k(3294),Z=k(9417);const Ce=["tabsInner"];let et=(()=>{var ne;class G{constructor(X,Q){(0,f.A)(this,"doc",void 0),(0,f.A)(this,"_readyPromise",void 0),(0,f.A)(this,"win",void 0),(0,f.A)(this,"backButton",new kt.B),(0,f.A)(this,"keyboardDidShow",new kt.B),(0,f.A)(this,"keyboardDidHide",new kt.B),(0,f.A)(this,"pause",new kt.B),(0,f.A)(this,"resume",new kt.B),(0,f.A)(this,"resize",new kt.B),this.doc=X,Q.run(()=>{var ye;let ft;this.win=X.defaultView,this.backButton.subscribeWithPriority=function(Bt,Jt){return this.subscribe(Fn=>Fn.register(Bt,Dn=>Q.run(()=>Jt(Dn))))},Tt(this.pause,X,"pause",Q),Tt(this.resume,X,"resume",Q),Tt(this.backButton,X,"ionBackButton",Q),Tt(this.resize,this.win,"resize",Q),Tt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Q),Tt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Q),this._readyPromise=new Promise(Bt=>{ft=Bt}),null!==(ye=this.win)&&void 0!==ye&&ye.cordova?X.addEventListener("deviceready",()=>{ft("cordova")},{once:!0}):ft("dom")})}is(X){return(0,he.a)(this.win,X)}platforms(){return(0,he.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(X){return rt(this.win.location.href,X)}isLandscape(){return!this.isPortrait()}isPortrait(){var X,Q;return null===(X=(Q=this.win).matchMedia)||void 0===X?void 0:X.call(Q,"(orientation: portrait)").matches}testUserAgent(X){const Q=this.win.navigator;return!!(null!=Q&&Q.userAgent&&Q.userAgent.indexOf(X)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)(Y.KVO(se.qQ),Y.KVO(Y.SKi))}),(0,f.A)(G,"\u0275prov",Y.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),G})();const rt=(ne,G)=>{G=G.replace(/[[\]\\]/g,"\\$&");const X=new RegExp("[\\?&]"+G+"=([^&#]*)").exec(ne);return X?decodeURIComponent(X[1].replace(/\+/g," ")):null},Tt=(ne,G,ge,X)=>{G&&G.addEventListener(ge,Q=>{X.run(()=>{ne.next(null!=Q?Q.detail:void 0)})})};let yn=(()=>{var ne;class G{constructor(X,Q,ye,ft){(0,f.A)(this,"location",void 0),(0,f.A)(this,"serializer",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"topOutlet",void 0),(0,f.A)(this,"direction",rn),(0,f.A)(this,"animated",hn),(0,f.A)(this,"animationBuilder",void 0),(0,f.A)(this,"guessDirection","forward"),(0,f.A)(this,"guessAnimation",void 0),(0,f.A)(this,"lastNavId",-1),this.location=Q,this.serializer=ye,this.router=ft,ft&&ft.events.subscribe(Bt=>{if(Bt instanceof J.Z){const Jt=Bt.restoredState?Bt.restoredState.navigationId:Bt.id;this.guessDirection=this.guessAnimation=Jt<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Bt.id:Jt}}),X.backButton.subscribeWithPriority(0,Bt=>{this.pop(),Bt()})}navigateForward(X,Q={}){return this.setDirection("forward",Q.animated,Q.animationDirection,Q.animation),this.navigate(X,Q)}navigateBack(X,Q={}){return this.setDirection("back",Q.animated,Q.animationDirection,Q.animation),this.navigate(X,Q)}navigateRoot(X,Q={}){return this.setDirection("root",Q.animated,Q.animationDirection,Q.animation),this.navigate(X,Q)}back(X={animated:!0,animationDirection:"back"}){return this.setDirection("back",X.animated,X.animationDirection,X.animation),this.location.back()}pop(){var X=this;return(0,d.A)(function*(){let Q=X.topOutlet;for(;Q;){if(yield Q.pop())return!0;Q=Q.parentOutlet}return!1})()}setDirection(X,Q,ye,ft){this.direction=X,this.animated=at(X,Q,ye),this.animationBuilder=ft}setTopOutlet(X){this.topOutlet=X}consumeTransition(){let Q,X="root";const ye=this.animationBuilder;return"auto"===this.direction?(X=this.guessDirection,Q=this.guessAnimation):(Q=this.animated,X=this.direction),this.direction=rn,this.animated=hn,this.animationBuilder=void 0,{direction:X,animation:Q,animationBuilder:ye}}navigate(X,Q){if(Array.isArray(X))return this.router.navigate(X,Q);{const ye=this.serializer.parse(X.toString());return void 0!==Q.queryParams&&(ye.queryParams={...Q.queryParams}),void 0!==Q.fragment&&(ye.fragment=Q.fragment),this.router.navigateByUrl(ye,Q)}}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)(Y.KVO(et),Y.KVO(se.aZ),Y.KVO(J.Sd),Y.KVO(J.Ix,8))}),(0,f.A)(G,"\u0275prov",Y.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),G})();const at=(ne,G,ge)=>{if(!1!==G){if(void 0!==ge)return ge;if("forward"===ne||"back"===ne)return ne;if("root"===ne&&!0===G)return"forward"}},rn="auto",hn=void 0;let Sn=(()=>{var ne;class G{get(X,Q){const ye=qt();return ye?ye.get(X,Q):null}getBoolean(X,Q){const ye=qt();return!!ye&&ye.getBoolean(X,Q)}getNumber(X,Q){const ye=qt();return ye?ye.getNumber(X,Q):0}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)}),(0,f.A)(G,"\u0275prov",Y.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),G})();const Nt=new Y.nKC("USERCONFIG"),qt=()=>{if(typeof window<"u"){const ne=window.Ionic;if(null!=ne&&ne.config)return ne.config}return null};class xn{constructor(G={}){(0,f.A)(this,"data",void 0),this.data=G,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(G){return this.data[G]}}let zt=(()=>{var ne;class G{constructor(){(0,f.A)(this,"zone",(0,Y.WQX)(Y.SKi)),(0,f.A)(this,"applicationRef",(0,Y.WQX)(Y.o8S)),(0,f.A)(this,"config",(0,Y.WQX)(Nt))}create(X,Q,ye){var ft;return new Me(X,Q,this.applicationRef,this.zone,ye,null!==(ft=this.config.useSetInputAPI)&&void 0!==ft&&ft)}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)}),(0,f.A)(G,"\u0275prov",Y.jDH({token:ne,factory:ne.\u0275fac})),G})();class Me{constructor(G,ge,X,Q,ye,ft){(0,f.A)(this,"environmentInjector",void 0),(0,f.A)(this,"injector",void 0),(0,f.A)(this,"applicationRef",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"elementReferenceKey",void 0),(0,f.A)(this,"enableSignalsSupport",void 0),(0,f.A)(this,"elRefMap",new WeakMap),(0,f.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=G,this.injector=ge,this.applicationRef=X,this.zone=Q,this.elementReferenceKey=ye,this.enableSignalsSupport=ft}attachViewToDom(G,ge,X,Q){return this.zone.run(()=>new Promise(ye=>{const ft={...X};void 0!==this.elementReferenceKey&&(ft[this.elementReferenceKey]=G),ye(Le(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,G,ge,ft,Q,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(G,ge){return this.zone.run(()=>new Promise(X=>{const Q=this.elRefMap.get(ge);if(Q){Q.destroy(),this.elRefMap.delete(ge);const ye=this.elEventsMap.get(ge);ye&&(ye(),this.elEventsMap.delete(ge))}X()}))}}const Le=(ne,G,ge,X,Q,ye,ft,Bt,Jt,Fn,Dn,Vn)=>{const ii=Y.zZn.create({providers:jn(Jt),parent:ge}),Qn=(0,Y.a0P)(Bt,{environmentInjector:G,elementInjector:ii}),ei=Qn.instance,ai=Qn.location.nativeElement;if(Jt)if(Dn&&void 0!==ei[Dn]&&console.error(`[Ionic Error]: ${Dn} is a reserved property when using ${ft.tagName.toLowerCase()}. Rename or remove the "${Dn}" property from ${Bt.name}.`),!0===Vn&&void 0!==Qn.setInput){const{modal:oi,popover:ro,...Ei}=Jt;for(const Ni in Ei)Qn.setInput(Ni,Ei[Ni]);void 0!==oi&&Object.assign(ei,{modal:oi}),void 0!==ro&&Object.assign(ei,{popover:ro})}else Object.assign(ei,Jt);if(Fn)for(const oi of Fn)ai.classList.add(oi);const xi=vt(ne,ei,ai);return ft.appendChild(ai),X.attachView(Qn.hostView),Q.set(ai,Qn),ye.set(ai,xi),ai},Rt=[ve.L,ve.a,ve.b,ve.c,ve.d],vt=(ne,G,ge)=>ne.run(()=>{const X=Rt.filter(Q=>"function"==typeof G[Q]).map(Q=>{const ye=ft=>G[Q](ft.detail);return ge.addEventListener(Q,ye),()=>ge.removeEventListener(Q,ye)});return()=>X.forEach(Q=>Q())}),On=new Y.nKC("NavParamsToken"),jn=ne=>[{provide:On,useValue:ne},{provide:xn,useFactory:Cn,deps:[On]}],Cn=ne=>new xn(ne),gn=(ne,G)=>{const ge=ne.prototype;G.forEach(X=>{Object.defineProperty(ge,X,{get(){return this.el[X]},set(Q){this.z.runOutsideAngular(()=>this.el[X]=Q)}})})},Zn=(ne,G)=>{const ge=ne.prototype;G.forEach(X=>{ge[X]=function(){const Q=arguments;return this.z.runOutsideAngular(()=>this.el[X].apply(this.el,Q))}})},Xn=(ne,G,ge)=>{ge.forEach(X=>ne[X]=(0,$t.R)(G,X))};function Gn(ne){return function(ge){const{defineCustomElementFn:X,inputs:Q,methods:ye}=ne;return void 0!==X&&X(),Q&&gn(ge,Q),ye&&Zn(ge,ye),ge}}const tr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Dr=["present","dismiss","onDidDismiss","onWillDismiss"];let zr=(()=>{var ne;let G=((0,f.A)(ne=class{constructor(X,Q,ye){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=ye,this.el=Q.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,X.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,X.detectChanges()}),Xn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(X){return new(X||ne)(Y.rXU(Y.gRc),Y.rXU(Y.aKT),Y.rXU(Y.SKi))}),(0,f.A)(ne,"\u0275dir",Y.FsC({type:ne,selectors:[["ion-popover"]],contentQueries:function(X,Q,ye){if(1&X&&Y.wni(ye,Y.C4Q,5),2&X){let ft;Y.mGM(ft=Y.lsd())&&(Q.template=ft.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ne);return G=(0,Pt.Cg)([Gn({inputs:tr,methods:Dr})],G),G})();const mn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],xr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Wn=(()=>{var ne;let G=((0,f.A)(ne=class{constructor(X,Q,ye){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=ye,this.el=Q.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,X.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,X.detectChanges()}),Xn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(X){return new(X||ne)(Y.rXU(Y.gRc),Y.rXU(Y.aKT),Y.rXU(Y.SKi))}),(0,f.A)(ne,"\u0275dir",Y.FsC({type:ne,selectors:[["ion-modal"]],contentQueries:function(X,Q,ye){if(1&X&&Y.wni(ye,Y.C4Q,5),2&X){let ft;Y.mGM(ft=Y.lsd())&&(Q.template=ft.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ne);return G=(0,Pt.Cg)([Gn({inputs:mn,methods:xr})],G),G})();const cn=(ne,G)=>((ne=ne.filter(ge=>ge.stackId!==G.stackId)).push(G),ne),qn=(ne,G)=>{const ge=ne.createUrlTree(["."],{relativeTo:G});return ne.serializeUrl(ge)},Jn=(ne,G)=>!G||ne.stackId!==G.stackId,Yt=(ne,G)=>{if(!ne)return;const ge=bt(G);for(let X=0;X<ge.length;X++){if(X>=ne.length)return ge[X];if(ge[X]!==ne[X])return}},bt=ne=>ne.split("/").map(G=>G.trim()).filter(G=>""!==G),ut=ne=>{ne&&(ne.ref.destroy(),ne.unlistenEvents())};class xt{constructor(G,ge,X,Q,ye,ft){(0,f.A)(this,"containerEl",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"location",void 0),(0,f.A)(this,"views",[]),(0,f.A)(this,"runningTask",void 0),(0,f.A)(this,"skipTransition",!1),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"activeView",void 0),(0,f.A)(this,"nextId",0),this.containerEl=ge,this.router=X,this.navCtrl=Q,this.zone=ye,this.location=ft,this.tabsPrefix=void 0!==G?bt(G):void 0}createView(G,ge){var X;const Q=qn(this.router,ge),ye=null==G||null===(X=G.location)||void 0===X?void 0:X.nativeElement,ft=vt(this.zone,G.instance,ye);return{id:this.nextId++,stackId:Yt(this.tabsPrefix,Q),unlistenEvents:ft,element:ye,ref:G,url:Q}}getExistingView(G){const ge=qn(this.router,G),X=this.views.find(Q=>Q.url===ge);return X&&X.ref.changeDetectorRef.reattach(),X}setActive(G){var ge,X;const Q=this.navCtrl.consumeTransition();let{direction:ye,animation:ft,animationBuilder:Bt}=Q;const Jt=this.activeView,Fn=Jn(G,Jt);Fn&&(ye="back",ft=void 0);const Dn=this.views.slice();let Vn;const ii=this.router;ii.getCurrentNavigation?Vn=ii.getCurrentNavigation():null!==(ge=ii.navigations)&&void 0!==ge&&ge.value&&(Vn=ii.navigations.value),null!==(X=Vn)&&void 0!==X&&null!==(X=X.extras)&&void 0!==X&&X.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Qn=this.views.includes(G),ei=this.insertView(G,ye);Qn||G.ref.changeDetectorRef.detectChanges();const ai=G.animationBuilder;return void 0===Bt&&"back"===ye&&!Fn&&void 0!==ai&&(Bt=ai),Jt&&(Jt.animationBuilder=Bt),this.zone.runOutsideAngular(()=>this.wait(()=>(Jt&&Jt.ref.changeDetectorRef.detach(),G.ref.changeDetectorRef.reattach(),this.transition(G,Jt,ft,this.canGoBack(1),!1,Bt).then(()=>ot(G,ei,Dn,this.location,this.zone)).then(()=>({enteringView:G,direction:ye,animation:ft,tabSwitch:Fn})))))}canGoBack(G,ge=this.getActiveStackId()){return this.getStack(ge).length>G}pop(G,ge=this.getActiveStackId()){return this.zone.run(()=>{const X=this.getStack(ge);if(X.length<=G)return Promise.resolve(!1);const Q=X[X.length-G-1];let ye=Q.url;const ft=Q.savedData;if(ft){var Bt;const Fn=ft.get("primary");null!=Fn&&null!==(Bt=Fn.route)&&void 0!==Bt&&null!==(Bt=Bt._routerState)&&void 0!==Bt&&Bt.snapshot.url&&(ye=Fn.route._routerState.snapshot.url)}const{animationBuilder:Jt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ye,{...Q.savedExtras,animation:Jt}).then(()=>!0)})}startBackTransition(){const G=this.activeView;if(G){const ge=this.getStack(G.stackId),X=ge[ge.length-2],Q=X.animationBuilder;return this.wait(()=>this.transition(X,G,"back",this.canGoBack(2),!0,Q))}return Promise.resolve()}endBackTransition(G){G?(this.skipTransition=!0,this.pop(1)):this.activeView&&dt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(G){const ge=this.getStack(G);return ge.length>0?ge[ge.length-1]:void 0}getRootUrl(G){const ge=this.getStack(G);return ge.length>0?ge[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ut),this.activeView=void 0,this.views=[]}getStack(G){return this.views.filter(ge=>ge.stackId===G)}insertView(G,ge){return this.activeView=G,this.views=((ne,G,ge)=>"root"===ge?cn(ne,G):"forward"===ge?((ne,G)=>(ne.indexOf(G)>=0?ne=ne.filter(X=>X.stackId!==G.stackId||X.id<=G.id):ne.push(G),ne))(ne,G):((ne,G)=>ne.indexOf(G)>=0?ne.filter(X=>X.stackId!==G.stackId||X.id<=G.id):cn(ne,G))(ne,G))(this.views,G,ge),this.views.slice()}transition(G,ge,X,Q,ye,ft){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ge===G)return Promise.resolve(!1);const Bt=G?G.element:void 0,Jt=ge?ge.element:void 0,Fn=this.containerEl;return Bt&&Bt!==Jt&&(Bt.classList.add("ion-page"),Bt.classList.add("ion-page-invisible"),Fn.commit)?Fn.commit(Bt,Jt,{duration:void 0===X?0:void 0,direction:X,showGoBack:Q,progressAnimation:ye,animationBuilder:ft}):Promise.resolve(!1)}wait(G){var ge=this;return(0,d.A)(function*(){void 0!==ge.runningTask&&(yield ge.runningTask,ge.runningTask=void 0);const X=ge.runningTask=G();return X.finally(()=>ge.runningTask=void 0),X})()}}const ot=(ne,G,ge,X,Q)=>"function"==typeof requestAnimationFrame?new Promise(ye=>{requestAnimationFrame(()=>{dt(ne,G,ge,X,Q),ye()})}):Promise.resolve(),dt=(ne,G,ge,X,Q)=>{Q.run(()=>ge.filter(ye=>!G.includes(ye)).forEach(ut)),G.forEach(ye=>{const Bt=X.path().split("?")[0].split("#")[0];if(ye!==ne&&ye.url!==Bt){const Jt=ye.element;Jt.setAttribute("aria-hidden","true"),Jt.classList.add("ion-page-hidden"),ye.ref.changeDetectorRef.detach()}})};let Zt=(()=>{var ne;class G{get activatedComponentRef(){return this.activated}set animation(X){this.nativeEl.animation=X}set animated(X){this.nativeEl.animated=X}set swipeGesture(X){this._swipeGesture=X,this.nativeEl.swipeHandler=X?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Q=>this.stackCtrl.endBackTransition(Q)}:void 0}constructor(X,Q,ye,ft,Bt,Jt,Fn,Dn){(0,f.A)(this,"parentOutlet",void 0),(0,f.A)(this,"nativeEl",void 0),(0,f.A)(this,"activatedView",null),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"_swipeGesture",void 0),(0,f.A)(this,"stackCtrl",void 0),(0,f.A)(this,"proxyMap",new WeakMap),(0,f.A)(this,"currentActivatedRoute$",new an.t(null)),(0,f.A)(this,"activated",null),(0,f.A)(this,"_activatedRoute",null),(0,f.A)(this,"name",J.Xk),(0,f.A)(this,"stackWillChange",new Y.bkB),(0,f.A)(this,"stackDidChange",new Y.bkB),(0,f.A)(this,"activateEvents",new Y.bkB),(0,f.A)(this,"deactivateEvents",new Y.bkB),(0,f.A)(this,"parentContexts",(0,Y.WQX)(J.Zp)),(0,f.A)(this,"location",(0,Y.WQX)(Y.c1b)),(0,f.A)(this,"environmentInjector",(0,Y.WQX)(Y.uvJ)),(0,f.A)(this,"inputBinder",(0,Y.WQX)(Pe,{optional:!0})),(0,f.A)(this,"supportsBindingToComponentInputs",!0),(0,f.A)(this,"config",(0,Y.WQX)(Sn)),(0,f.A)(this,"navCtrl",(0,Y.WQX)(yn)),this.parentOutlet=Dn,this.nativeEl=ft.nativeElement,this.name=X||J.Xk,this.tabsPrefix="true"===Q?qn(Bt,Fn):void 0,this.stackCtrl=new xt(this.tabsPrefix,this.nativeEl,Bt,this.navCtrl,Jt,ye),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var X;this.stackCtrl.destroy(),null===(X=this.inputBinder)||void 0===X||X.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const X=this.getContext();null!=X&&X.route&&this.activateWith(X.route,X.injector)}new Promise(X=>((ne,G)=>{ne.componentOnReady?ne.componentOnReady().then(ge=>G(ge)):(ne=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):setTimeout(ne)})(()=>G(ne))})(this.nativeEl,X)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(X,Q){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Q=this.getContext();this.activatedView.savedData=new Map(Q.children.contexts);const ye=this.activatedView.savedData.get("primary");if(ye&&Q.route&&(ye.route={...Q.route}),this.activatedView.savedExtras={},Q.route){const ft=Q.route.snapshot;this.activatedView.savedExtras.queryParams=ft.queryParams,this.activatedView.savedExtras.fragment=ft.fragment}}const X=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(X)}}activateWith(X,Q){var ye;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=X;let ft,Bt=this.stackCtrl.getExistingView(X);if(Bt){ft=this.activated=Bt.ref;const Dn=Bt.savedData;Dn&&(this.getContext().children.contexts=Dn),this.updateActivatedRouteProxy(ft.instance,X)}else{var Jt;const Dn=X._futureSnapshot,Vn=this.parentContexts.getOrCreateContext(this.name).children,ii=new an.t(null),Qn=this.createActivatedRouteProxy(ii,X),ei=new Ae(Qn,Vn,this.location.injector),ai=null!==(Jt=Dn.routeConfig.component)&&void 0!==Jt?Jt:Dn.component;ft=this.activated=this.outletContent.createComponent(ai,{index:this.outletContent.length,injector:ei,environmentInjector:null!=Q?Q:this.environmentInjector}),ii.next(ft.instance),Bt=this.stackCtrl.createView(this.activated,X),this.proxyMap.set(ft.instance,Qn),this.currentActivatedRoute$.next({component:ft.instance,activatedRoute:X})}null===(ye=this.inputBinder)||void 0===ye||ye.bindActivatedRouteToOutletComponent(this),this.activatedView=Bt,this.navCtrl.setTopOutlet(this);const Fn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Bt,tabSwitch:Jn(Bt,Fn)}),this.stackCtrl.setActive(Bt).then(Dn=>{this.activateEvents.emit(ft.instance),this.stackDidChange.emit(Dn)})}canGoBack(X=1,Q){return this.stackCtrl.canGoBack(X,Q)}pop(X=1,Q){return this.stackCtrl.pop(X,Q)}getLastUrl(X){const Q=this.stackCtrl.getLastUrl(X);return Q?Q.url:void 0}getLastRouteView(X){return this.stackCtrl.getLastUrl(X)}getRootView(X){return this.stackCtrl.getRootUrl(X)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(X,Q){const ye=new J.nX;return ye._futureSnapshot=Q._futureSnapshot,ye._routerState=Q._routerState,ye.snapshot=Q.snapshot,ye.outlet=Q.outlet,ye.component=Q.component,ye._paramMap=this.proxyObservable(X,"paramMap"),ye._queryParamMap=this.proxyObservable(X,"queryParamMap"),ye.url=this.proxyObservable(X,"url"),ye.params=this.proxyObservable(X,"params"),ye.queryParams=this.proxyObservable(X,"queryParams"),ye.fragment=this.proxyObservable(X,"fragment"),ye.data=this.proxyObservable(X,"data"),ye}proxyObservable(X,Q){return X.pipe((0,De.p)(ye=>!!ye),(0,Ee.n)(ye=>this.currentActivatedRoute$.pipe((0,De.p)(ft=>null!==ft&&ft.component===ye),(0,Ee.n)(ft=>ft&&ft.activatedRoute[Q]),(0,Ie.F)())))}updateActivatedRouteProxy(X,Q){const ye=this.proxyMap.get(X);if(!ye)throw new Error("Could not find activated route proxy for view");ye._futureSnapshot=Q._futureSnapshot,ye._routerState=Q._routerState,ye.snapshot=Q.snapshot,ye.outlet=Q.outlet,ye.component=Q.component,this.currentActivatedRoute$.next({component:X,activatedRoute:Q})}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)(Y.kS0("name"),Y.kS0("tabs"),Y.rXU(se.aZ),Y.rXU(Y.aKT),Y.rXU(J.Ix),Y.rXU(Y.SKi),Y.rXU(J.nX),Y.rXU(ne,12))}),(0,f.A)(G,"\u0275dir",Y.FsC({type:ne,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),G})();class Ae{constructor(G,ge,X){(0,f.A)(this,"route",void 0),(0,f.A)(this,"childContexts",void 0),(0,f.A)(this,"parent",void 0),this.route=G,this.childContexts=ge,this.parent=X}get(G,ge){return G===J.nX?this.route:G===J.Zp?this.childContexts:this.parent.get(G,ge)}}const Pe=new Y.nKC("");let Ze=(()=>{var ne;class G{constructor(){(0,f.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(X){this.unsubscribeFromRouteData(X),this.subscribeToRouteData(X)}unsubscribeFromRouteData(X){var Q;null===(Q=this.outletDataSubscriptions.get(X))||void 0===Q||Q.unsubscribe(),this.outletDataSubscriptions.delete(X)}subscribeToRouteData(X){const{activatedRoute:Q}=X,ye=(0,Qt.z)([Q.queryParams,Q.params,Q.data]).pipe((0,Ee.n)(([ft,Bt,Jt],Fn)=>(Jt={...ft,...Bt,...Jt},0===Fn?(0,Tn.of)(Jt):Promise.resolve(Jt)))).subscribe(ft=>{if(!X.isActivated||!X.activatedComponentRef||X.activatedRoute!==Q||null===Q.component)return void this.unsubscribeFromRouteData(X);const Bt=(0,Y.HJs)(Q.component);if(Bt)for(const{templateName:Jt}of Bt.inputs)X.activatedComponentRef.setInput(Jt,ft[Jt]);else this.unsubscribeFromRouteData(X)});this.outletDataSubscriptions.set(X,ye)}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)}),(0,f.A)(G,"\u0275prov",Y.jDH({token:ne,factory:ne.\u0275fac})),G})();const St=()=>({provide:Pe,useFactory:gt,deps:[J.Ix]});function gt(ne){return null!=ne&&ne.componentInputBindingEnabled?new Ze:null}const vn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let En=(()=>{var ne;let G=((0,f.A)(ne=class{constructor(X,Q,ye,ft,Bt,Jt){(0,f.A)(this,"routerOutlet",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"config",void 0),(0,f.A)(this,"r",void 0),(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.routerOutlet=X,this.navCtrl=Q,this.config=ye,this.r=ft,this.z=Bt,Jt.detach(),this.el=this.r.nativeElement}onClick(X){var Q;const ye=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Q=this.routerOutlet)&&void 0!==Q&&Q.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),X.preventDefault()):null!=ye&&(this.navCtrl.navigateBack(ye,{animation:this.routerAnimation}),X.preventDefault())}},"\u0275fac",function(X){return new(X||ne)(Y.rXU(Zt,8),Y.rXU(yn),Y.rXU(Sn),Y.rXU(Y.aKT),Y.rXU(Y.SKi),Y.rXU(Y.gRc))}),(0,f.A)(ne,"\u0275dir",Y.FsC({type:ne,hostBindings:function(X,Q){1&X&&Y.bIt("click",function(ft){return Q.onClick(ft)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ne);return G=(0,Pt.Cg)([Gn({inputs:vn})],G),G})(),hr=(()=>{var ne;class G{constructor(X,Q,ye,ft,Bt){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=X,this.navCtrl=Q,this.elementRef=ye,this.router=ft,this.routerLink=Bt}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const Q=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(Q.tagName)&&"0"===Q.getAttribute("tabindex")&&Q.removeAttribute("tabindex")}updateTargetUrlAndHref(){var X;if(null!==(X=this.routerLink)&&void 0!==X&&X.urlTree){const Q=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Q}}onClick(X){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),X.preventDefault()}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)(Y.rXU(se.hb),Y.rXU(yn),Y.rXU(Y.aKT),Y.rXU(J.Ix),Y.rXU(J.Wk,8))}),(0,f.A)(G,"\u0275dir",Y.FsC({type:ne,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(X,Q){1&X&&Y.bIt("click",function(ft){return Q.onClick(ft)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Y.OA$]})),G})(),Sr=(()=>{var ne;class G{constructor(X,Q,ye,ft,Bt){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=X,this.navCtrl=Q,this.elementRef=ye,this.router=ft,this.routerLink=Bt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var X;if(null!==(X=this.routerLink)&&void 0!==X&&X.urlTree){const Q=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Q}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)(Y.rXU(se.hb),Y.rXU(yn),Y.rXU(Y.aKT),Y.rXU(J.Ix),Y.rXU(J.Wk,8))}),(0,f.A)(G,"\u0275dir",Y.FsC({type:ne,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(X,Q){1&X&&Y.bIt("click",function(){return Q.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Y.OA$]})),G})();const lt=["animated","animation","root","rootParams","swipeGesture"],gr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let kn=(()=>{var ne;let G=((0,f.A)(ne=class{constructor(X,Q,ye,ft,Bt,Jt){(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.z=Bt,Jt.detach(),this.el=X.nativeElement,X.nativeElement.delegate=ft.create(Q,ye),Xn(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(X){return new(X||ne)(Y.rXU(Y.aKT),Y.rXU(Y.uvJ),Y.rXU(Y.zZn),Y.rXU(zt),Y.rXU(Y.SKi),Y.rXU(Y.gRc))}),(0,f.A)(ne,"\u0275dir",Y.FsC({type:ne,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ne);return G=(0,Pt.Cg)([Gn({inputs:lt,methods:gr})],G),G})(),Ur=(()=>{var ne;class G{constructor(X){(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"tabsInner",void 0),(0,f.A)(this,"ionTabsWillChange",new Y.bkB),(0,f.A)(this,"ionTabsDidChange",new Y.bkB),(0,f.A)(this,"tabBarSlot","bottom"),(0,f.A)(this,"hasTab",!1),(0,f.A)(this,"selectedTab",void 0),(0,f.A)(this,"leavingTab",void 0),this.navCtrl=X}ngAfterViewInit(){const X=this.tabs.length>0?this.tabs.first:void 0;X&&(this.hasTab=!0,this.setActiveTab(X.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:X,tabSwitch:Q}){const ye=X.stackId;Q&&void 0!==ye&&this.ionTabsWillChange.emit({tab:ye})}onStackDidChange({enteringView:X,tabSwitch:Q}){const ye=X.stackId;Q&&void 0!==ye&&(this.tabBar&&(this.tabBar.selectedTab=ye),this.ionTabsDidChange.emit({tab:ye}))}select(X){const Q="string"==typeof X,ye=Q?X:X.detail.tab;if(this.hasTab)return this.setActiveTab(ye),void this.tabSwitch();const ft=this.outlet.getActiveStackId()===ye,Bt=`${this.outlet.tabsPrefix}/${ye}`;if(Q||X.stopPropagation(),ft){const Jt=this.outlet.getActiveStackId(),Fn=this.outlet.getLastRouteView(Jt);if((null==Fn?void 0:Fn.url)===Bt)return;const Dn=this.outlet.getRootView(ye);return this.navCtrl.navigateRoot(Bt,{...Dn&&Bt===Dn.url&&Dn.savedExtras,animated:!0,animationDirection:"back"})}{const Jt=this.outlet.getLastRouteView(ye);return this.navCtrl.navigateRoot((null==Jt?void 0:Jt.url)||Bt,{...null==Jt?void 0:Jt.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(X){const ye=this.tabs.find(ft=>ft.tab===X);ye?(this.leavingTab=this.selectedTab,this.selectedTab=ye,this.ionTabsWillChange.emit({tab:X}),ye.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${X}" does not exist`)}tabSwitch(){const{selectedTab:X,leavingTab:Q}=this;this.tabBar&&X&&(this.tabBar.selectedTab=X.tab),(null==Q?void 0:Q.tab)!==(null==X?void 0:X.tab)&&null!=Q&&Q.el&&(Q.el.active=!1),X&&this.ionTabsDidChange.emit({tab:X.tab})}getSelected(){var X;return this.hasTab?null===(X=this.selectedTab)||void 0===X?void 0:X.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(X=>{const Q=X.el.getAttribute("slot");Q!==this.tabBarSlot&&(this.tabBarSlot=Q,this.relocateTabBar())})}relocateTabBar(){const X=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(X):this.tabsInner.nativeElement.after(X)}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)(Y.rXU(yn))}),(0,f.A)(G,"\u0275dir",Y.FsC({type:ne,selectors:[["ion-tabs"]],viewQuery:function(X,Q){if(1&X&&Y.GBs(Ce,7,Y.aKT),2&X){let ye;Y.mGM(ye=Y.lsd())&&(Q.tabsInner=ye.first)}},hostBindings:function(X,Q){1&X&&Y.bIt("ionTabButtonClick",function(ft){return Q.select(ft)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),G})();const $r=ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):setTimeout(ne);let bn=(()=>{var ne;class G{constructor(X,Q){(0,f.A)(this,"injector",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"onChange",()=>{}),(0,f.A)(this,"onTouched",()=>{}),(0,f.A)(this,"lastValue",void 0),(0,f.A)(this,"statusChanges",void 0),this.injector=X,this.elementRef=Q}writeValue(X){this.elementRef.nativeElement.value=this.lastValue=X,qr(this.elementRef)}handleValueChange(X,Q){X===this.elementRef.nativeElement&&(Q!==this.lastValue&&(this.lastValue=Q,this.onChange(Q)),qr(this.elementRef))}_handleBlurEvent(X){X===this.elementRef.nativeElement&&(this.onTouched(),qr(this.elementRef))}registerOnChange(X){this.onChange=X}registerOnTouched(X){this.onTouched=X}setDisabledState(X){this.elementRef.nativeElement.disabled=X}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let X;try{X=this.injector.get(Z.vO)}catch{}if(!X)return;X.statusChanges&&(this.statusChanges=X.statusChanges.subscribe(()=>qr(this.elementRef)));const Q=X.control;Q&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(ft=>{if(typeof Q[ft]<"u"){const Bt=Q[ft].bind(Q);Q[ft]=(...Jt)=>{Bt(...Jt),qr(this.elementRef)}}})}}return ne=G,(0,f.A)(G,"\u0275fac",function(X){return new(X||ne)(Y.rXU(Y.zZn),Y.rXU(Y.aKT))}),(0,f.A)(G,"\u0275dir",Y.FsC({type:ne,hostBindings:function(X,Q){1&X&&Y.bIt("ionBlur",function(ft){return Q._handleBlurEvent(ft.target)})}})),G})();const qr=ne=>{$r(()=>{const G=ne.nativeElement,ge=null!=G.value&&G.value.toString().length>0,X=di(G);Xr(G,X);const Q=G.closest("ion-item");Q&&Xr(Q,ge?[...X,"item-has-value"]:X)})},di=ne=>{const G=ne.classList,ge=[];for(let X=0;X<G.length;X++){const Q=G.item(X);null!==Q&&Ri(Q,"ng-")&&ge.push(`ion-${Q.substring(3)}`)}return ge},Xr=(ne,G)=>{const ge=ne.classList;ge.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ge.add(...G)},Ri=(ne,G)=>ne.substring(0,G.length)===G;class gi{shouldDetach(G){return!1}shouldAttach(G){return!1}store(G,ge){}retrieve(G){return null}shouldReuseRoute(G,ge){if(G.routeConfig!==ge.routeConfig)return!1;const X=G.params,Q=ge.params,ye=Object.keys(X),ft=Object.keys(Q);if(ye.length!==ft.length)return!1;for(const Bt of ye)if(Q[Bt]!==X[Bt])return!1;return!0}}class ar{constructor(G){(0,f.A)(this,"ctrl",void 0),this.ctrl=G}create(G){return this.ctrl.create(G||{})}dismiss(G,ge,X){return this.ctrl.dismiss(G,ge,X)}getTop(){return this.ctrl.getTop()}}},4742:(dn,pt,k)=>{"use strict";k.d(pt,{hG:()=>ss,U1:()=>hn,In:()=>qt,Jm:()=>Me,QW:()=>Le,b_:()=>Rt,I9:()=>vt,ME:()=>On,tN:()=>Cn,hU:()=>Xn,W9:()=>Gn,A9:()=>tr,Q8:()=>zr,YW:()=>mn,M0:()=>Wn,lO:()=>ir,eU:()=>cn,iq:()=>Kr,$w:()=>Yt,uz:()=>ut,LU:()=>dt,CE:()=>Zt,A7:()=>Ae,he:()=>Pe,nf:()=>Ze,Rg:()=>Mi,ln:()=>ge,Gp:()=>Q,eP:()=>ye,Nm:()=>Jt,Ip:()=>Dn,ds:()=>Vn,w2:()=>ii,IO:()=>oi,nc:()=>ro,BC:()=>Ni,ai:()=>eo,bv:()=>ni,W3:()=>li,su:()=>Ie,N7:()=>Ai,Je:()=>Z,Gw:()=>Ce});var d=k(9842),f=k(4438),Y=k(9417),J=k(2872),se=k(1635),he=k(3726),ve=k(177),Oe=k(4964),Ve=(k(9986),k(3604),k(5022),k(3615),k(8607),k(9483)),We=k(464),Ye=(k(1702),k(5229)),qe=(k(8476),k(4261));k(1970),k(7192);var tt=k(467);const nt=Ve.i,Dt=function(){var P=(0,tt.A)(function*(E,M){if(!(typeof window>"u"))return yield nt(),(0,qe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),M)});return function(M,C){return P.apply(this,arguments)}}(),$e=["*"],xe=["outletContent"];let Ie=(()=>{var P;class E extends J.fL{constructor(C,U){super(C,U),(0,d.A)(this,"el",void 0),this.el=U}handleInputEvent(C){this.handleValueChange(C,C.value)}registerOnChange(C){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?U=>{C(""===U?null:parseFloat(U))}:C)}}return P=E,(0,d.A)(E,"\u0275fac",function(C){return new(C||P)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(E,"\u0275dir",f.FsC({type:P,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(C,U){1&C&&f.bIt("ionInput",function(He){return U.handleInputEvent(He.target)})},features:[f.Jv_([{provide:Y.kq,useExisting:P,multi:!0}]),f.Vt3]})),E})(),Z=(()=>{var P;class E extends J.fL{constructor(C,U){super(C,U)}_handleChangeEvent(C){this.handleValueChange(C,C.value)}}return P=E,(0,d.A)(E,"\u0275fac",function(C){return new(C||P)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(E,"\u0275dir",f.FsC({type:P,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(C,U){1&C&&f.bIt("ionChange",function(He){return U._handleChangeEvent(He.target)})},features:[f.Jv_([{provide:Y.kq,useExisting:P,multi:!0}]),f.Vt3]})),E})(),Ce=(()=>{var P;class E extends J.fL{constructor(C,U){super(C,U)}_handleInputEvent(C){this.handleValueChange(C,C.value)}}return P=E,(0,d.A)(E,"\u0275fac",function(C){return new(C||P)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(E,"\u0275dir",f.FsC({type:P,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(C,U){1&C&&f.bIt("ionInput",function(He){return U._handleInputEvent(He.target)})},features:[f.Jv_([{provide:Y.kq,useExisting:P,multi:!0}]),f.Vt3]})),E})();const Xe=(P,E)=>{const M=P.prototype;E.forEach(C=>{Object.defineProperty(M,C,{get(){return this.el[C]},set(U){this.z.runOutsideAngular(()=>this.el[C]=U)},configurable:!0})})},je=(P,E)=>{const M=P.prototype;E.forEach(C=>{M[C]=function(){const U=arguments;return this.z.runOutsideAngular(()=>this.el[C].apply(this.el,U))}})},Re=(P,E,M)=>{M.forEach(C=>P[C]=(0,he.R)(E,C))};function rt(P){return function(M){const{defineCustomElementFn:C,inputs:U,methods:ee}=P;return void 0!==C&&C(),U&&Xe(M,U),ee&&je(M,ee),M}}let hn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-app"]],ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({methods:["setFocus"]})],E),E})(),qt=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","mode"]})],E),E})(),Me=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),Le=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["collapse"]})],E),E})(),Rt=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),vt=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["mode"]})],E),E})(),On=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","mode","translucent"]})],E),E})(),Cn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","mode"]})],E),E})(),Xn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],E),E})(),Gn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),tr=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],E),E})(),zr=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],E),E})(),mn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],E),E})(),Wn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["collapse","mode","translucent"]})],E),E})(),ir=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["fixed"]})],E),E})(),cn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["collapse","mode","translucent"]})],E),E})(),Kr=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),Yt=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),ut=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),dt=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],E),E})(),Zt=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionSwipe"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["side"]})],E),E})(),Ae=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionDrag"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],E),E})(),Pe=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","mode","position"]})],E),E})(),Ze=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),ge=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-row"]],ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({})],E),E})(),Q=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionChange"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],E),E})(),ye=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-segment-button"]],inputs:{contentId:"contentId",disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["contentId","disabled","layout","mode","type","value"]})],E),E})(),Jt=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],E),E})(),Dn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["disabled","value"]})],E),E})(),Vn=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["animated"]})],E),E})(),ii=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","duration","name","paused"]})],E),E})(),oi=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","mode"]})],E),E})(),ro=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement,Re(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],E),E})(),Ni=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","size"]})],E),E})(),eo=(()=>{var P;let E=((0,d.A)(P=class{constructor(C,U,ee){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ee,C.detach(),this.el=U.nativeElement}},"\u0275fac",function(C){return new(C||P)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(P,"\u0275cmp",f.VBU({type:P,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(C,U){1&C&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),P);return E=(0,se.Cg)([rt({inputs:["color","mode"]})],E),E})(),Mi=(()=>{var P;class E extends J.Rg{constructor(C,U,ee,He,Vt,mt,Lt,Wt){super(C,U,ee,He,Vt,mt,Lt,Wt),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=Wt}}return P=E,(0,d.A)(E,"\u0275fac",function(C){return new(C||P)(f.kS0("name"),f.kS0("tabs"),f.rXU(ve.aZ),f.rXU(f.aKT),f.rXU(Oe.Ix),f.rXU(f.SKi),f.rXU(Oe.nX),f.rXU(P,12))}),(0,d.A)(E,"\u0275cmp",f.VBU({type:P,selectors:[["ion-router-outlet"]],viewQuery:function(C,U){if(1&C&&f.GBs(xe,7,f.c1b),2&C){let ee;f.mGM(ee=f.lsd())&&(U.outletContent=ee.first)}},features:[f.Vt3],ngContentSelectors:$e,decls:3,vars:0,consts:[["outletContent",""]],template:function(C,U){1&C&&(f.NAR(),f.qex(0,null,0),f.SdG(2),f.bVm())},encapsulation:2})),E})(),Ai=(()=>{var P;class E extends J.CE{}return P=E,(0,d.A)(E,"\u0275fac",(()=>{let M;return function(U){return(M||(M=f.xGo(P)))(U||P)}})()),(0,d.A)(E,"\u0275dir",f.FsC({type:P,selectors:[["","routerLink","",5,"a",5,"area"]],features:[f.Vt3]})),E})();const Da={provide:Y.cz,useExisting:(0,f.Rfq)(()=>zo),multi:!0};let zo=(()=>{var P;class E extends Y.zX{}return P=E,(0,d.A)(E,"\u0275fac",(()=>{let M;return function(U){return(M||(M=f.xGo(P)))(U||P)}})()),(0,d.A)(E,"\u0275dir",f.FsC({type:P,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(C,U){2&C&&f.BMQ("max",U._enabled?U.max:null)},features:[f.Jv_([Da]),f.Vt3]})),E})();const Go={provide:Y.cz,useExisting:(0,f.Rfq)(()=>jr),multi:!0};let jr=(()=>{var P;class E extends Y.VZ{}return P=E,(0,d.A)(E,"\u0275fac",(()=>{let M;return function(U){return(M||(M=f.xGo(P)))(U||P)}})()),(0,d.A)(E,"\u0275dir",f.FsC({type:P,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(C,U){2&C&&f.BMQ("min",U._enabled?U.min:null)},features:[f.Jv_([Go]),f.Vt3]})),E})(),ss=(()=>{var P;class E extends J.Kb{constructor(){super(Ye.a)}}return P=E,(0,d.A)(E,"\u0275fac",function(C){return new(C||P)}),(0,d.A)(E,"\u0275prov",f.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})),E})(),li=(()=>{var P;class E extends J.Kb{constructor(){super(Ye.m),(0,d.A)(this,"angularDelegate",(0,f.WQX)(J.Yq)),(0,d.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(C){return super.create({...C,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return P=E,(0,d.A)(E,"\u0275fac",function(C){return new(C||P)}),(0,d.A)(E,"\u0275prov",f.jDH({token:P,factory:P.\u0275fac})),E})();class Ts extends J.Kb{constructor(){super(Ye.c),(0,d.A)(this,"angularDelegate",(0,f.WQX)(J.Yq)),(0,d.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(E){return super.create({...E,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Nr=(P,E,M)=>()=>{const C=E.defaultView;if(C&&typeof window<"u"){(0,We.s)({...P,_zoneGate:ee=>M.run(ee)});const U="__zone_symbol__addEventListener"in E.body?"__zone_symbol__addEventListener":"addEventListener";return function be(){var P=[];if(typeof window<"u"){var E=window;(!E.customElements||E.Element&&(!E.Element.prototype.closest||!E.Element.prototype.matches||!E.Element.prototype.remove||!E.Element.prototype.getRootNode))&&P.push(k.e(7278).then(k.t.bind(k,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||E.NodeList&&!E.NodeList.prototype.forEach||!E.fetch||!function(){try{var C=new URL("b","http://a");return C.pathname="c%20d","http://a/c%20d"===C.href&&C.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&P.push(k.e(9329).then(k.t.bind(k,7783,23)))}return Promise.all(P)}().then(()=>Dt(C,{exclude:["ion-tabs"],syncQueue:!0,raf:J.er,jmp:ee=>M.runOutsideAngular(ee),ael(ee,He,Vt,mt){ee[U](He,Vt,mt)},rel(ee,He,Vt,mt){ee.removeEventListener(He,Vt,mt)}}))}};let ni=(()=>{var P;class E{static forRoot(C={}){return{ngModule:E,providers:[{provide:J.sR,useValue:C},{provide:f.hnV,useFactory:Nr,multi:!0,deps:[J.sR,ve.qQ,f.SKi]},J.Yq,(0,J.YV)()]}}}return P=E,(0,d.A)(E,"\u0275fac",function(C){return new(C||P)}),(0,d.A)(E,"\u0275mod",f.$C({type:P})),(0,d.A)(E,"\u0275inj",f.G2t({providers:[li,Ts],imports:[ve.MD]})),E})()},7935:(dn,pt,k)=>{"use strict";k.d(pt,{A:()=>d.A});var d=k(3345);d.A.registerVersion("firebase","10.14.1","app-compat")},7955:(dn,pt,k)=>{"use strict";var d=k(467),f=k(3345),Y=k(7852),J=k(1076),se=k(8041),he=k(1635),ve=k(1362);const Be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const We=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},it=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new J.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new se.Vy("@firebase/auth");function pe(y,...h){qe.logLevel<=se.$b.ERROR&&qe.error(`Auth (${Y.SDK_VERSION}): ${y}`,...h)}function me(y,...h){throw $e(y,...h)}function be(y,...h){return $e(y,...h)}function tt(y,h,g){const A=Object.assign(Object.assign({},it()),{[h]:g});return new J.FA("auth","Firebase",A).create(h,{appName:y.name})}function nt(y){return tt(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dt(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&me(y,"argument-error"),tt(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(y,...h){if("string"!=typeof y){const g=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=y.name),y._errorFactory.create(g,...A)}return Ye.create(y,...h)}function xe(y,h,...g){if(!y)throw $e(h,...g)}function kt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw pe(h),new Error(h)}function $t(y,h){y||kt(h)}function an(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Qt(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ee{constructor(h,g){this.shortDelay=h,this.longDelay=g,$t(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,J.jZ)()||(0,J.lV)()}get(){return function Pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qt()||(0,J.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(y,h){$t(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Z{static initialize(h,g,A){this.fetchImpl=h,g&&(this.headersImpl=g),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new Ee(3e4,6e4);function je(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Re(y,h,g,A){return et.apply(this,arguments)}function et(){return(et=(0,d.A)(function*(y,h,g,A,z={}){return rt(y,z,(0,d.A)(function*(){let oe={},Ge={};A&&("GET"===h?Ge=A:oe={body:JSON.stringify(A)});const It=(0,J.Am)(Object.assign({key:y.config.apiKey},Ge)).slice(1),Kt=yield y._getAdditionalHeaders();Kt["Content-Type"]="application/json",y.languageCode&&(Kt["X-Firebase-Locale"]=y.languageCode);const In=Object.assign({method:h,headers:Kt},oe);return(0,J.c1)()||(In.referrerPolicy="no-referrer"),Z.fetch()(rn(y,y.config.apiHost,g,It),In)}))})).apply(this,arguments)}function rt(y,h,g){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.A)(function*(y,h,g){y._canInitEmulator=!1;const A=Object.assign(Object.assign({},Ce),h);try{const z=new Sn(y),oe=yield Promise.race([g(),z.promise]);z.clearNetworkTimeout();const Ge=yield oe.json();if("needConfirmation"in Ge)throw Nt(y,"account-exists-with-different-credential",Ge);if(oe.ok&&!("errorMessage"in Ge))return Ge;{const It=oe.ok?Ge.errorMessage:Ge.error.message,[Kt,In]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw Nt(y,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Kt)throw Nt(y,"email-already-in-use",Ge);if("USER_DISABLED"===Kt)throw Nt(y,"user-disabled",Ge);const Un=A[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw tt(y,Un,In);me(y,Un)}}catch(z){if(z instanceof J.g)throw z;me(y,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function yn(y,h,g,A){return at.apply(this,arguments)}function at(){return(at=(0,d.A)(function*(y,h,g,A,z={}){const oe=yield Re(y,h,g,A,z);return"mfaPendingCredential"in oe&&me(y,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function rn(y,h,g,A){const z=`${h}${g}?${A}`;return y.config.emulator?Ie(y.config,z):`${y.config.apiScheme}://${z}`}function hn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,A)=>{this.timer=setTimeout(()=>A(be(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nt(y,h,g){const A={appName:y.name};g.email&&(A.email=g.email),g.phoneNumber&&(A.phoneNumber=g.phoneNumber);const z=be(y,h,A);return z.customData._tokenResponse=g,z}function qt(y){return void 0!==y&&void 0!==y.getResponse}function xn(y){return void 0!==y&&void 0!==y.enterprise}class zt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return hn(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Le(){return(Le=(0,d.A)(function*(y){return(yield Re(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rt(y,h){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.A)(function*(y,h){return Re(y,"GET","/v2/recaptchaConfig",je(y,h))})).apply(this,arguments)}function jn(){return(jn=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function gn(){return(gn=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Zn(y,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Gn(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function zr(){return(zr=(0,d.A)(function*(y,h=!1){const g=(0,J.Ku)(y),A=yield g.getIdToken(h),z=xr(A);xe(z&&z.exp&&z.auth_time&&z.iat,g.auth,"internal-error");const oe="object"==typeof z.firebase?z.firebase:void 0,Ge=null==oe?void 0:oe.sign_in_provider;return{claims:z,token:A,authTime:Gn(mn(z.auth_time)),issuedAtTime:Gn(mn(z.iat)),expirationTime:Gn(mn(z.exp)),signInProvider:Ge||null,signInSecondFactor:(null==oe?void 0:oe.sign_in_second_factor)||null}})).apply(this,arguments)}function mn(y){return 1e3*Number(y)}function xr(y){const[h,g,A]=y.split(".");if(void 0===h||void 0===g||void 0===A)return pe("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,J.u)(g);return z?JSON.parse(z):(pe("Failed to decode base64 JWT payload"),null)}catch(z){return pe("Caught error parsing JWT payload as JSON",null==z?void 0:z.toString()),null}}function Wn(y){const h=xr(y);return xe(h,"internal-error"),xe(typeof h.exp<"u","internal-error"),xe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function ir(y,h){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.A)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(A){throw A instanceof J.g&&function Kr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(A)&&y.auth.currentUser===y&&(yield y.auth.signOut()),A}})).apply(this,arguments)}class Mn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const z=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,d.A)(function*(){yield g.iteration()}),A)}iteration(){var h=this;return(0,d.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class qn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jn(y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.A)(function*(y){var h;const g=y.auth,A=yield y.getIdToken(),z=yield ir(y,Zn(g,{idToken:A}));xe(null==z?void 0:z.users.length,g,"internal-error");const oe=z.users[0];y._notifyReloadListener(oe);const Ge=null!==(h=oe.providerUserInfo)&&void 0!==h&&h.length?ot(oe.providerUserInfo):[],It=function xt(y,h){return[...y.filter(A=>!h.some(z=>z.providerId===A.providerId)),...h]}(y.providerData,Ge),Un=!!y.isAnonymous&&!(y.email&&oe.passwordHash||null!=It&&It.length),Pn={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:It,metadata:new qn(oe.createdAt,oe.lastLoginAt),isAnonymous:Un};Object.assign(y,Pn)})).apply(this,arguments)}function ut(){return(ut=(0,d.A)(function*(y){const h=(0,J.Ku)(y);yield Jn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ot(y){return y.map(h=>{var{providerId:g}=h,A=(0,he.Tt)(h,["providerId"]);return{providerId:g,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Zt(){return(Zt=(0,d.A)(function*(y,h){const g=yield rt(y,{},(0,d.A)(function*(){const A=(0,J.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:z,apiKey:oe}=y.config,Ge=rn(y,z,"/v1/token",`key=${oe}`),It=yield y._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",Z.fetch()(Ge,{method:"POST",headers:It,body:A})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Pe(){return(Pe=(0,d.A)(function*(y,h){return Re(y,"POST","/v2/accounts:revokeToken",je(y,h))})).apply(this,arguments)}class Ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){xe(h.idToken,"internal-error"),xe(typeof h.idToken<"u","internal-error"),xe(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Wn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){xe(0!==h.length,"internal-error");const g=Wn(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var A=this;return(0,d.A)(function*(){return g||!A.accessToken||A.isExpired?(xe(A.refreshToken,h,"user-token-expired"),A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var A=this;return(0,d.A)(function*(){const{accessToken:z,refreshToken:oe,expiresIn:Ge}=yield function dt(y,h){return Zt.apply(this,arguments)}(h,g);A.updateTokensAndExpiration(z,oe,Number(Ge))})()}updateTokensAndExpiration(h,g,A){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,g){const{refreshToken:A,accessToken:z,expirationTime:oe}=g,Ge=new Ze;return A&&(xe("string"==typeof A,"internal-error",{appName:h}),Ge.refreshToken=A),z&&(xe("string"==typeof z,"internal-error",{appName:h}),Ge.accessToken=z),oe&&(xe("number"==typeof oe,"internal-error",{appName:h}),Ge.expirationTime=oe),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ze,this.toJSON())}_performRefresh(){return kt("not implemented")}}function St(y,h){xe("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class gt{constructor(h){var{uid:g,auth:A,stsTokenManager:z}=h,oe=(0,he.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=A,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new qn(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,d.A)(function*(){const A=yield ir(g,g.stsTokenManager.getToken(g.auth,h));return xe(A,g.auth,"internal-error"),g.accessToken!==A&&(g.accessToken=A,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),A})()}getIdTokenResult(h){return function Dr(y){return zr.apply(this,arguments)}(this,h)}reload(){return function bt(y){return ut.apply(this,arguments)}(this)}_assign(h){this!==h&&(xe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new gt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var A=this;return(0,d.A)(function*(){let z=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),z=!0),g&&(yield Jn(A)),yield A.auth._persistUserIfCurrent(A),z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,d.A)(function*(){if((0,Y._isFirebaseServerApp)(h.auth.app))return Promise.reject(nt(h.auth));const g=yield h.getIdToken();return yield ir(h,function On(y,h){return jn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var A,z,oe,Ge,It,Kt,In,Un;const Pn=null!==(A=g.displayName)&&void 0!==A?A:void 0,Gi=null!==(z=g.email)&&void 0!==z?z:void 0,ya=null!==(oe=g.phoneNumber)&&void 0!==oe?oe:void 0,ku=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,Pd=null!==(It=g.tenantId)&&void 0!==It?It:void 0,xs=null!==(Kt=g._redirectEventId)&&void 0!==Kt?Kt:void 0,xd=null!==(In=g.createdAt)&&void 0!==In?In:void 0,Lc=null!==(Un=g.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:ip,emailVerified:Zg,isAnonymous:zh,providerData:Nd,stsTokenManager:op}=g;xe(ip&&op,h,"internal-error");const Gh=Ze.fromJSON(this.name,op);xe("string"==typeof ip,h,"internal-error"),St(Pn,h.name),St(Gi,h.name),xe("boolean"==typeof Zg,h,"internal-error"),xe("boolean"==typeof zh,h,"internal-error"),St(ya,h.name),St(ku,h.name),St(Pd,h.name),St(xs,h.name),St(xd,h.name),St(Lc,h.name);const xl=new gt({uid:ip,auth:h,email:Gi,emailVerified:Zg,displayName:Pn,isAnonymous:zh,photoURL:ku,phoneNumber:ya,tenantId:Pd,stsTokenManager:Gh,createdAt:xd,lastLoginAt:Lc});return Nd&&Array.isArray(Nd)&&(xl.providerData=Nd.map(Fu=>Object.assign({},Fu))),xs&&(xl._redirectEventId=xs),xl}static _fromIdTokenResponse(h,g,A=!1){return(0,d.A)(function*(){const z=new Ze;z.updateFromServerResponse(g);const oe=new gt({uid:g.localId,auth:h,stsTokenManager:z,isAnonymous:A});return yield Jn(oe),oe})()}static _fromGetAccountInfoResponse(h,g,A){return(0,d.A)(function*(){const z=g.users[0];xe(void 0!==z.localId,"internal-error");const oe=void 0!==z.providerUserInfo?ot(z.providerUserInfo):[],Ge=!(z.email&&z.passwordHash||null!=oe&&oe.length),It=new Ze;It.updateFromIdToken(A);const Kt=new gt({uid:z.localId,auth:h,stsTokenManager:It,isAnonymous:Ge}),In={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:oe,metadata:new qn(z.createdAt,z.lastLoginAt),isAnonymous:!(z.email&&z.passwordHash||null!=oe&&oe.length)};return Object.assign(Kt,In),Kt})()}}const vn=new Map;function En(y){$t(y instanceof Function,"Expected a class definition");let h=vn.get(y);return h?($t(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,vn.set(y,h),h)}const Sr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(g,A){var z=this;return(0,d.A)(function*(){z.storage[g]=A})()}_get(g){var A=this;return(0,d.A)(function*(){const z=A.storage[g];return void 0===z?null:z})()}_remove(g){var A=this;return(0,d.A)(function*(){delete A.storage[g]})()}_addListener(g,A){}_removeListener(g,A){}}return y.type="NONE",y})();function lt(y,h,g){return`firebase:${y}:${h}:${g}`}class gr{constructor(h,g,A){this.persistence=h,this.auth=g,this.userKey=A;const{config:z,name:oe}=this.auth;this.fullUserKey=lt(this.userKey,z.apiKey,oe),this.fullPersistenceKey=lt("persistence",z.apiKey,oe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?gt._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,d.A)(function*(){if(g.persistence===h)return;const A=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,A?g.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,A="authUser"){return(0,d.A)(function*(){if(!g.length)return new gr(En(Sr),h,A);const z=(yield Promise.all(g.map(function(){var In=(0,d.A)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return In.apply(this,arguments)}}()))).filter(In=>In);let oe=z[0]||En(Sr);const Ge=lt(A,h.config.apiKey,h.name);let It=null;for(const In of g)try{const Un=yield In._get(Ge);if(Un){const Pn=gt._fromJSON(h,Un);In!==oe&&(It=Pn),oe=In;break}}catch{}const Kt=z.filter(In=>In._shouldAllowMigration);return oe._shouldAllowMigration&&Kt.length?(oe=Kt[0],It&&(yield oe._set(Ge,It.toJSON())),yield Promise.all(g.map(function(){var In=(0,d.A)(function*(Un){if(Un!==oe)try{yield Un._remove(Ge)}catch{}});return function(Un){return In.apply(this,arguments)}}())),new gr(oe,h,A)):new gr(oe,h,A)})()}}function kn(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(qr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Ur(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xr(h))return"Blackberry";if(Ri(h))return"Webos";if($r(h))return"Safari";if((h.includes("chrome/")||bn(h))&&!h.includes("edge/"))return"Chrome";if(di(h))return"Android";{const A=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Ur(y=(0,J.ZQ)()){return/firefox\//i.test(y)}function $r(y=(0,J.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function bn(y=(0,J.ZQ)()){return/crios\//i.test(y)}function qr(y=(0,J.ZQ)()){return/iemobile/i.test(y)}function di(y=(0,J.ZQ)()){return/android/i.test(y)}function Xr(y=(0,J.ZQ)()){return/blackberry/i.test(y)}function Ri(y=(0,J.ZQ)()){return/webos/i.test(y)}function gi(y=(0,J.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ge(y=(0,J.ZQ)()){return gi(y)||di(y)||Ri(y)||Xr(y)||/windows phone/i.test(y)||qr(y)}function X(y,h=[]){let g;switch(y){case"Browser":g=kn((0,J.ZQ)());break;case"Worker":g=`${kn((0,J.ZQ)())}-${y}`;break;default:g=y}const A=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${Y.SDK_VERSION}/${A}`}class Q{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const A=oe=>new Promise((Ge,It)=>{try{Ge(h(oe))}catch(Kt){It(Kt)}});A.onAbort=g,this.queue.push(A);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,d.A)(function*(){if(g.auth.currentUser===h)return;const A=[];try{for(const z of g.queue)yield z(h),z.onAbort&&A.push(z.onAbort)}catch(z){A.reverse();for(const oe of A)try{oe()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==z?void 0:z.message})}})()}}function ft(){return(ft=(0,d.A)(function*(y,h={}){return Re(y,"GET","/v2/passwordPolicy",je(y,h))})).apply(this,arguments)}class Jt{constructor(h){var g,A,z,oe;const Ge=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ge.minPasswordLength)&&void 0!==g?g:6,Ge.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ge.maxPasswordLength),void 0!==Ge.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ge.containsLowercaseCharacter),void 0!==Ge.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ge.containsUppercaseCharacter),void 0!==Ge.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ge.containsNumericCharacter),void 0!==Ge.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ge.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(z=null===(A=h.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==z?z:"",this.forceUpgradeOnSignin=null!==(oe=h.forceUpgradeOnSignin)&&void 0!==oe&&oe,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,A,z,oe,Ge,It;const Kt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Kt),this.validatePasswordCharacterOptions(h,Kt),Kt.isValid&&(Kt.isValid=null===(g=Kt.meetsMinPasswordLength)||void 0===g||g),Kt.isValid&&(Kt.isValid=null===(A=Kt.meetsMaxPasswordLength)||void 0===A||A),Kt.isValid&&(Kt.isValid=null===(z=Kt.containsLowercaseLetter)||void 0===z||z),Kt.isValid&&(Kt.isValid=null===(oe=Kt.containsUppercaseLetter)||void 0===oe||oe),Kt.isValid&&(Kt.isValid=null===(Ge=Kt.containsNumericCharacter)||void 0===Ge||Ge),Kt.isValid&&(Kt.isValid=null===(It=Kt.containsNonAlphanumericCharacter)||void 0===It||It),Kt}validatePasswordLengthOptions(h,g){const A=this.customStrengthOptions.minPasswordLength,z=this.customStrengthOptions.maxPasswordLength;A&&(g.meetsMinPasswordLength=h.length>=A),z&&(g.meetsMaxPasswordLength=h.length<=z)}validatePasswordCharacterOptions(h,g){let A;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let z=0;z<h.length;z++)A=h.charAt(z),this.updatePasswordCharacterOptionsStatuses(g,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(h,g,A,z,oe){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=oe))}}class Fn{constructor(h,g,A,z){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=A,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vn(this),this.idTokenSubscription=new Vn(this),this.beforeStateQueue=new Q(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(h,g){var A=this;return g&&(this._popupRedirectResolver=En(g)),this._initializationPromise=this.queue((0,d.A)(function*(){var z,oe;if(!A._deleted&&(A.persistenceManager=yield gr.create(A,h),!A._deleted)){if(null!==(z=A._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(g),A.lastNotifiedUid=(null===(oe=A.currentUser)||void 0===oe?void 0:oe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,d.A)(function*(){try{const A=yield Zn(g,{idToken:h}),z=yield gt._fromGetAccountInfoResponse(g,A,h);yield g.directlySetCurrentUser(z)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,d.A)(function*(){var A;if((0,Y._isFirebaseServerApp)(g.app)){const It=g.app.settings.authIdToken;return It?new Promise(Kt=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(It).then(Kt,Kt))}):g.directlySetCurrentUser(null)}const z=yield g.assertedPersistence.getCurrentUser();let oe=z,Ge=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const It=null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId,Kt=null==oe?void 0:oe._redirectEventId,In=yield g.tryRedirectSignIn(h);(!It||It===Kt)&&null!=In&&In.user&&(oe=In.user,Ge=!0)}if(!oe)return g.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Ge)try{yield g.beforeStateQueue.runMiddleware(oe)}catch(It){oe=z,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(It))}return oe?g.reloadAndSetCurrentUserOrClear(oe):g.directlySetCurrentUser(null)}return xe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===oe._redirectEventId?g.directlySetCurrentUser(oe):g.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(h){var g=this;return(0,d.A)(function*(){let A=null;try{A=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,d.A)(function*(){try{yield Jn(h)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function De(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,d.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,d.A)(function*(){if((0,Y._isFirebaseServerApp)(g.app))return Promise.reject(nt(g));const A=h?(0,J.Ku)(h):null;return A&&xe(A.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(A&&A._clone(g))})()}_updateCurrentUser(h,g=!1){var A=this;return(0,d.A)(function*(){if(!A._deleted)return h&&xe(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),g||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,d.A)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.A)(function*(){return(0,Y._isFirebaseServerApp)(h.app)?Promise.reject(nt(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,Y._isFirebaseServerApp)(this.app)?Promise.reject(nt(this)):this.queue((0,d.A)(function*(){yield g.assertedPersistence.setPersistence(En(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,d.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const A=g._getPasswordPolicyInternal();return A.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,d.A)(function*(){const g=yield function ye(y){return ft.apply(this,arguments)}(h),A=new Jt(g);null===h.tenantId?h._projectPasswordPolicy=A:h._tenantPasswordPolicies[h.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new J.FA("auth","Firebase",h())}onAuthStateChanged(h,g,A){return this.registerStateListener(this.authStateSubscription,h,g,A)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,A){return this.registerStateListener(this.idTokenSubscription,h,g,A)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const A=this.onAuthStateChanged(()=>{A(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,d.A)(function*(){if(g.currentUser){const A=yield g.currentUser.getIdToken(),z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:A};null!=g.tenantId&&(z.tenantId=g.tenantId),yield function Ae(y,h){return Pe.apply(this,arguments)}(g,z)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var A=this;return(0,d.A)(function*(){const z=yield A.getOrInitRedirectPersistenceManager(g);return null===h?z.removeCurrentUser():z.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,d.A)(function*(){if(!g.redirectPersistenceManager){const A=h&&En(h)||g._popupRedirectResolver;xe(A,g,"argument-error"),g.redirectPersistenceManager=yield gr.create(g,[En(A._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,d.A)(function*(){var A,z;return g._isInitialized&&(yield g.queue((0,d.A)(function*(){}))),(null===(A=g._currentUser)||void 0===A?void 0:A._redirectEventId)===h?g._currentUser:(null===(z=g.redirectUser)||void 0===z?void 0:z._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,d.A)(function*(){if(h===g.currentUser)return g.queue((0,d.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,A,z){if(this._deleted)return()=>{};const oe="function"==typeof g?g:g.next.bind(g);let Ge=!1;const It=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(It,this,"internal-error"),It.then(()=>{Ge||oe(this.currentUser)}),"function"==typeof g){const Kt=h.addObserver(g,A,z);return()=>{Ge=!0,Kt()}}{const Kt=h.addObserver(g);return()=>{Ge=!0,Kt()}}}directlySetCurrentUser(h){var g=this;return(0,d.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=X(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.A)(function*(){var g;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const z=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();z&&(A["X-Firebase-Client"]=z);const oe=yield h._getAppCheckToken();return oe&&(A["X-Firebase-AppCheck"]=oe),A})()}_getAppCheckToken(){var h=this;return(0,d.A)(function*(){var g;const A=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=A&&A.error&&function st(y,...h){qe.logLevel<=se.$b.WARN&&qe.warn(`Auth (${Y.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${A.error}`),null==A?void 0:A.token})()}}function Dn(y){return(0,J.Ku)(y)}class Vn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,J.tD)(g=>this.observer=g)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ii={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ei(y){return ii.loadJS(y)}function ro(y){return`__${y}${Math.floor(1e6*Math.random())}`}class jo{constructor(h){this.type="recaptcha-enterprise",this.auth=Dn(h)}verify(h="verify",g=!1){var A=this;return(0,d.A)(function*(){function oe(){return oe=(0,d.A)(function*(It){if(!g){if(null==It.tenantId&&null!=It._agentRecaptchaConfig)return It._agentRecaptchaConfig.siteKey;if(null!=It.tenantId&&void 0!==It._tenantRecaptchaConfigs[It.tenantId])return It._tenantRecaptchaConfigs[It.tenantId].siteKey}return new Promise(function(){var Kt=(0,d.A)(function*(In,Un){Rt(It,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pn=>{if(void 0!==Pn.recaptchaKey){const Gi=new zt(Pn);return null==It.tenantId?It._agentRecaptchaConfig=Gi:It._tenantRecaptchaConfigs[It.tenantId]=Gi,In(Gi.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(Pn=>{Un(Pn)})});return function(In,Un){return Kt.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Ge(It,Kt,In){const Un=window.grecaptcha;xn(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(It,{action:h}).then(Pn=>{Kt(Pn)}).catch(()=>{Kt("NO_RECAPTCHA")})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((It,Kt)=>{(function z(It){return oe.apply(this,arguments)})(A.auth).then(In=>{if(!g&&xn(window.grecaptcha))Ge(In,It,Kt);else{if(typeof window>"u")return void Kt(new Error("RecaptchaVerifier is only supported in browser"));let Un=function xi(){return ii.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=In),ei(Un).then(()=>{Ge(In,It,Kt)}).catch(Pn=>{Kt(Pn)})}}).catch(In=>{Kt(In)})})})()}}function Ho(y,h,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.A)(function*(y,h,g,A=!1){const z=new jo(y);let oe;try{oe=yield z.verify(g)}catch{oe=yield z.verify(g,!0)}const Ge=Object.assign({},h);return Object.assign(Ge,A?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}function Mi(y,h,g,A){return Do.apply(this,arguments)}function Do(){return Do=(0,d.A)(function*(y,h,g,A){var z;if(null!==(z=y._getRecaptchaConfig())&&void 0!==z&&z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const oe=yield Ho(y,h,g,"getOobCode"===g);return A(y,oe)}return A(y,h).catch(function(){var oe=(0,d.A)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const It=yield Ho(y,h,g,"getOobCode"===g);return A(y,It)}return Promise.reject(Ge)});return function(Ge){return oe.apply(this,arguments)}}())}),Do.apply(this,arguments)}function Rr(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function zo(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class jr{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return kt("not implemented")}_getIdTokenResponse(h){return kt("not implemented")}_linkToIdToken(h,g){return kt("not implemented")}_getReauthenticationResolver(h){return kt("not implemented")}}function ss(y,h){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:resetPassword",je(y,h))})).apply(this,arguments)}function Wo(){return(Wo=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ti(y,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Fr(){return(Fr=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:update",je(y,h))})).apply(this,arguments)}function Ts(y,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,d.A)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithPassword",je(y,h))})).apply(this,arguments)}function Nr(y,h){return To.apply(this,arguments)}function To(){return(To=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:sendOobCode",je(y,h))})).apply(this,arguments)}function ni(){return(ni=(0,d.A)(function*(y,h){return Nr(y,h)})).apply(this,arguments)}function P(y,h){return E.apply(this,arguments)}function E(){return(E=(0,d.A)(function*(y,h){return Nr(y,h)})).apply(this,arguments)}function M(y,h){return C.apply(this,arguments)}function C(){return(C=(0,d.A)(function*(y,h){return Nr(y,h)})).apply(this,arguments)}function ee(){return(ee=(0,d.A)(function*(y,h){return Nr(y,h)})).apply(this,arguments)}function Vt(){return(Vt=(0,d.A)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithEmailLink",je(y,h))})).apply(this,arguments)}function Lt(){return(Lt=(0,d.A)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithEmailLink",je(y,h))})).apply(this,arguments)}class Wt extends jr{constructor(h,g,A,z=null){super("password",A),this._email=h,this._password=g,this._tenantId=z}static _fromEmailAndPassword(h,g){return new Wt(h,g,"password")}static _fromEmailAndCode(h,g,A=null){return new Wt(h,g,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,d.A)(function*(){switch(g.signInMethod){case"password":return Mi(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ts);case"emailLink":return function He(y,h){return Vt.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:me(h,"internal-error")}})()}_linkToIdToken(h,g){var A=this;return(0,d.A)(function*(){switch(A.signInMethod){case"password":return Mi(h,{idToken:g,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ti);case"emailLink":return function mt(y,h){return Lt.apply(this,arguments)}(h,{idToken:g,email:A._email,oobCode:A._password});default:me(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function ln(y,h){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.A)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithIdp",je(y,h))})).apply(this,arguments)}class Rn extends jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Rn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):me("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:z}=g,oe=(0,he.Tt)(g,["providerId","signInMethod"]);if(!A||!z)return null;const Ge=new Rn(A,z);return Ge.idToken=oe.idToken||void 0,Ge.accessToken=oe.accessToken||void 0,Ge.secret=oe.secret,Ge.nonce=oe.nonce,Ge.pendingToken=oe.pendingToken||null,Ge}_getIdTokenResponse(h){return ln(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,ln(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,ln(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,J.Am)(g)}return h}}function Qr(){return(Qr=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:sendVerificationCode",je(y,h))})).apply(this,arguments)}function Hr(){return(Hr=(0,d.A)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithPhoneNumber",je(y,h))})).apply(this,arguments)}function vi(){return(vi=(0,d.A)(function*(y,h){const g=yield yn(y,"POST","/v1/accounts:signInWithPhoneNumber",je(y,h));if(g.temporaryProof)throw Nt(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const _i={USER_NOT_FOUND:"user-not-found"};function to(){return(to=(0,d.A)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithPhoneNumber",je(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),_i)})).apply(this,arguments)}class so extends jr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new so({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new so({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Gr(y,h){return Hr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Yr(y,h){return vi.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Oi(y,h){return to.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:A,verificationCode:z}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:A,code:z}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:A,phoneNumber:z,temporaryProof:oe}=h;return A||g||z||oe?new so({verificationId:g,verificationCode:A,phoneNumber:z,temporaryProof:oe}):null}}class uo{constructor(h){var g,A,z,oe,Ge,It;const Kt=(0,J.I9)((0,J.hp)(h)),In=null!==(g=Kt.apiKey)&&void 0!==g?g:null,Un=null!==(A=Kt.oobCode)&&void 0!==A?A:null,Pn=function wo(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=Kt.mode)&&void 0!==z?z:null);xe(In&&Un&&Pn,"argument-error"),this.apiKey=In,this.operation=Pn,this.code=Un,this.continueUrl=null!==(oe=Kt.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Ge=Kt.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(It=Kt.tenantId)&&void 0!==It?It:null}static parseLink(h){const g=function as(y){const h=(0,J.I9)((0,J.hp)(y)).link,g=h?(0,J.I9)((0,J.hp)(h)).deep_link_id:null,A=(0,J.I9)((0,J.hp)(y)).deep_link_id;return(A?(0,J.I9)((0,J.hp)(A)).link:null)||A||g||h||y}(h);try{return new uo(g)}catch{return null}}}let Fs=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,A){return Wt._fromEmailAndPassword(g,A)}static credentialWithLink(g,A){const z=uo.parseLink(A);return xe(z,"argument-error"),Wt._fromEmailAndCode(g,z.code,z.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class bs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ci extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ls extends Ci{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return xe("providerId"in g&&"signInMethod"in g,"argument-error"),Rn._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return xe(h.idToken||h.accessToken,"argument-error"),Rn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ls.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ls.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:A,oauthTokenSecret:z,pendingToken:oe,nonce:Ge,providerId:It}=h;if(!A&&!z&&!g&&!oe||!It)return null;try{return new ls(It)._credential({idToken:g,accessToken:A,nonce:Ge,pendingToken:oe})}catch{return null}}}let Ko=(()=>{class y extends Ci{constructor(){super("facebook.com")}static credential(g){return Rn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Yi=(()=>{class y extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(g,A){return Rn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:A})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:A,oauthAccessToken:z}=g;if(!A&&!z)return null;try{return y.credential(A,z)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),la=(()=>{class y extends Ci{constructor(){super("github.com")}static credential(g){return Rn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class lr extends jr{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return ln(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,ln(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,ln(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:z,pendingToken:oe}=g;return A&&z&&oe&&A===z?new lr(A,oe):null}static _create(h,g){return new lr(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qo extends bs{constructor(h){xe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return qo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return qo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=lr.fromJSON(h);return xe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:A}=h;if(!g||!A)return null;try{return lr._create(A,g)}catch{return null}}}let Ro=(()=>{class y extends Ci{constructor(){super("twitter.com")}static credential(g,A){return Rn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:A})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:A,oauthTokenSecret:z}=g;if(!A||!z)return null;try{return y.credential(A,z)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Vs(y,h){return us.apply(this,arguments)}function us(){return(us=(0,d.A)(function*(y,h){return yn(y,"POST","/v1/accounts:signUp",je(y,h))})).apply(this,arguments)}class Kn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,A,z=!1){return(0,d.A)(function*(){const oe=yield gt._fromIdTokenResponse(h,A,z),Ge=Cr(A);return new Kn({user:oe,providerId:Ge,_tokenResponse:A,operationType:g})})()}static _forOperation(h,g,A){return(0,d.A)(function*(){yield h._updateTokensIfNecessary(A,!0);const z=Cr(A);return new Kn({user:h,providerId:z,_tokenResponse:A,operationType:g})})()}}function Cr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ws(){return(ws=(0,d.A)(function*(y){var h;if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(nt(y));const g=Dn(y);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Kn({user:g.currentUser,providerId:null,operationType:"signIn"});const A=yield Vs(g,{returnSecureToken:!0}),z=yield Kn._fromIdTokenResponse(g,"signIn",A,!0);return yield g._updateCurrentUser(z.user),z})).apply(this,arguments)}class Us extends J.g{constructor(h,g,A,z){var oe;super(g.code,g.message),this.operationType=A,this.user=z,Object.setPrototypeOf(this,Us.prototype),this.customData={appName:h.name,tenantId:null!==(oe=h.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:g.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,g,A,z){return new Us(h,g,A,z)}}function Wa(y,h,g,A){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Us._fromErrorAndOperation(y,oe,h,A):oe})}function Bs(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function $s(){return $s=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y);yield te(!0,g,h);const{providerUserInfo:A}=yield function Cn(y,h){return gn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),z=Bs(A||[]);return g.providerData=g.providerData.filter(oe=>z.has(oe.providerId)),z.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),$s.apply(this,arguments)}function H(y,h){return x.apply(this,arguments)}function x(){return(x=(0,d.A)(function*(y,h,g=!1){const A=yield ir(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return Kn._forOperation(y,"link",A)})).apply(this,arguments)}function te(y,h,g){return $.apply(this,arguments)}function $(){return($=(0,d.A)(function*(y,h,g){yield Jn(h);const z=!1===y?"provider-already-linked":"no-such-provider";xe(Bs(h.providerData).has(g)===y,h.auth,z)})).apply(this,arguments)}function ce(y,h){return en.apply(this,arguments)}function en(){return(en=(0,d.A)(function*(y,h,g=!1){const{auth:A}=y;if((0,Y._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const z="reauthenticate";try{const oe=yield ir(y,Wa(A,z,h,y),g);xe(oe.idToken,A,"internal-error");const Ge=xr(oe.idToken);xe(Ge,A,"internal-error");const{sub:It}=Ge;return xe(y.uid===It,A,"user-mismatch"),Kn._forOperation(y,z,oe)}catch(oe){throw"auth/user-not-found"===(null==oe?void 0:oe.code)&&me(A,"user-mismatch"),oe}})).apply(this,arguments)}function Hn(y,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,d.A)(function*(y,h,g=!1){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(nt(y));const A="signIn",z=yield Wa(y,A,h),oe=yield Kn._fromIdTokenResponse(y,A,z);return g||(yield y._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function co(y,h){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.A)(function*(y,h){return Hn(Dn(y),h)})).apply(this,arguments)}function ca(y,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y);return yield te(!1,g,h.providerId),H(g,h)})).apply(this,arguments)}function js(y,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.A)(function*(y,h){return ce((0,J.Ku)(y),h)})).apply(this,arguments)}function cs(){return(cs=(0,d.A)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithCustomToken",je(y,h))})).apply(this,arguments)}function Rs(){return Rs=(0,d.A)(function*(y,h){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(nt(y));const g=Dn(y),A=yield function wa(y,h){return cs.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),z=yield Kn._fromIdTokenResponse(g,"signIn",A);return yield g._updateCurrentUser(z.user),z}),Rs.apply(this,arguments)}class da{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?ds._fromServerResponse(h,g):"totpInfo"in g?Sa._fromServerResponse(h,g):me(h,"internal-error")}}class ds extends da{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new ds(g)}}class Sa extends da{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Sa(g)}}function Hs(y,h,g){var A;xe((null===(A=g.url)||void 0===A?void 0:A.length)>0,y,"invalid-continue-uri"),xe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(xe(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(xe(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function fr(y){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.A)(function*(y){const h=Dn(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function go(){return(go=(0,d.A)(function*(y,h,g){const A=Dn(y),z={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&Hs(A,z,g),yield Mi(A,z,"getOobCode",P)})).apply(this,arguments)}function ha(){return ha=(0,d.A)(function*(y,h,g){yield ss((0,J.Ku)(y),{oobCode:h,newPassword:g}).catch(function(){var A=(0,d.A)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&fr(y),z});return function(z){return A.apply(this,arguments)}}())}),ha.apply(this,arguments)}function Mo(){return Mo=(0,d.A)(function*(y,h){yield function li(y,h){return Fr.apply(this,arguments)}((0,J.Ku)(y),{oobCode:h})}),Mo.apply(this,arguments)}function Ms(y,h){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y),A=yield ss(g,{oobCode:h}),z=A.requestType;switch(xe(z,g,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(A.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(A.mfaInfo,g,"internal-error");default:xe(A.email,g,"internal-error")}let oe=null;return A.mfaInfo&&(oe=da._fromServerResponse(Dn(g),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:oe},operation:z}})).apply(this,arguments)}function Ul(){return(Ul=(0,d.A)(function*(y,h){const{data:g}=yield Ms((0,J.Ku)(y),h);return g.email})).apply(this,arguments)}function Qo(){return(Qo=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(nt(y));const A=Dn(y),Ge=yield Mi(A,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vs).catch(Kt=>{throw"auth/password-does-not-meet-requirements"===Kt.code&&fr(y),Kt}),It=yield Kn._fromIdTokenResponse(A,"signIn",Ge);return yield A._updateCurrentUser(It.user),It})).apply(this,arguments)}function pa(){return(pa=(0,d.A)(function*(y,h,g){const A=Dn(y),z={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function oe(Ge,It){xe(It.handleCodeInApp,A,"argument-error"),It&&Hs(A,Ge,It)})(z,g),yield Mi(A,z,"getOobCode",M)})).apply(this,arguments)}function mo(){return(mo=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(nt(y));const A=(0,J.Ku)(y),z=Fs.credentialWithLink(h,g||an());return xe(z._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),co(A,z)})).apply(this,arguments)}function xo(){return(xo=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:createAuthUri",je(y,h))})).apply(this,arguments)}function qa(){return qa=(0,d.A)(function*(y,h){const A={identifier:h,continueUri:Qt()?an():"http://localhost"},{signinMethods:z}=yield function $l(y,h){return xo.apply(this,arguments)}((0,J.Ku)(y),A);return z||[]}),qa.apply(this,arguments)}function _u(){return _u=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y),z={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Hs(g.auth,z,h);const{email:oe}=yield function bo(y,h){return ni.apply(this,arguments)}(g.auth,z);oe!==y.email&&(yield y.reload())}),_u.apply(this,arguments)}function zs(){return zs=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&Hs(A.auth,oe,g);const{email:Ge}=yield function U(y,h){return ee.apply(this,arguments)}(A.auth,oe);Ge!==y.email&&(yield y.reload())}),zs.apply(this,arguments)}function vo(){return(vo=(0,d.A)(function*(y,h){return Re(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ml(){return ml=(0,d.A)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const A=(0,J.Ku)(y),oe={idToken:yield A.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ge=yield ir(A,function No(y,h){return vo.apply(this,arguments)}(A.auth,oe));A.displayName=Ge.displayName||null,A.photoURL=Ge.photoUrl||null;const It=A.providerData.find(({providerId:Kt})=>"password"===Kt);It&&(It.displayName=A.displayName,It.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ge)}),ml.apply(this,arguments)}function Yo(y,h,g){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,d.A)(function*(y,h,g){const{auth:A}=y,oe={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(oe.email=h),g&&(oe.password=g);const Ge=yield ir(y,function Er(y,h){return Wo.apply(this,arguments)}(A,oe));yield y._updateTokensIfNecessary(Ge,!0)}),Zo.apply(this,arguments)}class ao{constructor(h,g,A={}){this.isNewUser=h,this.providerId=g,this.profile=A}}class Gs extends ao{constructor(h,g,A,z){super(h,g,A),this.username=z}}class xa extends ao{constructor(h,g){super(h,"facebook.com",g)}}class jl extends Gs{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class b extends ao{constructor(h,g){super(h,"google.com",g)}}class j extends Gs{constructor(h,g,A){super(h,"twitter.com",g,A)}}function Te(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function yu(y){var h,g;if(!y)return null;const{providerId:A}=y,z=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},oe=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!A&&null!=y&&y.idToken){const Ge=null===(g=null===(h=xr(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ge)return new ao(oe,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!A)return null;switch(A){case"facebook.com":return new xa(oe,z);case"github.com":return new jl(oe,z);case"google.com":return new b(oe,z);case"twitter.com":return new j(oe,z,y.screenName||null);case"custom":case"anonymous":return new ao(oe,null);default:return new ao(oe,A,z)}}(g)}class br{constructor(h,g,A){this.type=h,this.credential=g,this.user=A}static _fromIdtoken(h,g){return new br("enroll",h,g)}static _fromMfaPendingCredential(h){return new br("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,A;if(null!=h&&h.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return br._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return br._fromIdtoken(h.multiFactorSession.idToken)}return null}}class sn{constructor(h,g,A){this.session=h,this.hints=g,this.signInResolver=A}static _fromError(h,g){const A=Dn(h),z=g.customData._serverResponse,oe=(z.mfaInfo||[]).map(It=>da._fromServerResponse(A,It));xe(z.mfaPendingCredential,A,"internal-error");const Ge=br._fromMfaPendingCredential(z.mfaPendingCredential);return new sn(Ge,oe,function(){var It=(0,d.A)(function*(Kt){const In=yield Kt._process(A,Ge);delete z.mfaInfo,delete z.mfaPendingCredential;const Un=Object.assign(Object.assign({},z),{idToken:In.idToken,refreshToken:In.refreshToken});switch(g.operationType){case"signIn":const Pn=yield Kn._fromIdTokenResponse(A,g.operationType,Un);return yield A._updateCurrentUser(Pn.user),Pn;case"reauthenticate":return xe(g.user,A,"internal-error"),Kn._forOperation(g.user,g.operationType,Un);default:me(A,"internal-error")}});return function(Kt){return It.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,d.A)(function*(){return g.signInResolver(h)})()}}class pr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(A=>da._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new pr(h)}getSession(){var h=this;return(0,d.A)(function*(){return br._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var A=this;return(0,d.A)(function*(){const z=h,oe=yield A.getSession(),Ge=yield ir(A.user,z._process(A.user.auth,oe,g));return yield A.user._updateTokensIfNecessary(Ge),A.user.reload()})()}unenroll(h){var g=this;return(0,d.A)(function*(){const A="string"==typeof h?h:h.uid,z=yield g.user.getIdToken();try{const oe=yield ir(g.user,function Ws(y,h){return Re(y,"POST","/v2/accounts/mfaEnrollment:withdraw",je(y,h))}(g.user.auth,{idToken:z,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ge})=>Ge!==A),yield g.user._updateTokensIfNecessary(oe),yield g.user.reload()}catch(oe){throw oe}})()}}const Yn=new WeakMap,or="__sak";class Ks{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(or,"1"),this.storage.removeItem(or),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const qs=(()=>{class y extends Ks{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,A)=>this.onStorageEvent(g,A),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const A of Object.keys(this.listeners)){const z=this.storage.getItem(A),oe=this.localCache[A];z!==oe&&g(A,oe,z)}}onStorageEvent(g,A=!1){if(!g.key)return void this.forAllChangedKeys((It,Kt,In)=>{this.notifyListeners(It,In)});const z=g.key;A?this.detachListener():this.stopPolling();const oe=()=>{const It=this.storage.getItem(z);!A&&this.localCache[z]===It||this.notifyListeners(z,It)},Ge=this.storage.getItem(z);!function G(){return(0,J.lT)()&&10===document.documentMode}()||Ge===g.newValue||g.newValue===g.oldValue?oe():setTimeout(oe,10)}notifyListeners(g,A){this.localCache[g]=A;const z=this.listeners[g];if(z)for(const oe of Array.from(z))oe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,A,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:A,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,A){var z=()=>super._set,oe=this;return(0,d.A)(function*(){yield z().call(oe,g,A),oe.localCache[g]=JSON.stringify(A)})()}_get(g){var A=()=>super._get,z=this;return(0,d.A)(function*(){const oe=yield A().call(z,g);return z.localCache[g]=JSON.stringify(oe),oe})()}_remove(g){var A=()=>super._remove,z=this;return(0,d.A)(function*(){yield A().call(z,g),delete z.localCache[g]})()}}return y.type="LOCAL",y})(),Vi=(()=>{class y extends Ks{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,A){}_removeListener(g,A){}}return y.type="SESSION",y})();let Na=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const A=this.receivers.find(oe=>oe.isListeningto(g));if(A)return A;const z=new y(g);return this.receivers.push(z),z}isListeningto(g){return this.eventTarget===g}handleEvent(g){var A=this;return(0,d.A)(function*(){const z=g,{eventId:oe,eventType:Ge,data:It}=z.data,Kt=A.handlersMap[Ge];if(null==Kt||!Kt.size)return;z.ports[0].postMessage({status:"ack",eventId:oe,eventType:Ge});const In=Array.from(Kt).map(function(){var Pn=(0,d.A)(function*(Gi){return Gi(z.origin,It)});return function(Gi){return Pn.apply(this,arguments)}}()),Un=yield function Ps(y){return Promise.all(y.map(function(){var h=(0,d.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(A){return{fulfilled:!1,reason:A}}});return function(g){return h.apply(this,arguments)}}()))}(In);z.ports[0].postMessage({status:"done",eventId:oe,eventType:Ge,response:Un})})()}_subscribe(g,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(A)}_unsubscribe(g,A){this.handlersMap[g]&&A&&this.handlersMap[g].delete(A),(!A||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function _o(y="",h=10){let g="";for(let A=0;A<h;A++)g+=Math.floor(10*Math.random());return y+g}class Il{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,A=50){var z=this;return(0,d.A)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Ge,It;return new Promise((Kt,In)=>{const Un=_o("",20);oe.port1.start();const Pn=setTimeout(()=>{In(new Error("unsupported_event"))},A);It={messageChannel:oe,onMessage(Gi){const ya=Gi;if(ya.data.eventId===Un)switch(ya.data.status){case"ack":clearTimeout(Pn),Ge=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Kt(ya.data.response);break;default:clearTimeout(Pn),clearTimeout(Ge),In(new Error("invalid_response"))}}},z.handlers.add(It),oe.port1.addEventListener("message",It.onMessage),z.target.postMessage({eventType:h,eventId:Un,data:g},[oe.port2])}).finally(()=>{It&&z.removeMessageHandler(It)})})()}}function si(){return window}function Hl(){return typeof si().WorkerGlobalScope<"u"&&"function"==typeof si().importScripts}function ps(){return(ps=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Li="firebaseLocalStorageDb",yi="firebaseLocalStorage",Ui="fbase_key";class Oa{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Xs(y,h){return y.transaction([yi],h?"readwrite":"readonly").objectStore(yi)}function yo(){const y=indexedDB.open(Li,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const A=y.result;try{A.createObjectStore(yi,{keyPath:Ui})}catch(z){g(z)}}),y.addEventListener("success",(0,d.A)(function*(){const A=y.result;A.objectStoreNames.contains(yi)?h(A):(A.close(),yield function bi(){const y=indexedDB.deleteDatabase(Li);return new Oa(y).toPromise()}(),h(yield yo()))}))})}function ka(y,h,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,d.A)(function*(y,h,g){const A=Xs(y,!0).put({[Ui]:h,value:g});return new Oa(A).toPromise()})).apply(this,arguments)}function Oo(){return(Oo=(0,d.A)(function*(y,h){const g=Xs(y,!1).get(h),A=yield new Oa(g).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function pc(y,h){const g=Xs(y,!0).delete(h);return new Oa(g).toPromise()}const Wl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.A)(function*(){return g.db||(g.db=yield yo()),g.db})()}_withRetries(g){var A=this;return(0,d.A)(function*(){let z=0;for(;;)try{const oe=yield A._openDb();return yield g(oe)}catch(oe){if(z++>3)throw oe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.A)(function*(){return Hl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.A)(function*(){g.receiver=Na._getInstance(function El(){return Hl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var A=(0,d.A)(function*(z,oe){return{keyProcessed:(yield g._poll()).includes(oe.key)}});return function(z,oe){return A.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var A=(0,d.A)(function*(z,oe){return["keyChanged"]});return function(z,oe){return A.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.A)(function*(){var A,z;if(g.activeServiceWorker=yield function zl(){return ps.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Il(g.activeServiceWorker);const oe=yield g.sender._send("ping",{},800);oe&&null!==(A=oe[0])&&void 0!==A&&A.fulfilled&&null!==(z=oe[0])&&void 0!==z&&z.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var A=this;return(0,d.A)(function*(){if(A.sender&&A.activeServiceWorker&&function hc(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:g},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const g=yield yo();return yield ka(g,or,"1"),yield pc(g,or),!0}catch{}return!1})()}_withPendingWrite(g){var A=this;return(0,d.A)(function*(){A.pendingWrites++;try{yield g()}finally{A.pendingWrites--}})()}_set(g,A){var z=this;return(0,d.A)(function*(){return z._withPendingWrite((0,d.A)(function*(){return yield z._withRetries(oe=>ka(oe,g,A)),z.localCache[g]=A,z.notifyServiceWorker(g)}))})()}_get(g){var A=this;return(0,d.A)(function*(){const z=yield A._withRetries(oe=>function Al(y,h){return Oo.apply(this,arguments)}(oe,g));return A.localCache[g]=z,z})()}_remove(g){var A=this;return(0,d.A)(function*(){return A._withPendingWrite((0,d.A)(function*(){return yield A._withRetries(z=>pc(z,g)),delete A.localCache[g],A.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.A)(function*(){const A=yield g._withRetries(Ge=>{const It=Xs(Ge,!1).getAll();return new Oa(It).toPromise()});if(!A)return[];if(0!==g.pendingWrites)return[];const z=[],oe=new Set;if(0!==A.length)for(const{fbase_key:Ge,value:It}of A)oe.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(It)&&(g.notifyListeners(Ge,It),z.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!oe.has(Ge)&&(g.notifyListeners(Ge,null),z.push(Ge));return z})()}notifyListeners(g,A){this.localCache[g]=A;const z=this.listeners[g];if(z)for(const oe of Array.from(z))oe(A)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),F=1e12;class ae{constructor(h){this.auth=h,this.counter=F,this._widgets=new Map}render(h,g){const A=this.counter;return this._widgets.set(A,new de(h,this.auth.name,g||{})),this.counter++,A}reset(h){var g;const A=h||F;null===(g=this._widgets.get(A))||void 0===g||g.delete(),this._widgets.delete(A)}getResponse(h){var g;return(null===(g=this._widgets.get(h||F))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,d.A)(function*(){var A;return null===(A=g._widgets.get(h||F))||void 0===A||A.execute(),""})()}}class de{constructor(h,g,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof h?document.getElementById(h):h;xe(z,"argument-error",{appName:g}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yt(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<y;A++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xt=ro("rcb"),At=new Ee(3e4,6e4);class An{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=si().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return xe(function cr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&qt(si().grecaptcha)?Promise.resolve(si().grecaptcha):new Promise((A,z)=>{const oe=si().setTimeout(()=>{z(be(h,"network-request-failed"))},At.get());si()[Xt]=()=>{si().clearTimeout(oe),delete si()[Xt];const It=si().grecaptcha;if(!It||!qt(It))return void z(be(h,"internal-error"));const Kt=It.render;It.render=(In,Un)=>{const Pn=Kt(In,Un);return this.counter++,Pn},this.hostLanguage=g,A(It)},ei(`${function ai(){return ii.recaptchaV2Script}()}?${(0,J.Am)({onload:Xt,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(oe),z(be(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=si().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ri{load(h){return(0,d.A)(function*(){return new ae(h)})()}clearedOneInstance(){}}const yr="recaptcha",ui={theme:"light",type:"image"};class no{constructor(h,g,A=Object.assign({},ui)){this.parameters=A,this.type=yr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dn(h),this.isInvisible="invisible"===this.parameters.size,xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof g?document.getElementById(g):g;xe(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ri:new An,this.validateStartingState()}verify(){var h=this;return(0,d.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(g)||new Promise(oe=>{const Ge=It=>{It&&(h.tokenChangeListeners.delete(Ge),oe(It))};h.tokenChangeListeners.add(Ge),h.isInvisible&&A.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(A=>A(g)),"function"==typeof h)h(g);else if("string"==typeof h){const A=si()[h];"function"==typeof A&&A(g)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const A=document.createElement("div");g.appendChild(A),g=A}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.A)(function*(){xe(Qt()&&!Hl(),h.auth,"internal-error"),yield function Io(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Me(y){return Le.apply(this,arguments)}(h.auth);xe(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ga{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=so._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Fo(){return(Fo=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(nt(y));const A=Dn(y),z=yield Qs(A,h,(0,J.Ku)(g));return new ga(z,oe=>co(A,oe))})).apply(this,arguments)}function Cl(){return(Cl=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);yield te(!1,A,"phone");const z=yield Qs(A.auth,h,(0,J.Ku)(g));return new ga(z,oe=>ca(A,oe))})).apply(this,arguments)}function ma(){return(ma=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);if((0,Y._isFirebaseServerApp)(A.auth.app))return Promise.reject(nt(A.auth));const z=yield Qs(A.auth,h,(0,J.Ku)(g));return new ga(z,oe=>js(A,oe))})).apply(this,arguments)}function Qs(y,h,g){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,d.A)(function*(y,h,g){var A;const z=yield g.verify();try{let oe;if(xe("string"==typeof z,y,"argument-error"),xe(g.type===yr,y,"argument-error"),oe="string"==typeof h?{phoneNumber:h}:h,"session"in oe){const Ge=oe.session;if("phoneNumber"in oe)return xe("enroll"===Ge.type,y,"internal-error"),(yield function fi(y,h){return Re(y,"POST","/v2/accounts/mfaEnrollment:start",je(y,h))}(y,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{xe("signin"===Ge.type,y,"internal-error");const It=(null===(A=oe.multiFactorHint)||void 0===A?void 0:A.uid)||oe.multiFactorUid;return xe(It,y,"missing-multi-factor-info"),(yield function Bf(y,h){return Re(y,"POST","/v2/accounts/mfaSignIn:start",je(y,h))}(y,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:It,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield function Or(y,h){return Qr.apply(this,arguments)}(y,{phoneNumber:oe.phoneNumber,recaptchaToken:z});return Ge}}finally{g._reset()}}),Qa.apply(this,arguments)}function Dl(){return(Dl=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y);if((0,Y._isFirebaseServerApp)(g.auth.app))return Promise.reject(nt(g.auth));yield H(g,h)})).apply(this,arguments)}let Kl=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Dn(g)}verifyPhoneNumber(g,A){return Qs(this.auth,g,(0,J.Ku)(A))}static credential(g,A){return so._fromVerification(g,A)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:A,temporaryProof:z}=g;return A&&z?so._fromTokenResponse(A,z):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Vr(y,h){return h?En(h):(xe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ql extends jr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ln(h,this._buildIdpRequest())}_linkToIdToken(h,g){return ln(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return ln(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Au(y){return Hn(y.auth,new ql(y),y.bypassAuthState)}function Lo(y){const{auth:h,user:g}=y;return xe(g,h,"internal-error"),ce(g,new ql(y),y.bypassAuthState)}function Ug(y){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,d.A)(function*(y){const{auth:h,user:g}=y;return xe(g,h,"internal-error"),H(g,new ql(y),y.bypassAuthState)})).apply(this,arguments)}class Ya{constructor(h,g,A,z,oe=!1){this.auth=h,this.resolver=A,this.user=z,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,d.A)(function*(A,z){h.pendingPromise={resolve:A,reject:z};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(oe){h.reject(oe)}});return function(A,z){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,d.A)(function*(){const{urlResponse:A,sessionId:z,postBody:oe,tenantId:Ge,error:It,type:Kt}=h;if(It)return void g.reject(It);const In={auth:g.auth,requestUri:A,sessionId:z,tenantId:Ge||void 0,postBody:oe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Kt)(In))}catch(Un){g.reject(Un)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Au;case"linkViaPopup":case"linkViaRedirect":return Ug;case"reauthViaPopup":case"reauthViaRedirect":return Lo;default:me(this.auth,"internal-error")}}resolve(h){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uo=new Ee(2e3,1e4);function vc(){return(vc=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(be(y,"operation-not-supported-in-this-environment"));const A=Dn(y);Dt(y,h,bs);const z=Vr(A,g);return new dd(A,"signInViaPopup",h,z).executeNotNull()})).apply(this,arguments)}function gs(){return(gs=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);if((0,Y._isFirebaseServerApp)(A.auth.app))return Promise.reject(be(A.auth,"operation-not-supported-in-this-environment"));Dt(A.auth,h,bs);const z=Vr(A.auth,g);return new dd(A.auth,"reauthViaPopup",h,z,A).executeNotNull()})).apply(this,arguments)}function cd(){return(cd=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);Dt(A.auth,h,bs);const z=Vr(A.auth,g);return new dd(A.auth,"linkViaPopup",h,z,A).executeNotNull()})).apply(this,arguments)}let dd=(()=>{class y extends Ya{constructor(g,A,z,oe,Ge){super(g,A,oe,Ge),this.provider=z,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.A)(function*(){const A=yield g.execute();return xe(A,g.auth,"internal-error"),A})()}onExecution(){var g=this;return(0,d.A)(function*(){$t(1===g.filter.length,"Popup operations only handle one event");const A=_o();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],A),g.authWindow.associatedEvent=A,g.resolver._originValidation(g.auth).catch(z=>{g.reject(z)}),g.resolver._isIframeWebStorageSupported(g.auth,z=>{z||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var A,z;this.pollId=null!==(z=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Uo.get())};g()}}return y.currentPopupAction=null,y})();const hd="pendingRedirect",va=new Map;class Fa extends Ya{constructor(h,g,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,d.A)(function*(){let A=va.get(g.auth._key());if(!A){try{const oe=(yield function _a(y,h){return Cu.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;A=()=>Promise.resolve(oe)}catch(z){A=()=>Promise.reject(z)}va.set(g.auth._key(),A)}return g.bypassAuthState||va.set(g.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,A=this;return(0,d.A)(function*(){if("signInViaRedirect"===h.type)return g().call(A,h);if("unknown"!==h.type){if(h.eventId){const z=yield A.auth._redirectUserForId(h.eventId);if(z)return A.user=z,g().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function Cu(){return(Cu=(0,d.A)(function*(y,h){const g=$f(h),A=_c(y);if(!(yield A._isAvailable()))return!1;const z="true"===(yield A._get(g));return yield A._remove(g),z})).apply(this,arguments)}function Ys(y,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.A)(function*(y,h){return _c(y)._set($f(h),"true")})).apply(this,arguments)}function Ql(y,h){va.set(y._key(),h)}function _c(y){return En(y._redirectPersistence)}function $f(y){return lt(hd,y.config.apiKey,y.name)}function Ih(y,h,g){return function Eh(y,h,g){return pd.apply(this,arguments)}(y,h,g)}function pd(){return(pd=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(nt(y));const A=Dn(y);Dt(y,h,bs),yield A._initializationPromise;const z=Vr(A,g);return yield Ys(z,A),z._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function yc(y,h,g){return function Yl(y,h,g){return Ic.apply(this,arguments)}(y,h,g)}function Ic(){return(Ic=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);if(Dt(A.auth,h,bs),(0,Y._isFirebaseServerApp)(A.auth.app))return Promise.reject(nt(A.auth));yield A.auth._initializationPromise;const z=Vr(A.auth,g);yield Ys(z,A.auth);const oe=yield vd(A);return z._openRedirect(A.auth,h,"reauthViaRedirect",oe)})).apply(this,arguments)}function gd(y,h,g){return function Bg(y,h,g){return md.apply(this,arguments)}(y,h,g)}function md(){return(md=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);Dt(A.auth,h,bs),yield A.auth._initializationPromise;const z=Vr(A.auth,g);yield te(!1,A,h.providerId),yield Ys(z,A.auth);const oe=yield vd(A);return z._openRedirect(A.auth,h,"linkViaRedirect",oe)})).apply(this,arguments)}function jt(){return(jt=(0,d.A)(function*(y,h){return yield Dn(y)._initializationPromise,vr(y,h,!1)})).apply(this,arguments)}function vr(y,h){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,d.A)(function*(y,h,g=!1){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(nt(y));const A=Dn(y),z=Vr(A,h),Ge=yield new Fa(A,z,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield A._persistUserIfCurrent(Ge.user),yield A._setRedirectUser(null,h)),Ge})).apply(this,arguments)}function vd(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.A)(function*(y){const h=_o(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Za{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(g=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Va(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ac(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var A;if(h.error&&!Ac(h)){const z=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";g.onError(be(this.auth,z))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const A=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(h))}saveEventToCache(h){this.cachedEventUids.add(Jo(h)),this.lastProcessedEventTime=Date.now()}}function Jo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Ac({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function bl(y){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,d.A)(function*(y,h={}){return Re(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Tu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jf=/^https?/;function Cc(){return(Cc=(0,d.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield bl(y);for(const g of h)try{if(Ji(g))return}catch{}me(y,"unauthorized-domain")})).apply(this,arguments)}function Ji(y){const h=an(),{protocol:g,hostname:A}=new URL(h);if(y.startsWith("chrome-extension://")){const Ge=new URL(y);return""===Ge.hostname&&""===A?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===A}if(!jf.test(g))return!1;if(Tu.test(y))return A===y;const z=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(A)}const La=new Ee(3e4,6e4);function Dh(){const y=si().___jsl;if(null!=y&&y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Js=null;const zf=new Ee(5e3,15e3),_d="__/auth/iframe",Gf="emulator/auth/iframe",Th={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bh(y){const h=y.config;xe(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?Ie(h,Gf):`https://${y.config.authDomain}/${_d}`,A={apiKey:h.apiKey,appName:y.name,v:Y.SDK_VERSION},z=yd.get(y.config.apiHost);z&&(A.eid=z);const oe=y._getFrameworks();return oe.length&&(A.fw=oe.join(",")),`${g}?${(0,J.Am)(A).slice(1)}`}function Ja(){return Ja=(0,d.A)(function*(y){const h=yield function Hf(y){return Js=Js||function Zs(y){return new Promise((h,g)=>{var A,z,oe;function Ge(){Dh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Dh(),g(be(y,"network-request-failed"))},timeout:La.get()})}if(null!==(z=null===(A=si().gapi)||void 0===A?void 0:A.iframes)&&void 0!==z&&z.Iframe)h(gapi.iframes.getContext());else{if(null===(oe=si().gapi)||void 0===oe||!oe.load){const It=ro("iframefcb");return si()[It]=()=>{gapi.load?Ge():g(be(y,"network-request-failed"))},ei(`${function oi(){return ii.gapiScript}()}?onload=${It}`).catch(Kt=>g(Kt))}Ge()}}).catch(h=>{throw Js=null,h})}(y),Js}(y),g=si().gapi;return xe(g,y,"internal-error"),h.open({where:document.body,url:bh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Th,dontclear:!0},A=>new Promise(function(){var z=(0,d.A)(function*(oe,Ge){yield A.restyle({setHideOnLeave:!1});const It=be(y,"network-request-failed"),Kt=si().setTimeout(()=>{Ge(It)},zf.get());function In(){si().clearTimeout(Kt),oe(A)}A.ping(In).then(In,()=>{Ge(It)})});return function(oe,Ge){return z.apply(this,arguments)}}()))}),Ja.apply(this,arguments)}const bu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const lo="__/auth/handler",Bi="emulator/auth/handler",wi=encodeURIComponent("fac");function Ph(y,h,g,A,z,oe){return xh.apply(this,arguments)}function xh(){return(xh=(0,d.A)(function*(y,h,g,A,z,oe){xe(y.config.authDomain,y,"auth-domain-config-required"),xe(y.config.apiKey,y,"invalid-api-key");const Ge={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:A,v:Y.SDK_VERSION,eventId:z};if(h instanceof bs){h.setDefaultLanguage(y.languageCode),Ge.providerId=h.providerId||"",(0,J.Im)(h.getCustomParameters())||(Ge.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Un,Pn]of Object.entries(oe||{}))Ge[Un]=Pn}if(h instanceof Ci){const Un=h.getScopes().filter(Pn=>""!==Pn);Un.length>0&&(Ge.scopes=Un.join(","))}y.tenantId&&(Ge.tid=y.tenantId);const It=Ge;for(const Un of Object.keys(It))void 0===It[Un]&&delete It[Un];const Kt=yield y._getAppCheckToken(),In=Kt?`#${wi}=${encodeURIComponent(Kt)}`:"";return`${function jg({config:y}){return y.emulator?Ie(y,Bi):`https://${y.authDomain}/${lo}`}(y)}?${(0,J.Am)(It).slice(1)}${In}`})).apply(this,arguments)}const Tc="webStorageSupport",wu=class Kf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vi,this._completeRedirectFn=vr,this._overrideRedirectResult=Ql}_openPopup(h,g,A,z){var oe=this;return(0,d.A)(function*(){var Ge;$t(null===(Ge=oe.eventManagers[h._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const It=yield Ph(h,g,A,an(),z);return function Mh(y,h,g,A=500,z=600){const oe=Math.max((window.screen.availHeight-z)/2,0).toString(),Ge=Math.max((window.screen.availWidth-A)/2,0).toString();let It="";const Kt=Object.assign(Object.assign({},bu),{width:A.toString(),height:z.toString(),top:oe,left:Ge}),In=(0,J.ZQ)().toLowerCase();g&&(It=bn(In)?"_blank":g),Ur(In)&&(h=h||"http://localhost",Kt.scrollbars="yes");const Un=Object.entries(Kt).reduce((Gi,[ya,ku])=>`${Gi}${ya}=${ku},`,"");if(function ne(y=(0,J.ZQ)()){var h;return gi(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(In)&&"_self"!==It)return function $g(y,h){const g=document.createElement("a");g.href=y,g.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(A)}(h||"",It),new Rh(null);const Pn=window.open(h||"",It,Un);xe(Pn,y,"popup-blocked");try{Pn.focus()}catch{}return new Rh(Pn)}(h,It,_o())})()}_openRedirect(h,g,A,z){var oe=this;return(0,d.A)(function*(){return yield oe._originValidation(h),function zn(y){si().location.href=y}(yield Ph(h,g,A,an(),z)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:z,promise:oe}=this.eventManagers[g];return z?Promise.resolve(z):($t(oe,"If manager is not set, promise should be"),oe)}const A=this.initAndGetManager(h);return this.eventManagers[g]={promise:A},A.catch(()=>{delete this.eventManagers[g]}),A}initAndGetManager(h){var g=this;return(0,d.A)(function*(){const A=yield function Dc(y){return Ja.apply(this,arguments)}(h),z=new Za(h);return A.register("authEvent",oe=>(xe(null==oe?void 0:oe.authEvent,h,"invalid-auth-event"),{status:z.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:z},g.iframes[h._key()]=A,z})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Tc,{type:Tc},z=>{var oe;const Ge=null===(oe=null==z?void 0:z[0])||void 0===oe?void 0:oe[Tc];void 0!==Ge&&g(!!Ge),me(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Zl(y){return Cc.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return ge()||$r()||gi()}};class el{constructor(h){this.factorId=h}_process(h,g,A){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,A);case"signin":return this._finalizeSignIn(h,g.credential);default:return kt("unexpected MultiFactorSessionType")}}}class ea extends el{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new ea(h)}_finalizeEnroll(h,g,A){return function Fi(y,h){return Re(y,"POST","/v2/accounts/mfaEnrollment:finalize",je(y,h))}(h,{idToken:g,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function D(y,h){return Re(y,"POST","/v2/accounts/mfaSignIn:finalize",je(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qf=(()=>{class y{constructor(){}static assertion(g){return ea._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var wc="@firebase/auth";class Hg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,d.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(A=>{h((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eu(){return window}(0,J.XA)("authIdTokenMaxAge"),function Qn(y){ii=y}({loadJS:y=>new Promise((h,g)=>{const A=document.createElement("script");A.setAttribute("src",y),A.onload=h,A.onerror=z=>{const oe=be("internal-error");oe.customData=z,g(oe)},A.type="text/javascript",A.charset="UTF-8",function Wg(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Rc(y){(0,Y._registerComponent)(new ve.uA("auth",(h,{options:g})=>{const A=h.getProvider("app").getImmediate(),z=h.getProvider("heartbeat"),oe=h.getProvider("app-check-internal"),{apiKey:Ge,authDomain:It}=A.options;xe(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:A.name});const Kt={apiKey:Ge,authDomain:It,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X(y)},In=new Fn(A,z,oe,Kt);return function Os(y,h){const g=(null==h?void 0:h.persistence)||[],A=(Array.isArray(g)?g:[g]).map(En);null!=h&&h.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(A,null==h?void 0:h.popupRedirectResolver)}(In,g),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,A)=>{h.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new ve.uA("auth-internal",h=>{const g=Dn(h.getProvider("auth").getImmediate());return new Hg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(wc,"1.7.9",function Jl(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,Y.registerVersion)(wc,"1.7.9","esm2017")}("Browser");function ms(){return ms=(0,d.A)(function*(y,h,g){var A;const{BuildInfo:z}=eu();$t(h.sessionId,"AuthEvent did not contain a session ID");const oe=yield function Ru(y){return Yf.apply(this,arguments)}(h.sessionId),Ge={};return gi()?Ge.ibi=z.packageName:di()?Ge.apn=z.packageName:me(y,"operation-not-supported-in-this-environment"),z.displayName&&(Ge.appDisplayName=z.displayName),Ge.sessionId=oe,Ph(y,g,h.type,void 0,null!==(A=h.eventId)&&void 0!==A?A:void 0,Ge)}),ms.apply(this,arguments)}function Ua(){return(Ua=(0,d.A)(function*(y){const{BuildInfo:h}=eu(),g={};gi()?g.iosBundleId=h.packageName:di()?g.androidPackageName=h.packageName:me(y,"operation-not-supported-in-this-environment"),yield bl(y,g)})).apply(this,arguments)}function Ad(){return(Ad=(0,d.A)(function*(y,h,g){const{cordova:A}=eu();let z=()=>{};try{yield new Promise((oe,Ge)=>{let It=null;function Kt(){var Pn;oe();const Gi=null===(Pn=A.plugins.browsertab)||void 0===Pn?void 0:Pn.close;"function"==typeof Gi&&Gi(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function In(){It||(It=window.setTimeout(()=>{Ge(be(y,"redirect-cancelled-by-user"))},2e3))}function Un(){"visible"===(null==document?void 0:document.visibilityState)&&In()}h.addPassiveListener(Kt),document.addEventListener("resume",In,!1),di()&&document.addEventListener("visibilitychange",Un,!1),z=()=>{h.removePassiveListener(Kt),document.removeEventListener("resume",In,!1),document.removeEventListener("visibilitychange",Un,!1),It&&window.clearTimeout(It)}})}finally{z()}})).apply(this,arguments)}function Yf(){return(Yf=(0,d.A)(function*(y){const h=function Cd(y){if($t(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let A=0;A<y.length;A++)g[A]=y.charCodeAt(A);return g}(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Zf extends Za{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.A)(function*(){yield h.initPromise})()}}function rl(y){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,d.A)(function*(y){const h=yield tu()._get(bd(y));return h&&(yield tu()._remove(bd(y))),h})).apply(this,arguments)}function Mu(){const y=[];for(let g=0;g<20;g++){const A=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return y.join("")}function tu(){return En(qs)}function bd(y){return lt("authEvent",y.config.apiKey,y.name)}function Ml(y){if(null==y||!y.includes("?"))return{};const[h,...g]=y.split("?");return(0,J.I9)(g.join("?"))}const Sd=class Kg{constructor(){this._redirectPersistence=Vi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vr,this._overrideRedirectResult=Ql}_initialize(h){var g=this;return(0,d.A)(function*(){const A=h._key();let z=g.eventManagers.get(A);return z||(z=new Zf(h),g.eventManagers.set(A,z),g.attachCallbackListeners(h,z)),z})()}_openPopup(h){me(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,A,z){var oe=this;return(0,d.A)(function*(){!function Nh(y){var h,g,A,z,oe,Ge,It,Kt,In,Un;const Pn=eu();xe("function"==typeof(null===(h=null==Pn?void 0:Pn.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xe(typeof(null===(g=null==Pn?void 0:Pn.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xe("function"==typeof(null===(oe=null===(z=null===(A=null==Pn?void 0:Pn.cordova)||void 0===A?void 0:A.plugins)||void 0===z?void 0:z.browsertab)||void 0===oe?void 0:oe.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Kt=null===(It=null===(Ge=null==Pn?void 0:Pn.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===It?void 0:It.browsertab)||void 0===Kt?void 0:Kt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Un=null===(In=null==Pn?void 0:Pn.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===Un?void 0:Un.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ge=yield oe._initialize(h);yield Ge.initialized(),Ge.resetRedirect(),function fd(){va.clear()}(),yield oe._originValidation(h);const It=function ta(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Mu(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(h,A,z);yield function Dd(y,h){return tu()._set(bd(y),h)}(h,It);const Kt=yield function Sl(y,h,g){return ms.apply(this,arguments)}(h,It,g),In=yield function Qf(y){const{cordova:h}=eu();return new Promise(g=>{h.plugins.browsertab.isAvailable(A=>{let z=null;A?h.plugins.browsertab.openUrl(y):z=h.InAppBrowser.open(y,function ar(y=(0,J.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(z)})})}(Kt);return function Su(y,h,g){return Ad.apply(this,arguments)}(h,Ge,In)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Pc(y){return Ua.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:A,handleOpenURL:z,BuildInfo:oe}=eu(),Ge=setTimeout((0,d.A)(function*(){yield rl(h),g.onEvent(zi())}),500),It=function(){var Un=(0,d.A)(function*(Pn){clearTimeout(Ge);const Gi=yield rl(h);let ya=null;Gi&&null!=Pn&&Pn.url&&(ya=function Td(y,h){var g,A;const z=function kh(y){const h=Ml(y),g=h.link?decodeURIComponent(h.link):void 0,A=Ml(g).link,z=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Ml(z).link||z||A||g||y}(h);if(z.includes("/__/auth/callback")){const oe=Ml(z),Ge=oe.firebaseError?function Jf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(oe.firebaseError)):null,It=null===(A=null===(g=null==Ge?void 0:Ge.code)||void 0===g?void 0:g.split("auth/"))||void 0===A?void 0:A[1],Kt=It?be(It):null;return Kt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:z,postBody:null}}return null}(Gi,Pn.url)),g.onEvent(ya||zi())});return function(Gi){return Un.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,It);const Kt=z,In=`${oe.packageName.toLowerCase()}://`;eu().handleOpenURL=function(){var Un=(0,d.A)(function*(Pn){if(Pn.toLowerCase().startsWith(In)&&It({url:Pn}),"function"==typeof Kt)try{Kt(Pn)}catch(Gi){console.error(Gi)}});return function(Pn){return Un.apply(this,arguments)}}()}};function zi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function na(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function ep(y=(0,J.ZQ)()){return!("file:"!==na()&&"ionic:"!==na()&&"capacitor:"!==na()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function il(){try{const y=self.localStorage,h=_o();if(y)return y.setItem(h,"1"),y.removeItem(h),!function np(y=(0,J.ZQ)()){return function Vh(){return(0,J.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Xg(y=(0,J.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,J.zW)()}catch{return Nc()&&(0,J.zW)()}return!1}function Nc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ol(){return(function io(){return"http:"===na()||"https:"===na()}()||(0,J.sr)()||ep())&&!function tp(){return(0,J.lV)()||(0,J.Ll)()}()&&il()&&!Nc()}function Pu(){return ep()&&typeof document<"u"}function sl(){return(sl=(0,d.A)(function*(){return!!Pu()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const vs={LOCAL:"local",NONE:"none",SESSION:"session"},ru=xe,Oc="persistence";function kc(y){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,d.A)(function*(y){yield y._initializationPromise;const h=Qg(),g=lt(Oc,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function Qg(){var y;try{return(null===(y=function Lh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Rd=xe;class al{constructor(){this.browserResolver=En(wu),this.cordovaResolver=En(Sd),this.underlyingResolver=null,this._redirectPersistence=Vi,this._completeRedirectFn=vr,this._overrideRedirectResult=Ql}_initialize(h){var g=this;return(0,d.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,A,z){var oe=this;return(0,d.A)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openPopup(h,g,A,z)})()}_openRedirect(h,g,A,z){var oe=this;return(0,d.A)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openRedirect(h,g,A,z)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Pu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.A)(function*(){if(h.underlyingResolver)return;const g=yield function nu(){return sl.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function ho(y){return y.unwrap()}function $h(y){return Fc(y)}function Fc(y){const{_tokenResponse:h}=y instanceof J.g?y.customData:y;if(!h)return null;if(!(y instanceof J.g)&&"temporaryProof"in h&&"phoneNumber"in h)return Kl.credentialFromResult(y);const g=h.providerId;if(!g||g===Be.PASSWORD)return null;let A;switch(g){case Be.GOOGLE:A=Yi;break;case Be.FACEBOOK:A=Ko;break;case Be.GITHUB:A=la;break;case Be.TWITTER:A=Ro;break;default:const{oauthIdToken:z,oauthAccessToken:oe,oauthTokenSecret:Ge,pendingToken:It,nonce:Kt}=h;return oe||Ge||z||It?It?g.startsWith("saml.")?lr._create(g,It):Rn._fromParams({providerId:g,signInMethod:g,pendingToken:It,idToken:z,accessToken:oe}):new ls(g).credential({idToken:z,accessToken:oe,rawNonce:Kt}):null}return y instanceof J.g?A.credentialFromError(y):A.credentialFromResult(y)}function _s(y,h){return h.catch(g=>{throw g instanceof J.g&&function jh(y,h){var g;const A=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new Vc(y,function Ln(y,h){var g;const A=(0,J.Ku)(y),z=h;return xe(h.customData.operationType,A,"argument-error"),xe(null===(g=z.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,A,"argument-error"),sn._fromError(A,z)}(y,h));else if(A){const z=Fc(h),oe=h;z&&(oe.credential=z,oe.tenantId=A.tenantId||void 0,oe.email=A.email||void 0,oe.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const z=g.user;return{operationType:g.operationType,credential:$h(g),additionalUserInfo:Te(g),user:ll.getOrCreate(z)}})}function $a(y,h){return xu.apply(this,arguments)}function xu(){return(xu=(0,d.A)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:A=>_s(y,g.confirm(A))}})).apply(this,arguments)}class Vc{constructor(h,g){this.resolver=g,this.auth=function Yv(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return _s(ho(this.auth),this.resolver.resolveSignIn(h))}}class ll{constructor(h){this._delegate=h,this.multiFactor=function hs(y){const h=(0,J.Ku)(y);return Yn.has(h)||Yn.set(h,pr._fromUser(h)),Yn.get(h)}(h)}static getOrCreate(h){return ll.USER_MAP.has(h)||ll.USER_MAP.set(h,new ll(h)),ll.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,d.A)(function*(){return _s(g.auth,ca(g._delegate,h))})()}linkWithPhoneNumber(h,g){var A=this;return(0,d.A)(function*(){return $a(A.auth,function Eu(y,h,g){return Cl.apply(this,arguments)}(A._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,d.A)(function*(){return _s(g.auth,function yh(y,h,g){return cd.apply(this,arguments)}(g._delegate,h,al))})()}linkWithRedirect(h){var g=this;return(0,d.A)(function*(){return yield kc(Dn(g.auth)),gd(g._delegate,h,al)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,d.A)(function*(){return _s(g.auth,js(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return $a(this.auth,function gc(y,h,g){return ma.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return _s(this.auth,function Xl(y,h,g){return gs.apply(this,arguments)}(this._delegate,h,al))}reauthenticateWithRedirect(h){var g=this;return(0,d.A)(function*(){return yield kc(Dn(g.auth)),yc(g._delegate,h,al)})()}sendEmailVerification(h){return function mr(y,h){return _u.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,d.A)(function*(){return yield function Ta(y,h){return $s.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Xa(y,h){const g=(0,J.Ku)(y);return(0,Y._isFirebaseServerApp)(g.auth.app)?Promise.reject(nt(g.auth)):Yo(g,h,null)}(this._delegate,h)}updatePassword(h){return function vl(y,h){return Yo((0,J.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Vo(y,h){return Dl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Pa(y,h){return ml.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function Ma(y,h,g){return zs.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ll.USER_MAP=new WeakMap;const Nu=xe;let ul=(()=>{class y{constructor(g,A){if(this.app=g,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=g.options;Nu(z,"invalid-api-key",{appName:g.name}),Nu(z,"invalid-api-key",{appName:g.name});const oe=typeof window<"u"?al:void 0;this._delegate=A.initialize({options:{persistence:Hh(z,g.name),popupRedirectResolver:oe}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ll.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,A){!function nr(y,h,g){const A=Dn(y);xe(A._canInitEmulator,A,"emulator-config-failed"),xe(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const z=!(null==g||!g.disableWarnings),oe=Rr(h),{host:Ge,port:It}=function Da(y){const h=Rr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const A=g[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(A);if(z){const oe=z[1];return{host:oe,port:zo(A.substr(oe.length+1))}}{const[oe,Ge]=A.split(":");return{host:oe,port:zo(Ge)}}}(h);A.config.emulator={url:`${oe}//${Ge}${null===It?"":`:${It}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ge,port:It,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Go(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,A)}applyActionCode(g){return function fa(y,h){return Mo.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ms(this._delegate,g)}confirmPasswordReset(g,A){return function Hi(y,h,g){return ha.apply(this,arguments)}(this._delegate,g,A)}createUserWithEmailAndPassword(g,A){var z=this;return(0,d.A)(function*(){return _s(z._delegate,function mu(y,h,g){return Qo.apply(this,arguments)}(z._delegate,g,A))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function vu(y,h){return qa.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function gl(y,h){const g=uo.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.A)(function*(){Nu(ol(),g._delegate,"operation-not-supported-in-this-environment");const A=yield function Du(y,h){return jt.apply(this,arguments)}(g._delegate,al);return A?_s(g._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function qg(y,h){Dn(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,A,z){const{next:oe,error:Ge,complete:It}=Yg(g,A,z);return this._delegate.onAuthStateChanged(oe,Ge,It)}onIdTokenChanged(g,A,z){const{next:oe,error:Ge,complete:It}=Yg(g,A,z);return this._delegate.onIdTokenChanged(oe,Ge,It)}sendSignInLinkToEmail(g,A){return function Po(y,h,g){return pa.apply(this,arguments)}(this._delegate,g,A)}sendPasswordResetEmail(g,A){return function ki(y,h,g){return go.apply(this,arguments)}(this._delegate,g,A||void 0)}setPersistence(g){var A=this;return(0,d.A)(function*(){let z;switch(function Pl(y,h){ru(Object.values(vs).includes(h),y,"invalid-persistence-type"),(0,J.lV)()?ru(h!==vs.SESSION,y,"unsupported-persistence-type"):(0,J.Ll)()?ru(h===vs.NONE,y,"unsupported-persistence-type"):Nc()?ru(h===vs.NONE||h===vs.LOCAL&&(0,J.zW)(),y,"unsupported-persistence-type"):ru(h===vs.NONE||il(),y,"unsupported-persistence-type")}(A._delegate,g),g){case vs.SESSION:z=Vi;break;case vs.LOCAL:z=(yield En(Wl)._isAvailable())?Wl:qs;break;case vs.NONE:z=Sr;break;default:return me("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return _s(this._delegate,function Ls(y){return ws.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return _s(this._delegate,co(this._delegate,g))}signInWithCustomToken(g){return _s(this._delegate,function Xo(y,h){return Rs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,A){return _s(this._delegate,function Bl(y,h,g){return(0,Y._isFirebaseServerApp)(y.app)?Promise.reject(nt(y)):co((0,J.Ku)(y),Fs.credential(h,g)).catch(function(){var A=(0,d.A)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&fr(y),z});return function(z){return A.apply(this,arguments)}}())}(this._delegate,g,A))}signInWithEmailLink(g,A){return _s(this._delegate,function Ka(y,h,g){return mo.apply(this,arguments)}(this._delegate,g,A))}signInWithPhoneNumber(g,A){return $a(this._delegate,function ko(y,h,g){return Fo.apply(this,arguments)}(this._delegate,g,A))}signInWithPopup(g){var A=this;return(0,d.A)(function*(){return Nu(ol(),A._delegate,"operation-not-supported-in-this-environment"),_s(A._delegate,function mc(y,h,g){return vc.apply(this,arguments)}(A._delegate,g,al))})()}signInWithRedirect(g){var A=this;return(0,d.A)(function*(){return Nu(ol(),A._delegate,"operation-not-supported-in-this-environment"),yield kc(A._delegate),Ih(A._delegate,g,al)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function pl(y,h){return Ul.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=vs,y})();function Yg(y,h,g){let A=y;"function"!=typeof y&&({next:A,error:h,complete:g}=y);const z=A;return{next:Ge=>z(Ge&&ll.getOrCreate(Ge)),error:h,complete:g}}function Hh(y,h){const g=function Bh(y,h){const g=Qg();if(!g)return[];const A=lt(Oc,y,h);switch(g.getItem(A)){case vs.NONE:return[Sr];case vs.LOCAL:return[Wl,Vi];case vs.SESSION:return[Vi];default:return[]}}(y,h);if(typeof self<"u"&&!g.includes(Wl)&&g.push(Wl),typeof window<"u")for(const A of[qs,Vi])g.includes(A)||g.push(A);return g.includes(Sr)||g.push(Sr),g}class ra{constructor(){this.providerId="phone",this._delegate=new Kl(ho(f.A.auth()))}static credential(h,g){return Kl.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}ra.PHONE_SIGN_IN_METHOD=Kl.PHONE_SIGN_IN_METHOD,ra.PROVIDER_ID=Kl.PROVIDER_ID;const Ou=xe;class rp{constructor(h,g,A=f.A.app()){var z;Ou(null===(z=A.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new no(A.auth(),h,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zv(y){y.INTERNAL.registerComponent(new ve.uA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),A=h.getProvider("auth");return new ul(g,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fs,FacebookAuthProvider:Ko,GithubAuthProvider:la,GoogleAuthProvider:Yi,OAuthProvider:ls,SAMLAuthProvider:qo,PhoneAuthProvider:ra,PhoneMultiFactorGenerator:qf,RecaptchaVerifier:rp,TwitterAuthProvider:Ro,Auth:ul,AuthCredential:jr,Error:J.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.14")}(f.A)},467:(dn,pt,k)=>{"use strict";function d(Y,J,se,he,ve,Oe,Be){try{var fe=Y[Oe](Be),ue=fe.value}catch(Se){return void se(Se)}fe.done?J(ue):Promise.resolve(ue).then(he,ve)}function f(Y){return function(){var J=this,se=arguments;return new Promise(function(he,ve){var Oe=Y.apply(J,se);function Be(ue){d(Oe,he,ve,Be,fe,"next",ue)}function fe(ue){d(Oe,he,ve,Be,fe,"throw",ue)}Be(void 0)})}}k.d(pt,{A:()=>f})},9842:(dn,pt,k)=>{"use strict";function d(se){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(se)}function J(se,he,ve){return(he=function Y(se){var he=function f(se,he){if("object"!=d(se)||!se)return se;var ve=se[Symbol.toPrimitive];if(void 0!==ve){var Oe=ve.call(se,he||"default");if("object"!=d(Oe))return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===he?String:Number)(se)}(se,"string");return"symbol"==d(he)?he:he+""}(he))in se?Object.defineProperty(se,he,{value:ve,enumerable:!0,configurable:!0,writable:!0}):se[he]=ve,se}k.d(pt,{A:()=>J})},1635:(dn,pt,k)=>{"use strict";function J(Z,Ce){var Xe={};for(var je in Z)Object.prototype.hasOwnProperty.call(Z,je)&&Ce.indexOf(je)<0&&(Xe[je]=Z[je]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(je=Object.getOwnPropertySymbols(Z);Re<je.length;Re++)Ce.indexOf(je[Re])<0&&Object.prototype.propertyIsEnumerable.call(Z,je[Re])&&(Xe[je[Re]]=Z[je[Re]])}return Xe}function se(Z,Ce,Xe,je){var rt,Re=arguments.length,et=Re<3?Ce:null===je?je=Object.getOwnPropertyDescriptor(Ce,Xe):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)et=Reflect.decorate(Z,Ce,Xe,je);else for(var Tt=Z.length-1;Tt>=0;Tt--)(rt=Z[Tt])&&(et=(Re<3?rt(et):Re>3?rt(Ce,Xe,et):rt(Ce,Xe))||et);return Re>3&&et&&Object.defineProperty(Ce,Xe,et),et}function Se(Z,Ce,Xe,je){return new(Xe||(Xe=Promise))(function(et,rt){function Tt(rn){try{at(je.next(rn))}catch(hn){rt(hn)}}function yn(rn){try{at(je.throw(rn))}catch(hn){rt(hn)}}function at(rn){rn.done?et(rn.value):function Re(et){return et instanceof Xe?et:new Xe(function(rt){rt(et)})}(rn.value).then(Tt,yn)}at((je=je.apply(Z,Ce||[])).next())})}function pe(Z){return this instanceof pe?(this.v=Z,this):new pe(Z)}function me(Z,Ce,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,je=Xe.apply(Z,Ce||[]),et=[];return Re=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Tt("next"),Tt("throw"),Tt("return",function rt(Nt){return function(qt){return Promise.resolve(qt).then(Nt,hn)}}),Re[Symbol.asyncIterator]=function(){return this},Re;function Tt(Nt,qt){je[Nt]&&(Re[Nt]=function(xn){return new Promise(function(zt,Me){et.push([Nt,xn,zt,Me])>1||yn(Nt,xn)})},qt&&(Re[Nt]=qt(Re[Nt])))}function yn(Nt,qt){try{!function at(Nt){Nt.value instanceof pe?Promise.resolve(Nt.value.v).then(rn,hn):Sn(et[0][2],Nt)}(je[Nt](qt))}catch(xn){Sn(et[0][3],xn)}}function rn(Nt){yn("next",Nt)}function hn(Nt){yn("throw",Nt)}function Sn(Nt,qt){Nt(qt),et.shift(),et.length&&yn(et[0][0],et[0][1])}}function tt(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ce=Z[Symbol.asyncIterator];return Ce?Ce.call(Z):(Z=function it(Z){var Ce="function"==typeof Symbol&&Symbol.iterator,Xe=Ce&&Z[Ce],je=0;if(Xe)return Xe.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&je>=Z.length&&(Z=void 0),{value:Z&&Z[je++],done:!Z}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),Xe={},je("next"),je("throw"),je("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function je(et){Xe[et]=Z[et]&&function(rt){return new Promise(function(Tt,yn){!function Re(et,rt,Tt,yn){Promise.resolve(yn).then(function(at){et({value:at,done:Tt})},rt)}(Tt,yn,(rt=Z[et](rt)).done,rt.value)})}}}k.d(pt,{AQ:()=>me,Cg:()=>se,N3:()=>pe,Tt:()=>J,sH:()=>Se,xN:()=>tt}),"function"==typeof SuppressedError&&SuppressedError}},dn=>{dn(dn.s=3656)}]);